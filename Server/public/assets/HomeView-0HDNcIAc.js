import{i as Me,f as Rt,g as ee,w as Z,o as he,a as de,r as $,c as g,d as Ft,b as Le,e as At,s as Ne,n as ie,h as dt,j as Tt,k as Pt,l as b,p as be,u as ze,m as Ue,Q as ce,q as ft,t as J,T as Ve,v as It,x as Qe,y as X,z as Ye,A as Ot,B as ne,C as Ee,D as Nt,_ as Re,E as Dt,F as K,G as ae,H,I as pe,J as G,K as ve,L as oe,M as Be,N as T,O as vt,P as jt,R as fe,S as Lt,U as zt,V as Ut,W as Qt,X as gt,Y as mt,Z as ht,$ as bt,a0 as Ht,a1 as Te,a2 as Kt,a3 as Zt,a4 as _e,a5 as He,a6 as Wt,a7 as Gt,a8 as Yt,a9 as pt,aa as Jt,ab as Xt,ac as el,ad as tl,ae as ll,af as nl,ag as yt,ah as ol,ai as kt,aj as al,ak as il,al as rl}from"./index-bO6GNKlk.js";function ul({validate:e,resetValidation:t,requiresQForm:l}){const n=Me(Rt,!1);if(n!==!1){const{props:s,proxy:u}=ee();Object.assign(u,{validate:e,resetValidation:t}),Z(()=>s.disable,o=>{o===!0?(typeof t=="function"&&t(),n.unbindComponent(u)):n.bindComponent(u)}),he(()=>{s.disable!==!0&&n.bindComponent(u)}),de(()=>{s.disable!==!0&&n.unbindComponent(u)})}else l===!0&&console.error("Parent QForm not found on useFormChild()!")}const Je=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Xe=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,et=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,ke=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,xe=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Pe={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Je.test(e),hexaColor:e=>Xe.test(e),hexOrHexaColor:e=>et.test(e),rgbColor:e=>ke.test(e),rgbaColor:e=>xe.test(e),rgbOrRgbaColor:e=>ke.test(e)||xe.test(e),hexOrRgbColor:e=>Je.test(e)||ke.test(e),hexaOrRgbaColor:e=>Xe.test(e)||xe.test(e),anyColor:e=>et.test(e)||ke.test(e)||xe.test(e)},sl=[!0,!1,"ondemand"],cl={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>sl.includes(e)}};function dl(e,t){const{props:l,proxy:n}=ee(),s=$(!1),u=$(null),o=$(null);ul({validate:q,resetValidation:k});let v=0,p;const x=g(()=>l.rules!==void 0&&l.rules!==null&&l.rules.length!==0),h=g(()=>l.disable!==!0&&x.value===!0),c=g(()=>l.error===!0||s.value===!0),y=g(()=>typeof l.errorMessage=="string"&&l.errorMessage.length!==0?l.errorMessage:u.value);Z(()=>l.modelValue,()=>{R()}),Z(()=>l.reactiveRules,V=>{V===!0?p===void 0&&(p=Z(()=>l.rules,()=>{R(!0)})):p!==void 0&&(p(),p=void 0)},{immediate:!0}),Z(e,V=>{V===!0?o.value===null&&(o.value=!1):o.value===!1&&(o.value=!0,h.value===!0&&l.lazyRules!=="ondemand"&&t.value===!1&&O())});function k(){v++,t.value=!1,o.value=null,s.value=!1,u.value=null,O.cancel()}function q(V=l.modelValue){if(h.value!==!0)return!0;const _=++v,U=t.value!==!0?()=>{o.value=!0}:()=>{},j=(A,M)=>{A===!0&&U(),s.value=A,u.value=M||null,t.value=!1},L=[];for(let A=0;A<l.rules.length;A++){const M=l.rules[A];let w;if(typeof M=="function"?w=M(V,Pe):typeof M=="string"&&Pe[M]!==void 0&&(w=Pe[M](V)),w===!1||typeof w=="string")return j(!0,w),!1;w!==!0&&w!==void 0&&L.push(w)}return L.length===0?(j(!1),!0):(t.value=!0,Promise.all(L).then(A=>{if(A===void 0||Array.isArray(A)===!1||A.length===0)return _===v&&j(!1),!0;const M=A.find(w=>w===!1||typeof w=="string");return _===v&&j(M!==void 0,M),M===void 0},A=>(_===v&&(console.error(A),j(!0)),!1)))}function R(V){h.value===!0&&l.lazyRules!=="ondemand"&&(o.value===!0||l.lazyRules!==!0&&V!==!0)&&O()}const O=Ft(q,0);return de(()=>{p!==void 0&&p(),O.cancel()}),Object.assign(n,{resetValidation:k,validate:q}),Le(n,"hasError",()=>c.value),{isDirtyModel:o,hasRules:x,hasError:c,errorMessage:y,validate:q,resetValidation:k}}const tt=/^on[A-Z]/;function fl(e,t){const l={listeners:$({}),attributes:$({})};function n(){const s={},u={};for(const o in e)o!=="class"&&o!=="style"&&tt.test(o)===!1&&(s[o]=e[o]);for(const o in t.props)tt.test(o)===!0&&(u[o]=t.props[o]);l.attributes.value=s,l.listeners.value=u}return At(n),n(),l}let Ie,we=0;const W=new Array(256);for(let e=0;e<256;e++)W[e]=(e+256).toString(16).substring(1);const vl=(()=>{const e=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const l=new Uint8Array(t);return e.getRandomValues(l),l}}return t=>{const l=[];for(let n=t;n>0;n--)l.push(Math.floor(Math.random()*256));return l}})(),lt=4096;function Ke(){(Ie===void 0||we+16>lt)&&(we=0,Ie=vl(lt));const e=Array.prototype.slice.call(Ie,we,we+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,W[e[0]]+W[e[1]]+W[e[2]]+W[e[3]]+"-"+W[e[4]]+W[e[5]]+"-"+W[e[6]]+W[e[7]]+"-"+W[e[8]]+W[e[9]]+"-"+W[e[10]]+W[e[11]]+W[e[12]]+W[e[13]]+W[e[14]]+W[e[15]]}let re=[],ye=[];function xt(e){ye=ye.filter(t=>t!==e)}function gl(e){xt(e),ye.push(e)}function nt(e){xt(e),ye.length===0&&re.length!==0&&(re[re.length-1](),re=[])}function Ze(e){ye.length===0?e():re.push(e)}function ml(e){re=re.filter(t=>t!==e)}function wt(e,t){return e===void 0?t===!0?`f_${Ke()}`:void 0:e}function De(e){return e!=null&&(""+e).length!==0}const hl={...ze,...cl,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},bl=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function pl({requiredForAttr:e=!0,tagProp:t}={}){const{props:l,attrs:n,proxy:s,vnode:u}=ee(),o=Ue(l,s.$q);return{requiredForAttr:e,tag:t===!0?g(()=>l.tag):{value:"label"},isDark:o,editable:g(()=>l.disable!==!0&&l.readonly!==!0),innerLoading:$(!1),focused:$(!1),hasPopupOpen:!1,splitAttrs:fl(n,u),targetUid:$(wt(l.for,e)),rootRef:$(null),targetRef:$(null),controlRef:$(null)}}function yl(e){const{props:t,emit:l,slots:n,attrs:s,proxy:u}=ee(),{$q:o}=u;let v=null;e.hasValue===void 0&&(e.hasValue=g(()=>De(t.modelValue))),e.emitValue===void 0&&(e.emitValue=d=>{l("update:modelValue",d)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:r,onFocusout:i}),Object.assign(e,{clearValue:m,onControlFocusin:r,onControlFocusout:i,focus:M}),e.computedCounter===void 0&&(e.computedCounter=g(()=>{if(t.counter!==!1){const d=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,F=t.maxlength!==void 0?t.maxlength:t.maxValues;return d+(F!==void 0?" / "+F:"")}}));const{isDirtyModel:p,hasRules:x,hasError:h,errorMessage:c,resetValidation:y}=dl(e.focused,e.innerLoading),k=e.floatingLabel!==void 0?g(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):g(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),q=g(()=>t.bottomSlots===!0||t.hint!==void 0||x.value===!0||t.counter===!0||t.error!==null),R=g(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),O=g(()=>`q-field row no-wrap items-start q-field--${R.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(k.value===!0?" q-field--float":"")+(_.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(h.value===!0?" q-field--error":"")+(h.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&q.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),V=g(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(h.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),_=g(()=>t.labelSlot===!0||t.label!==void 0),U=g(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&h.value!==!0?` text-${t.labelColor}`:"")),j=g(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:k.value,modelValue:t.modelValue,emitValue:e.emitValue})),L=g(()=>{const d={for:e.targetUid.value};return t.disable===!0?d["aria-disabled"]="true":t.readonly===!0&&(d["aria-readonly"]="true"),d});Z(()=>t.for,d=>{e.targetUid.value=wt(d,e.requiredForAttr)});function A(){const d=document.activeElement;let F=e.targetRef!==void 0&&e.targetRef.value;F&&(d===null||d.id!==e.targetUid.value)&&(F.hasAttribute("tabindex")===!0||(F=F.querySelector("[tabindex]")),F&&F!==d&&F.focus({preventScroll:!0}))}function M(){Ze(A)}function w(){ml(A);const d=document.activeElement;d!==null&&e.rootRef.value.contains(d)&&d.blur()}function r(d){v!==null&&(clearTimeout(v),v=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,l("focus",d))}function i(d,F){v!==null&&clearTimeout(v),v=setTimeout(()=>{v=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,l("blur",d)),F!==void 0&&F())})}function m(d){Ne(d),o.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),l("update:modelValue",null),l("clear",t.modelValue),ie(()=>{y(),o.platform.is.mobile!==!0&&(p.value=!1)})}function a(){const d=[];return n.prepend!==void 0&&d.push(b("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:be},n.prepend())),d.push(b("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},C())),h.value===!0&&t.noErrorIcon===!1&&d.push(N("error",[b(ce,{name:o.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?d.push(N("inner-loading-append",n.loading!==void 0?n.loading():[b(ft,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&d.push(N("inner-clearable-append",[b(ce,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||o.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:m})])),n.append!==void 0&&d.push(b("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:be},n.append())),e.getInnerAppend!==void 0&&d.push(N("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&d.push(e.getControlChild()),d}function C(){const d=[];return t.prefix!==void 0&&t.prefix!==null&&d.push(b("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&d.push(e.getShadowControl()),e.getControl!==void 0?d.push(e.getControl()):n.rawControl!==void 0?d.push(n.rawControl()):n.control!==void 0&&d.push(b("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},n.control(j.value))),_.value===!0&&d.push(b("div",{class:U.value},J(n.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&d.push(b("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),d.concat(J(n.default))}function B(){let d,F;h.value===!0?c.value!==null?(d=[b("div",{role:"alert"},c.value)],F=`q--slot-error-${c.value}`):(d=J(n.error),F="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(d=[b("div",t.hint)],F=`q--slot-hint-${t.hint}`):(d=J(n.hint),F="q--slot-hint"));const Y=t.counter===!0||n.counter!==void 0;if(t.hideBottomSpace===!0&&Y===!1&&d===void 0)return;const P=b("div",{key:F,class:"q-field__messages col"},d);return b("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:be},[t.hideBottomSpace===!0?P:b(Ve,{name:"q-transition--field-message"},()=>P),Y===!0?b("div",{class:"q-field__counter"},n.counter!==void 0?n.counter():e.computedCounter.value):null])}function N(d,F){return F===null?null:b("div",{key:d,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},F)}let E=!1;return dt(()=>{E=!0}),Tt(()=>{E===!0&&t.autofocus===!0&&u.focus()}),he(()=>{Pt.value===!0&&e.requiredForAttr===!0&&t.for===void 0&&(e.targetUid.value=`f_${Ke()}`),t.autofocus===!0&&u.focus()}),de(()=>{v!==null&&clearTimeout(v)}),Object.assign(u,{focus:M,blur:w}),function(){const F=e.getControl===void 0&&n.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...L.value}:L.value;return b(e.tag.value,{ref:e.rootRef,class:[O.value,s.class],style:s.style,...F},[n.before!==void 0?b("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:be},n.before()):null,b("div",{class:"q-field__inner relative-position col self-stretch"},[b("div",{ref:e.controlRef,class:V.value,tabindex:-1,...e.controlEvents},a()),q.value===!0?B():null]),n.after!==void 0?b("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:be},n.after()):null])}}const ot={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},$e={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Ct=Object.keys($e);Ct.forEach(e=>{$e[e].regex=new RegExp($e[e].pattern)});const kl=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Ct.join("")+"])|(.)","g"),at=/[.*+?^${}()|[\]\\]/g,Q="",xl={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function wl(e,t,l,n){let s,u,o,v,p,x;const h=$(null),c=$(k());function y(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}Z(()=>e.type+e.autogrow,R),Z(()=>e.mask,r=>{if(r!==void 0)O(c.value,!0);else{const i=M(c.value);R(),e.modelValue!==i&&t("update:modelValue",i)}}),Z(()=>e.fillMask+e.reverseFillMask,()=>{h.value===!0&&O(c.value,!0)}),Z(()=>e.unmaskedValue,()=>{h.value===!0&&O(c.value)});function k(){if(R(),h.value===!0){const r=L(M(e.modelValue));return e.fillMask!==!1?w(r):r}return e.modelValue}function q(r){if(r<s.length)return s.slice(-r);let i="",m=s;const a=m.indexOf(Q);if(a>-1){for(let C=r-m.length;C>0;C--)i+=Q;m=m.slice(0,a)+i+m.slice(a)}return m}function R(){if(h.value=e.mask!==void 0&&e.mask.length!==0&&y(),h.value===!1){v=void 0,s="",u="";return}const r=ot[e.mask]===void 0?e.mask:ot[e.mask],i=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",m=i.replace(at,"\\$&"),a=[],C=[],B=[];let N=e.reverseFillMask===!0,E="",d="";r.replace(kl,(z,f,D,te,S)=>{if(te!==void 0){const I=$e[te];B.push(I),d=I.negate,N===!0&&(C.push("(?:"+d+"+)?("+I.pattern+"+)?(?:"+d+"+)?("+I.pattern+"+)?"),N=!1),C.push("(?:"+d+"+)?("+I.pattern+")?")}else if(D!==void 0)E="\\"+(D==="\\"?"":D),B.push(D),a.push("([^"+E+"]+)?"+E+"?");else{const I=f!==void 0?f:S;E=I==="\\"?"\\\\\\\\":I.replace(at,"\\\\$&"),B.push(I),a.push("([^"+E+"]+)?"+E+"?")}});const F=new RegExp("^"+a.join("")+"("+(E===""?".":"[^"+E+"]")+"+)?"+(E===""?"":"["+E+"]*")+"$"),Y=C.length-1,P=C.map((z,f)=>f===0&&e.reverseFillMask===!0?new RegExp("^"+m+"*"+z):f===Y?new RegExp("^"+z+"("+(d===""?".":d)+"+)?"+(e.reverseFillMask===!0?"$":m+"*")):new RegExp("^"+z));o=B,v=z=>{const f=F.exec(e.reverseFillMask===!0?z:z.slice(0,B.length+1));f!==null&&(z=f.slice(1).join(""));const D=[],te=P.length;for(let S=0,I=z;S<te;S++){const le=P[S].exec(I);if(le===null)break;I=I.slice(le.shift().length),D.push(...le)}return D.length!==0?D.join(""):z},s=B.map(z=>typeof z=="string"?z:Q).join(""),u=s.split(Q).join(i)}function O(r,i,m){const a=n.value,C=a.selectionEnd,B=a.value.length-C,N=M(r);i===!0&&R();const E=L(N),d=e.fillMask!==!1?w(E):E,F=c.value!==d;a.value!==d&&(a.value=d),F===!0&&(c.value=d),document.activeElement===a&&ie(()=>{if(d===u){const P=e.reverseFillMask===!0?u.length:0;a.setSelectionRange(P,P,"forward");return}if(m==="insertFromPaste"&&e.reverseFillMask!==!0){const P=a.selectionEnd;let z=C-1;for(let f=p;f<=z&&f<P;f++)s[f]!==Q&&z++;_.right(a,z);return}if(["deleteContentBackward","deleteContentForward"].indexOf(m)>-1){const P=e.reverseFillMask===!0?C===0?d.length>E.length?1:0:Math.max(0,d.length-(d===u?0:Math.min(E.length,B)+1))+1:C;a.setSelectionRange(P,P,"forward");return}if(e.reverseFillMask===!0)if(F===!0){const P=Math.max(0,d.length-(d===u?0:Math.min(E.length,B+1)));P===1&&C===1?a.setSelectionRange(P,P,"forward"):_.rightReverse(a,P)}else{const P=d.length-B;a.setSelectionRange(P,P,"backward")}else if(F===!0){const P=Math.max(0,s.indexOf(Q),Math.min(E.length,C)-1);_.right(a,P)}else{const P=C-1;_.right(a,P)}});const Y=e.unmaskedValue===!0?M(d):d;String(e.modelValue)!==Y&&(e.modelValue!==null||Y!=="")&&l(Y,!0)}function V(r,i,m){const a=L(M(r.value));i=Math.max(0,s.indexOf(Q),Math.min(a.length,i)),p=i,r.setSelectionRange(i,m,"forward")}const _={left(r,i){const m=s.slice(i-1).indexOf(Q)===-1;let a=Math.max(0,i-1);for(;a>=0;a--)if(s[a]===Q){i=a,m===!0&&i++;break}if(a<0&&s[i]!==void 0&&s[i]!==Q)return _.right(r,0);i>=0&&r.setSelectionRange(i,i,"backward")},right(r,i){const m=r.value.length;let a=Math.min(m,i+1);for(;a<=m;a++)if(s[a]===Q){i=a;break}else s[a-1]===Q&&(i=a);if(a>m&&s[i-1]!==void 0&&s[i-1]!==Q)return _.left(r,m);r.setSelectionRange(i,i,"forward")},leftReverse(r,i){const m=q(r.value.length);let a=Math.max(0,i-1);for(;a>=0;a--)if(m[a-1]===Q){i=a;break}else if(m[a]===Q&&(i=a,a===0))break;if(a<0&&m[i]!==void 0&&m[i]!==Q)return _.rightReverse(r,0);i>=0&&r.setSelectionRange(i,i,"backward")},rightReverse(r,i){const m=r.value.length,a=q(m),C=a.slice(0,i+1).indexOf(Q)===-1;let B=Math.min(m,i+1);for(;B<=m;B++)if(a[B-1]===Q){i=B,i>0&&C===!0&&i--;break}if(B>m&&a[i-1]!==void 0&&a[i-1]!==Q)return _.leftReverse(r,m);r.setSelectionRange(i,i,"forward")}};function U(r){t("click",r),x=void 0}function j(r){if(t("keydown",r),It(r)===!0||r.altKey===!0)return;const i=n.value,m=i.selectionStart,a=i.selectionEnd;if(r.shiftKey||(x=void 0),r.keyCode===37||r.keyCode===39){r.shiftKey&&x===void 0&&(x=i.selectionDirection==="forward"?m:a);const C=_[(r.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(r.preventDefault(),C(i,x===m?a:m),r.shiftKey){const B=i.selectionStart;i.setSelectionRange(Math.min(x,B),Math.max(x,B),"forward")}}else r.keyCode===8&&e.reverseFillMask!==!0&&m===a?(_.left(i,m),i.setSelectionRange(i.selectionStart,a,"backward")):r.keyCode===46&&e.reverseFillMask===!0&&m===a&&(_.rightReverse(i,a),i.setSelectionRange(m,i.selectionEnd,"forward"))}function L(r){if(r==null||r==="")return"";if(e.reverseFillMask===!0)return A(r);const i=o;let m=0,a="";for(let C=0;C<i.length;C++){const B=r[m],N=i[C];if(typeof N=="string")a+=N,B===N&&m++;else if(B!==void 0&&N.regex.test(B))a+=N.transform!==void 0?N.transform(B):B,m++;else return a}return a}function A(r){const i=o,m=s.indexOf(Q);let a=r.length-1,C="";for(let B=i.length-1;B>=0&&a>-1;B--){const N=i[B];let E=r[a];if(typeof N=="string")C=N+C,E===N&&a--;else if(E!==void 0&&N.regex.test(E))do C=(N.transform!==void 0?N.transform(E):E)+C,a--,E=r[a];while(m===B&&E!==void 0&&N.regex.test(E));else return C}return C}function M(r){return typeof r!="string"||v===void 0?typeof r=="number"?v(""+r):r:v(r)}function w(r){return u.length-r.length<=0?r:e.reverseFillMask===!0&&r.length!==0?u.slice(0,-r.length)+r:r+u.slice(r.length)}return{innerValue:c,hasMask:h,moveCursorForPaste:V,updateMaskValue:O,onMaskedKeydown:j,onMaskedClick:U}}const We={name:String};function _t(e={}){return(t,l,n)=>{t[l](b("input",{class:"hidden"+(n||""),...e.value}))}}function Cl(e){return g(()=>e.name||e.for)}function _l(e,t){function l(){const n=e.modelValue;try{const s="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(n)===n&&("length"in n?Array.from(n):[n]).forEach(u=>{s.items.add(u)}),{files:s.files}}catch{return{files:void 0}}}return t===!0?g(()=>{if(e.type==="file")return l()}):g(l)}const Sl=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,ql=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Vl=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Bl=/[a-z0-9_ -]$/i;function $l(e){return function(l){if(l.type==="compositionend"||l.type==="change"){if(l.target.qComposing!==!0)return;l.target.qComposing=!1,e(l)}else l.type==="compositionupdate"&&l.target.qComposing!==!0&&typeof l.data=="string"&&(Qe.is.firefox===!0?Bl.test(l.data)===!1:Sl.test(l.data)===!0||ql.test(l.data)===!0||Vl.test(l.data)===!0)===!0&&(l.target.qComposing=!0)}}const Se=X({name:"QInput",inheritAttrs:!1,props:{...hl,...xl,...We,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...bl,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:l}){const{proxy:n}=ee(),{$q:s}=n,u={};let o=NaN,v,p,x=null,h;const c=$(null),y=Cl(e),{innerValue:k,hasMask:q,moveCursorForPaste:R,updateMaskValue:O,onMaskedKeydown:V,onMaskedClick:_}=wl(e,t,E,c),U=_l(e,!0),j=g(()=>De(k.value)),L=$l(B),A=pl(),M=g(()=>e.type==="textarea"||e.autogrow===!0),w=g(()=>M.value===!0||["text","search","url","tel","password"].includes(e.type)),r=g(()=>{const f={...A.splitAttrs.listeners.value,onInput:B,onPaste:C,onChange:F,onBlur:Y,onFocus:Ye};return f.onCompositionstart=f.onCompositionupdate=f.onCompositionend=L,q.value===!0&&(f.onKeydown=V,f.onClick=_),e.autogrow===!0&&(f.onAnimationend=N),f}),i=g(()=>{const f={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:y.value,...A.splitAttrs.attributes.value,id:A.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return M.value===!1&&(f.type=e.type),e.autogrow===!0&&(f.rows=1),f});Z(()=>e.type,()=>{c.value&&(c.value.value=e.modelValue)}),Z(()=>e.modelValue,f=>{if(q.value===!0){if(p===!0&&(p=!1,String(f)===o))return;O(f)}else k.value!==f&&(k.value=f,e.type==="number"&&u.hasOwnProperty("value")===!0&&(v===!0?v=!1:delete u.value));e.autogrow===!0&&ie(d)}),Z(()=>e.autogrow,f=>{f===!0?ie(d):c.value!==null&&l.rows>0&&(c.value.style.height="auto")}),Z(()=>e.dense,()=>{e.autogrow===!0&&ie(d)});function m(){Ze(()=>{const f=document.activeElement;c.value!==null&&c.value!==f&&(f===null||f.id!==A.targetUid.value)&&c.value.focus({preventScroll:!0})})}function a(){c.value!==null&&c.value.select()}function C(f){if(q.value===!0&&e.reverseFillMask!==!0){const D=f.target;R(D,D.selectionStart,D.selectionEnd)}t("paste",f)}function B(f){if(!f||!f.target)return;if(e.type==="file"){t("update:modelValue",f.target.files);return}const D=f.target.value;if(f.target.qComposing===!0){u.value=D;return}if(q.value===!0)O(D,!1,f.inputType);else if(E(D),w.value===!0&&f.target===document.activeElement){const{selectionStart:te,selectionEnd:S}=f.target;te!==void 0&&S!==void 0&&ie(()=>{f.target===document.activeElement&&D.indexOf(f.target.value)===0&&f.target.setSelectionRange(te,S)})}e.autogrow===!0&&d()}function N(f){t("animationend",f),d()}function E(f,D){h=()=>{x=null,e.type!=="number"&&u.hasOwnProperty("value")===!0&&delete u.value,e.modelValue!==f&&o!==f&&(o=f,D===!0&&(p=!0),t("update:modelValue",f),ie(()=>{o===f&&(o=NaN)})),h=void 0},e.type==="number"&&(v=!0,u.value=f),e.debounce!==void 0?(x!==null&&clearTimeout(x),u.value=f,x=setTimeout(h,e.debounce)):h()}function d(){requestAnimationFrame(()=>{const f=c.value;if(f!==null){const D=f.parentNode.style,{scrollTop:te}=f,{overflowY:S,maxHeight:I}=s.platform.is.firefox===!0?{}:window.getComputedStyle(f),le=S!==void 0&&S!=="scroll";le===!0&&(f.style.overflowY="hidden"),D.marginBottom=f.scrollHeight-1+"px",f.style.height="1px",f.style.height=f.scrollHeight+"px",le===!0&&(f.style.overflowY=parseInt(I,10)<f.scrollHeight?"auto":"hidden"),D.marginBottom="",f.scrollTop=te}})}function F(f){L(f),x!==null&&(clearTimeout(x),x=null),h!==void 0&&h(),t("change",f.target.value)}function Y(f){f!==void 0&&Ye(f),x!==null&&(clearTimeout(x),x=null),h!==void 0&&h(),v=!1,p=!1,delete u.value,e.type!=="file"&&setTimeout(()=>{c.value!==null&&(c.value.value=k.value!==void 0?k.value:"")})}function P(){return u.hasOwnProperty("value")===!0?u.value:k.value!==void 0?k.value:""}de(()=>{Y()}),he(()=>{e.autogrow===!0&&d()}),Object.assign(A,{innerValue:k,fieldClass:g(()=>`q-${M.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:g(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:c,emitValue:E,hasValue:j,floatingLabel:g(()=>j.value===!0&&(e.type!=="number"||isNaN(k.value)===!1)||De(e.displayValue)),getControl:()=>b(M.value===!0?"textarea":"input",{ref:c,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...i.value,...r.value,...e.type!=="file"?{value:P()}:U.value}),getShadowControl:()=>b("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(M.value===!0?"":" text-no-wrap")},[b("span",{class:"invisible"},P()),b("span",e.shadowText)])});const z=yl(A);return Object.assign(n,{focus:m,select:a,getNativeElement:()=>c.value}),Le(n,"nativeEl",()=>c.value),z}}),Ml=X({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const l=g(()=>{const n=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(s=>e[s]===!0).map(s=>`q-btn-group--${s}`).join(" ");return`q-btn-group row no-wrap${n.length!==0?" "+n:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>b("div",{class:l.value},J(t.default))}}),El=X({name:"QBtnToggle",props:{...We,modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(t=>("label"in t||"icon"in t||"slot"in t)&&"value"in t)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(e,{slots:t,emit:l}){const n=g(()=>e.options.find(y=>y.value===e.modelValue)!==void 0),s=g(()=>({type:"hidden",name:e.name,value:e.modelValue})),u=_t(s),o=g(()=>Ot(e)),v=g(()=>({rounded:e.rounded,dense:e.dense,...o.value})),p=g(()=>e.options.map((y,k)=>{const{attrs:q,value:R,slot:O,...V}=y;return{slot:O,props:{key:k,"aria-pressed":R===e.modelValue?"true":"false",...q,...V,...v.value,disable:e.disable===!0||V.disable===!0,color:R===e.modelValue?h(V,"toggleColor"):h(V,"color"),textColor:R===e.modelValue?h(V,"toggleTextColor"):h(V,"textColor"),noCaps:h(V,"noCaps")===!0,noWrap:h(V,"noWrap")===!0,size:h(V,"size"),padding:h(V,"padding"),ripple:h(V,"ripple"),stack:h(V,"stack")===!0,stretch:h(V,"stretch")===!0,onClick(_){x(R,y,_)}}}}));function x(y,k,q){e.readonly!==!0&&(e.modelValue===y?e.clearable===!0&&(l("update:modelValue",null,null),l("clear")):l("update:modelValue",y,k),l("click",q))}function h(y,k){return y[k]===void 0?e[k]:y[k]}function c(){const y=p.value.map(k=>b(ne,k.props,k.slot!==void 0?t[k.slot]:void 0));return e.name!==void 0&&e.disable!==!0&&n.value===!0&&u(y,"push"),Ee(t.default,y)}return()=>b(Ml,{class:"q-btn-toggle",...o.value,rounded:e.rounded,stretch:e.stretch,glossy:e.glossy,spread:e.spread},c)}}),ge=X({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const l=g(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>b(e.tag,{class:l.value},J(t.default))}}),Fe=X({name:"QCard",props:{...ze,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:l}}=ee(),n=Ue(e,l),s=g(()=>"q-card"+(n.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>b(e.tag,{class:s.value},J(t.default))}}),Rl=Nt("notesStore",()=>{const e=$([]),t=async()=>{const o=await fetch("http://localhost:3000/notes");e.value=await o.json()};return{notes:e,fetchNotes:t,addNote:async o=>{const p=await(await fetch("http://localhost:3000/notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).json();e.value.push(p)},updateNote:async(o,v)=>{await fetch(`http://localhost:3000/notes/${o}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)}),await t()},deleteNote:async o=>{await fetch(`http://localhost:3000/notes/${o}`,{method:"DELETE"}),e.value=e.value.filter(v=>v.id!==o)},uploadImage:async o=>{const v=new FormData;v.append("image",o,`note-image-${Date.now()}.jpg`);try{const p=await fetch("http://localhost:3000/upload",{method:"POST",body:v});if(!p.ok)throw new Error("Failed to upload image");return(await p.json()).filePath}catch(p){return console.error("Error uploading image:",p),null}}}}),Fl={ratio:[String,Number]};function Al(e,t){return g(()=>{const l=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(l)!==!0&&l>0?{paddingBottom:`${100/l}%`}:null})}const Tl=16/9,je=X({name:"QImg",props:{...Fl,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Tl},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:l}){const n=$(e.initialRatio),s=Al(e,n);let u=null,o=!1;const v=[$(null),$(O())],p=$(0),x=$(!1),h=$(!1),c=g(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),y=g(()=>({width:e.width,height:e.height})),k=g(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),q=g(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));Z(()=>R(),V);function R(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function O(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function V(w){u!==null&&(clearTimeout(u),u=null),h.value=!1,w===null?(x.value=!1,v[p.value^1].value=O()):x.value=!0,v[p.value].value=w}function _({target:w}){o!==!0&&(u!==null&&(clearTimeout(u),u=null),n.value=w.naturalHeight===0?.5:w.naturalWidth/w.naturalHeight,U(w,1))}function U(w,r){o===!0||r===1e3||(w.complete===!0?j(w):u=setTimeout(()=>{u=null,U(w,r+1)},50))}function j(w){o!==!0&&(p.value=p.value^1,v[p.value].value=null,x.value=!1,h.value=!1,l("load",w.currentSrc||w.src))}function L(w){u!==null&&(clearTimeout(u),u=null),x.value=!1,h.value=!0,v[p.value].value=null,v[p.value^1].value=O(),l("error",w)}function A(w){const r=v[w].value,i={key:"img_"+w,class:k.value,style:q.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...r};return p.value===w?(i.class+=" q-img__image--waiting",Object.assign(i,{onLoad:_,onError:L})):i.class+=" q-img__image--loaded",b("div",{class:"q-img__container absolute-full",key:"img"+w},b("img",i))}function M(){return x.value!==!0?b("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},J(t[h.value===!0?"error":"default"])):b("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[b(ft,{color:e.spinnerColor,size:e.spinnerSize})])}return V(R()),de(()=>{o=!0,u!==null&&(clearTimeout(u),u=null)}),()=>{const w=[];return s.value!==null&&w.push(b("div",{key:"filler",style:s.value})),h.value!==!0&&(v[0].value!==null&&w.push(A(0)),v[1].value!==null&&w.push(A(1))),w.push(b(Ve,{name:"q-transition--fade"},M)),b("div",{class:c.value,style:y.value,role:"img","aria-label":e.alt},w)}}}),Pl={key:0,class:"row items-center q-pa-md"},Il={class:"col"},Ol={class:"text-h6"},Nl={class:"text-caption text-muted-foreground ellipsis"},Dl={class:"text-h6"},jl={class:"ellipsis"},Ll={__name:"NoteCard",props:{note:Object,onClick:Function,isListView:Boolean},setup(e){return(t,l)=>{const n=Dt("q-audio");return K(),ae(Fe,{onClick:e.onClick,class:vt(["cursor-pointer hover-shadow-lg bg-card text-card-foreground",{"row items-center":e.isListView}])},{default:H(()=>[e.isListView?(K(),oe("div",Pl,[G("div",Il,[G("h3",Ol,pe(e.note.title||"Untitled"),1),G("p",Nl,pe(e.note.content),1)]),e.note.image?(K(),ae(je,{key:0,src:e.note.image||"/http://localhost:3000/public/images/daily-todo.jpg",alt:"Note image",class:"col-auto q-ml-md",style:{width:"48px",height:"58px","border-radius":"4px","object-fit":"cover"}},null,8,["src"])):ve("",!0)])):(K(),oe(Be,{key:1},[T(ge,null,{default:H(()=>[G("div",Dl,pe(e.note.title||"Untitled"),1)]),_:1}),T(ge,null,{default:H(()=>[G("div",null,[G("p",jl,pe(e.note.content),1),e.note.image?(K(),ae(je,{key:0,src:e.note.image||"/placeholder.svg",alt:"Note image",class:"q-mt-md",style:{width:"100%",height:"128px","border-radius":"4px","object-fit":"cover"}},null,8,["src"])):ve("",!0),e.note.voiceMemo?(K(),ae(n,{key:1,src:e.note.voiceMemo,controls:"",class:"q-mt-md"},null,8,["src"])):ve("",!0)])]),_:1})],64))]),_:1},8,["onClick","class"])}}},zl=Re(Ll,[["__scopeId","data-v-65f4c2e9"]]),Ul=b("div",{class:"q-space"}),Ql=X({name:"QSpace",setup(){return()=>Ul}});function Hl(e,t){const l=$(null),n=g(()=>e.disable===!0?null:b("span",{ref:l,class:"no-outline",tabindex:-1}));function s(u){const o=t.value;u!==void 0&&u.type.indexOf("key")===0?o!==null&&document.activeElement!==o&&o.contains(document.activeElement)===!0&&o.focus():l.value!==null&&(u===void 0||o!==null&&o.contains(u.target)===!0)&&l.value.focus()}return{refocusTargetEl:n,refocusTarget:s}}const Kl={xs:30,sm:35,md:40,lg:50,xl:60},Zl={...ze,...Lt,...We,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Wl=["update:modelValue"];function Gl(e,t){const{props:l,slots:n,emit:s,proxy:u}=ee(),{$q:o}=u,v=Ue(l,o),p=$(null),{refocusTargetEl:x,refocusTarget:h}=Hl(l,p),c=jt(l,Kl),y=g(()=>l.val!==void 0&&Array.isArray(l.modelValue)),k=g(()=>{const a=fe(l.val);return y.value===!0?l.modelValue.findIndex(C=>fe(C)===a):-1}),q=g(()=>y.value===!0?k.value>-1:fe(l.modelValue)===fe(l.trueValue)),R=g(()=>y.value===!0?k.value===-1:fe(l.modelValue)===fe(l.falseValue)),O=g(()=>q.value===!1&&R.value===!1),V=g(()=>l.disable===!0?-1:l.tabindex||0),_=g(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(l.disable===!0?" disabled":"")+(v.value===!0?` q-${e}--dark`:"")+(l.dense===!0?` q-${e}--dense`:"")+(l.leftLabel===!0?" reverse":"")),U=g(()=>{const a=q.value===!0?"truthy":R.value===!0?"falsy":"indet",C=l.color!==void 0&&(l.keepColor===!0||(e==="toggle"?q.value===!0:R.value!==!0))?` text-${l.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${a}${C}`}),j=g(()=>{const a={type:"checkbox"};return l.name!==void 0&&Object.assign(a,{".checked":q.value,"^checked":q.value===!0?"checked":void 0,name:l.name,value:y.value===!0?l.val:l.trueValue}),a}),L=_t(j),A=g(()=>{const a={tabindex:V.value,role:e==="toggle"?"switch":"checkbox","aria-label":l.label,"aria-checked":O.value===!0?"mixed":q.value===!0?"true":"false"};return l.disable===!0&&(a["aria-disabled"]="true"),a});function M(a){a!==void 0&&(Ne(a),h(a)),l.disable!==!0&&s("update:modelValue",w(),a)}function w(){if(y.value===!0){if(q.value===!0){const a=l.modelValue.slice();return a.splice(k.value,1),a}return l.modelValue.concat([l.val])}if(q.value===!0){if(l.toggleOrder!=="ft"||l.toggleIndeterminate===!1)return l.falseValue}else if(R.value===!0){if(l.toggleOrder==="ft"||l.toggleIndeterminate===!1)return l.trueValue}else return l.toggleOrder!=="ft"?l.trueValue:l.falseValue;return l.indeterminateValue}function r(a){(a.keyCode===13||a.keyCode===32)&&Ne(a)}function i(a){(a.keyCode===13||a.keyCode===32)&&M(a)}const m=t(q,O);return Object.assign(u,{toggle:M}),()=>{const a=m();l.disable!==!0&&L(a,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const C=[b("div",{class:U.value,style:c.value,"aria-hidden":"true"},a)];x.value!==null&&C.push(x.value);const B=l.label!==void 0?Ee(n.default,[l.label]):J(n.default);return B!==void 0&&C.push(b("div",{class:`q-${e}__label q-anchor--skip`},B)),b("div",{ref:p,class:_.value,...A.value,onClick:M,onKeydown:r,onKeyup:i},C)}}const Yl=b("div",{key:"svg",class:"q-checkbox__bg absolute"},[b("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[b("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),b("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]),Jl=X({name:"QCheckbox",props:Zl,emits:Wl,setup(e){function t(l,n){const s=g(()=>(l.value===!0?e.checkedIcon:n.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>s.value!==null?[b("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[b(ce,{class:"q-checkbox__icon",name:s.value})])]:[Yl]}return Gl("checkbox",t)}}),St=X({name:"QCardActions",props:{...zt,vertical:Boolean},setup(e,{slots:t}){const l=Ut(e),n=g(()=>`q-card__actions ${l.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>b("div",{class:n.value},J(t.default))}}),Xl=["top","right","bottom","left"],qt={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:e=>Xl.includes(e)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function Vt(e,t){return{formClass:g(()=>`q-fab--form-${e.square===!0?"square":"rounded"}`),stacked:g(()=>e.externalLabel===!1&&["top","bottom"].includes(e.labelPosition)),labelProps:g(()=>{if(e.externalLabel===!0){const l=e.hideLabel===null?t.value===!1:e.hideLabel;return{action:"push",data:{class:[e.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${e.labelPosition}`+(l===!0?" q-fab__label--external-hidden":"")],style:e.labelStyle}}}return{action:["left","top"].includes(e.labelPosition)?"unshift":"push",data:{class:[e.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${e.labelPosition}`+(e.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:e.labelStyle}}})}}const Bt={start:"self-end",center:"self-center",end:"self-start"},en=Object.keys(Bt),Oe=X({name:"QFabAction",props:{...qt,icon:{type:String,default:""},anchor:{type:String,validator:e=>en.includes(e)},to:[String,Object],replace:Boolean},emits:["click"],setup(e,{slots:t,emit:l}){const n=Me(gt,()=>({showing:{value:!0},onChildClick:Qt})),{formClass:s,labelProps:u}=Vt(e,n.showing),o=g(()=>{const c=Bt[e.anchor];return s.value+(c!==void 0?` ${c}`:"")}),v=g(()=>e.disable===!0||n.showing.value!==!0);function p(c){n.onChildClick(c),l("click",c)}function x(){const c=[];return t.icon!==void 0?c.push(t.icon()):e.icon!==""&&c.push(b(ce,{name:e.icon})),(e.label!==""||t.label!==void 0)&&c[u.value.action](b("div",u.value.data,t.label!==void 0?t.label():[e.label])),Ee(t.default,c)}const h=ee();return Object.assign(h.proxy,{click:p}),()=>b(ne,{class:o.value,...e,noWrap:!0,stack:e.stacked,icon:void 0,label:void 0,noCaps:!0,fabMini:!0,disable:v.value,onClick:p},x)}}),tn=["up","right","down","left"],ln=["left","center","right"],nn=X({name:"QFab",props:{...qt,...mt,icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{default:null},direction:{type:String,default:"right",validator:e=>tn.includes(e)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:e=>ln.includes(e)}},emits:ht,setup(e,{slots:t}){const l=$(null),n=$(e.modelValue===!0),s=Ke(),{proxy:{$q:u}}=ee(),{formClass:o,labelProps:v}=Vt(e,n),p=g(()=>e.persistent!==!0),{hide:x,toggle:h}=bt({showing:n,hideOnRouteChange:p}),c=g(()=>({opened:n.value})),y=g(()=>`q-fab z-fab row inline justify-center q-fab--align-${e.verticalActionsAlign} ${o.value}`+(n.value===!0?" q-fab--opened":" q-fab--closed")),k=g(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${e.direction} q-fab__actions--${n.value===!0?"opened":"closed"}`),q=g(()=>{const _={id:s,role:"menu"};return n.value!==!0&&(_["aria-hidden"]="true"),_}),R=g(()=>`q-fab__icon-holder  q-fab__icon-holder--${n.value===!0?"opened":"closed"}`);function O(_,U){const j=t[_],L=`q-fab__${_} absolute-full`;return j===void 0?b(ce,{class:L,name:e[U]||u.iconSet.fab[U]}):b("div",{class:L},j(c.value))}function V(){const _=[];return e.hideIcon!==!0&&_.push(b("div",{class:R.value},[O("icon","icon"),O("active-icon","activeIcon")])),(e.label!==""||t.label!==void 0)&&_[v.value.action](b("div",v.value.data,t.label!==void 0?t.label(c.value):[e.label])),Ee(t.tooltip,_)}return Ht(gt,{showing:n,onChildClick(_){x(_),l.value!==null&&l.value.$el.focus()}}),()=>b("div",{class:y.value},[b(ne,{ref:l,class:o.value,...e,noWrap:!0,stack:e.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":n.value===!0?"true":"false","aria-haspopup":"true","aria-controls":s,onClick:h},V),b("div",{class:k.value,...q.value},J(t.default))])}}),on={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>e.length===2},expand:Boolean};function an(){const{props:e,proxy:{$q:t}}=ee(),l=Me(Kt,Te);if(l===Te)return console.error("QPageSticky needs to be child of QLayout"),Te;const n=g(()=>{const c=e.position;return{top:c.indexOf("top")>-1,right:c.indexOf("right")>-1,bottom:c.indexOf("bottom")>-1,left:c.indexOf("left")>-1,vertical:c==="top"||c==="bottom",horizontal:c==="left"||c==="right"}}),s=g(()=>l.header.offset),u=g(()=>l.right.offset),o=g(()=>l.footer.offset),v=g(()=>l.left.offset),p=g(()=>{let c=0,y=0;const k=n.value,q=t.lang.rtl===!0?-1:1;k.top===!0&&s.value!==0?y=`${s.value}px`:k.bottom===!0&&o.value!==0&&(y=`${-o.value}px`),k.left===!0&&v.value!==0?c=`${q*v.value}px`:k.right===!0&&u.value!==0&&(c=`${-q*u.value}px`);const R={transform:`translate(${c}, ${y})`};return e.offset&&(R.margin=`${e.offset[1]}px ${e.offset[0]}px`),k.vertical===!0?(v.value!==0&&(R[t.lang.rtl===!0?"right":"left"]=`${v.value}px`),u.value!==0&&(R[t.lang.rtl===!0?"left":"right"]=`${u.value}px`)):k.horizontal===!0&&(s.value!==0&&(R.top=`${s.value}px`),o.value!==0&&(R.bottom=`${o.value}px`)),R}),x=g(()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--${e.expand===!0?"expand":"shrink"}`);function h(c){const y=J(c.default);return b("div",{class:x.value,style:p.value},e.expand===!0?y:[b("div",y)])}return{$layout:l,getStickyContent:h}}const rn=X({name:"QPageSticky",props:on,setup(e,{slots:t}){const{getStickyContent:l}=an();return()=>l(t)}});function un(){let e;const t=ee();function l(){e=void 0}return dt(l),de(l),{removeTick:l,registerTick(n){e=n,ie(()=>{e===n&&(Zt(t)===!1&&e(),e=void 0)})}}}const sn={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function cn(e,t=()=>{},l=()=>{}){return{transitionProps:g(()=>{const n=`q-transition--${e.transitionShow||t()}`,s=`q-transition--${e.transitionHide||l()}`;return{appear:!0,enterFromClass:`${n}-enter-from`,enterActiveClass:`${n}-enter-active`,enterToClass:`${n}-enter-to`,leaveFromClass:`${s}-leave-from`,leaveActiveClass:`${s}-leave-active`,leaveToClass:`${s}-leave-to`}}),transitionStyle:g(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}const qe=[];function dn(e){return qe.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function fn(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return _e(e)}else if(e.__qPortal===!0){const l=_e(e);return l!==void 0&&l.$options.name==="QPopupProxy"?(e.hide(t),l):e}e=_e(e)}while(e!=null)}function vn(e,t,l){for(;l!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(l--,e.$options.name==="QMenu"){e=fn(e,t);continue}e.hide(t)}e=_e(e)}}function gn(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function mn(e,t,l,n){const s=$(!1),u=$(!1);let o=null;const v={},p=n==="dialog"&&gn(e);function x(c){if(c===!0){nt(v),u.value=!0;return}u.value=!1,s.value===!1&&(p===!1&&o===null&&(o=Gt(!1,n)),s.value=!0,qe.push(e.proxy),gl(v))}function h(c){if(u.value=!1,c!==!0)return;nt(v),s.value=!1;const y=qe.indexOf(e.proxy);y!==-1&&qe.splice(y,1),o!==null&&(Yt(o),o=null)}return He(()=>{h(!0)}),e.proxy.__qPortal=!0,Le(e.proxy,"contentEl",()=>t.value),{showPortal:x,hidePortal:h,portalIsActive:s,portalIsAccessible:u,renderPortal:()=>p===!0?l():s.value===!0?[b(Wt,{to:o},l())]:void 0}}const ue=[];let me;function hn(e){me=e.keyCode===27}function bn(){me===!0&&(me=!1)}function pn(e){me===!0&&(me=!1,pt(e,27)===!0&&ue[ue.length-1](e))}function $t(e){window[e]("keydown",hn),window[e]("blur",bn),window[e]("keyup",pn),me=!1}function yn(e){Qe.is.desktop===!0&&(ue.push(e),ue.length===1&&$t("addEventListener"))}function it(e){const t=ue.indexOf(e);t>-1&&(ue.splice(t,1),ue.length===0&&$t("removeEventListener"))}const se=[];function Mt(e){se[se.length-1](e)}function kn(e){Qe.is.desktop===!0&&(se.push(e),se.length===1&&document.body.addEventListener("focusin",Mt))}function rt(e){const t=se.indexOf(e);t>-1&&(se.splice(t,1),se.length===0&&document.body.removeEventListener("focusin",Mt))}let Ce=0;const xn={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},ut={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},st=X({name:"QDialog",inheritAttrs:!1,props:{...mt,...sn,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...ht,"shake","click","escapeKey"],setup(e,{slots:t,emit:l,attrs:n}){const s=ee(),u=$(null),o=$(!1),v=$(!1);let p=null,x=null,h,c;const y=g(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:k}=el(),{registerTimeout:q}=Jt(),{registerTick:R,removeTick:O}=un(),{transitionProps:V,transitionStyle:_}=cn(e,()=>ut[e.position][0],()=>ut[e.position][1]),{showPortal:U,hidePortal:j,portalIsAccessible:L,renderPortal:A}=mn(s,u,te,"dialog"),{hide:M}=bt({showing:o,hideOnRouteChange:y,handleShow:B,handleHide:N,processOnMount:!0}),{addToHistory:w,removeFromHistory:r}=Xt(o,M,y),i=g(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${xn[e.position]}`+(v.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),m=g(()=>o.value===!0&&e.seamless!==!0),a=g(()=>e.autoClose===!0?{onClick:z}:{}),C=g(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${m.value===!0?"modal":"seamless"}`,n.class]);Z(()=>e.maximized,S=>{o.value===!0&&P(S)}),Z(m,S=>{k(S),S===!0?(kn(D),yn(F)):(rt(D),it(F))});function B(S){w(),x=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,P(e.maximized),U(),v.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),R(E)):O(),q(()=>{if(s.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:I,bottom:le}=document.activeElement.getBoundingClientRect(),{innerHeight:Ge}=window,Ae=window.visualViewport!==void 0?window.visualViewport.height:Ge;I>0&&le>Ae/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-Ae,le>=Ge?1/0:Math.ceil(document.scrollingElement.scrollTop+le-Ae/2))),document.activeElement.scrollIntoView()}c=!0,u.value.click(),c=!1}U(!0),v.value=!1,l("show",S)},e.transitionDuration)}function N(S){O(),r(),Y(!0),v.value=!0,j(),x!==null&&(((S&&S.type.indexOf("key")===0?x.closest('[tabindex]:not([tabindex^="-"])'):void 0)||x).focus(),x=null),q(()=>{j(!0),v.value=!1,l("hide",S)},e.transitionDuration)}function E(S){Ze(()=>{let I=u.value;I===null||I.contains(document.activeElement)===!0||(I=(S!==""?I.querySelector(S):null)||I.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||I.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||I.querySelector("[autofocus], [data-autofocus]")||I,I.focus({preventScroll:!0}))})}function d(S){S&&typeof S.focus=="function"?S.focus({preventScroll:!0}):E(),l("shake");const I=u.value;I!==null&&(I.classList.remove("q-animate--scale"),I.classList.add("q-animate--scale"),p!==null&&clearTimeout(p),p=setTimeout(()=>{p=null,u.value!==null&&(I.classList.remove("q-animate--scale"),E())},170))}function F(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&d():(l("escapeKey"),M()))}function Y(S){p!==null&&(clearTimeout(p),p=null),(S===!0||o.value===!0)&&(P(!1),e.seamless!==!0&&(k(!1),rt(D),it(F))),S!==!0&&(x=null)}function P(S){S===!0?h!==!0&&(Ce<1&&document.body.classList.add("q-body--dialog"),Ce++,h=!0):h===!0&&(Ce<2&&document.body.classList.remove("q-body--dialog"),Ce--,h=!1)}function z(S){c!==!0&&(M(S),l("click",S))}function f(S){e.persistent!==!0&&e.noBackdropDismiss!==!0?M(S):e.noShake!==!0&&d()}function D(S){e.allowFocusOutside!==!0&&L.value===!0&&tl(u.value,S.target)!==!0&&E('[tabindex]:not([tabindex="-1"])')}Object.assign(s.proxy,{focus:E,shake:d,__updateRefocusTarget(S){x=S||null}}),de(Y);function te(){return b("div",{role:"dialog","aria-modal":m.value===!0?"true":"false",...n,class:C.value},[b(Ve,{name:"q-transition--fade",appear:!0},()=>m.value===!0?b("div",{class:"q-dialog__backdrop fixed-full",style:_.value,"aria-hidden":"true",tabindex:-1,onClick:f}):null),b(Ve,V.value,()=>o.value===!0?b("div",{ref:u,class:i.value,style:_.value,tabindex:-1,...a.value},J(t.default)):null)])}return A}});function ct(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}const Et=ll({name:"close-popup",beforeMount(e,{value:t}){const l={depth:ct(t),handler(n){l.depth!==0&&setTimeout(()=>{const s=dn(e);s!==void 0&&vn(s,n,l.depth)})},handlerKey(n){pt(n,13)===!0&&l.handler(n)}};e.__qclosepopup=l,e.addEventListener("click",l.handler),e.addEventListener("keyup",l.handlerKey)},updated(e,{value:t,oldValue:l}){t!==l&&(e.__qclosepopup.depth=ct(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});function wn(){return Me(nl)}const Cn={name:"CameraPreview",emits:["capture","close"],setup(e,{emit:t}){const l=$(null);let n=null;const s=async()=>{try{n=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),l.value&&(l.value.srcObject=n)}catch(v){console.error("Error accessing camera:",v),t("close")}},u=()=>{n&&n.getTracks().forEach(v=>v.stop())},o=()=>{const v=document.createElement("canvas");v.width=l.value.videoWidth,v.height=l.value.videoHeight,v.getContext("2d").drawImage(l.value,0,0);const p=v.toDataURL("image/jpeg");t("capture",p),u()};return he(()=>{s()}),He(()=>{u()}),{videoElement:l,captureImage:o}}},_n={ref:"videoElement",autoplay:"",playsinline:"",class:"full-width"};function Sn(e,t,l,n,s,u){return K(),ae(Fe,{class:"camera-preview"},{default:H(()=>[T(ge,null,{default:H(()=>[G("video",_n,null,512)]),_:1}),T(St,{align:"right"},{default:H(()=>[yt(T(ne,{flat:"",label:"Close",color:"primary"},null,512),[[Et]]),T(ne,{flat:"",label:"Capture",color:"primary",onClick:n.captureImage},null,8,["onClick"])]),_:1})]),_:1})}const qn=Re(Cn,[["render",Sn],["__scopeId","data-v-a46b76bb"]]),Vn={class:"text-h6"},Bn={key:2,class:"q-mt-md"},$n={class:"absolute-top-right"},Mn={key:3,class:"q-mt-md"},En=["src"],Rn={__name:"NoteModal",props:{note:{type:Object,required:!0}},emits:["update","delete","close"],setup(e,{emit:t}){const l=e,n=t,s=wn(),u=$(!0),o=ol({...l.note}),v=$(null),p=$(!1),x=$(!1),h=$(null),c=$([]);Z(()=>l.note,r=>{Object.assign(o,r)});const y=()=>{k(o)?n("delete",o.id):n("update",o),n("close")},k=r=>r.title.trim()===""&&r.content.trim()===""&&!r.image&&!r.voiceMemo&&(r.type!=="todo"||r.items&&r.items.every(i=>i.text.trim()==="")),q=()=>{n("update",o),u.value=!1},R=()=>{s.dialog({title:"Confirm",message:"Are you sure you want to delete this note?",cancel:!0,persistent:!0}).onOk(()=>{n("delete",o.id),u.value=!1})},O=()=>{o.type==="todo"&&o.items.push({id:Date.now(),text:"",completed:!1})},V=(r,i)=>{o.type==="todo"&&(o.items[r].text=i)},_=()=>{v.value.click()},U=r=>{const i=r.target.files[0];if(i){const m=new FileReader;m.onload=a=>{o.image=a.target.result},m.readAsDataURL(i)}},j=()=>{o.image=null},L=()=>{p.value=!0},A=r=>{o.image=r,p.value=!1},M=async()=>{if(x.value)w();else try{const r=await navigator.mediaDevices.getUserMedia({audio:!0});h.value=new MediaRecorder(r),h.value.ondataavailable=i=>{c.value.push(i.data)},h.value.onstop=()=>{const i=new Blob(c.value,{type:"audio/webm"});o.voiceMemo=URL.createObjectURL(i),c.value=[]},h.value.start(),x.value=!0}catch(r){console.error("Error accessing microphone:",r),s.notify({color:"negative",message:"Error accessing microphone. Please check your permissions."})}},w=()=>{h.value&&h.value.state!=="inactive"&&(h.value.stop(),x.value=!1)};return he(()=>{window.addEventListener("beforeunload",w)}),He(()=>{window.removeEventListener("beforeunload",w),w()}),(r,i)=>(K(),ae(st,{modelValue:u.value,"onUpdate:modelValue":i[4]||(i[4]=m=>u.value=m),onHide:y,maximized:"","transition-show":"slide-up","transition-hide":"slide-down"},{default:H(()=>[T(Fe,{class:"column full-height"},{default:H(()=>[T(ge,{class:"row items-center q-pb-none"},{default:H(()=>[G("div",Vn,pe(o.title||"Untitled"),1),T(Ql),yt(T(ne,{icon:"close",flat:"",round:"",dense:""},null,512),[[Et]])]),_:1}),T(ge,{class:"q-pa-sm flex-grow-1 overflow-auto"},{default:H(()=>[T(Se,{modelValue:o.title,"onUpdate:modelValue":i[0]||(i[0]=m=>o.title=m),label:"Title",dense:"",autofocus:"",class:"q-mb-md"},null,8,["modelValue"]),o.type==="todo"?(K(),oe(Be,{key:0},[(K(!0),oe(Be,null,kt(o.items,(m,a)=>(K(),oe("div",{key:m.id,class:"q-mb-sm"},[T(Jl,{modelValue:m.completed,"onUpdate:modelValue":[C=>m.completed=C,C=>V(a,m.text)],label:m.text},null,8,["modelValue","onUpdate:modelValue","label"]),T(Se,{modelValue:m.text,"onUpdate:modelValue":[C=>m.text=C,C=>V(a,C)],dense:"",class:"q-ml-lg"},null,8,["modelValue","onUpdate:modelValue"])]))),128)),T(ne,{label:"Add Item",icon:"add",color:"primary",onClick:O,class:"q-mt-sm"})],64)):(K(),ae(Se,{key:1,modelValue:o.content,"onUpdate:modelValue":i[1]||(i[1]=m=>o.content=m),type:"textarea",label:"Content",autogrow:""},null,8,["modelValue"])),o.image?(K(),oe("div",Bn,[T(je,{src:o.image,"spinner-color":"primary",style:{"max-height":"1000px"}},{default:H(()=>[G("div",$n,[T(ne,{round:"",color:"negative",icon:"delete",size:"sm",onClick:j})])]),_:1},8,["src"])])):ve("",!0),o.voiceMemo?(K(),oe("div",Mn,[G("audio",{src:o.voiceMemo,controls:"",class:"full-width"},null,8,En)])):ve("",!0)]),_:1}),T(St,{position:"bottom-left"},{default:H(()=>[T(ne,{flat:"",color:"negative",label:"Delete",onClick:R}),T(ne,{flat:"",color:"primary",label:"Save",onClick:q})]),_:1}),T(rn,{position:"bottom-right",offset:[18,18]},{default:H(()=>[T(nn,{icon:"add",direction:"up",color:"primary"},{default:H(()=>[T(Oe,{color:"primary",icon:"attach_file",onClick:_}),T(Oe,{color:"primary",icon:"photo_camera",onClick:L}),T(Oe,{color:"primary",icon:x.value?"stop":"mic",onClick:M},null,8,["icon"])]),_:1})]),_:1})]),_:1}),G("input",{type:"file",ref_key:"fileInput",ref:v,accept:"image/*",style:{display:"none"},onChange:U},null,544),T(st,{modelValue:p.value,"onUpdate:modelValue":i[3]||(i[3]=m=>p.value=m)},{default:H(()=>[T(qn,{onCapture:A,onClose:i[2]||(i[2]=m=>p.value=!1)})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]))}},Fn=Re(Rn,[["__scopeId","data-v-b7dc3a28"]]),An=e=>(il("data-v-0940759f"),e=e(),rl(),e),Tn={class:"row q-col-gutter-md"},Pn={class:"col-12"},In={class:"col-12"},On={class:"col-12"},Nn={class:"row items-center"},Dn=An(()=>G("div",{class:"text-primary q-ml-sm"},"Click to create...",-1)),jn={__name:"HomeView",setup(e){const t=Rl(),l=$(""),n=$(null),s=$("grid"),u=g(()=>{const c=new RegExp(l.value,"i");return t.notes.filter(y=>c.test(y.title)||c.test(y.content))}),o=async c=>{const y={title:"",content:"",type:c,...c==="todo"?{items:[]}:{}};await t.addNote(y),n.value=y},v=async c=>{await t.updateNote(c.id,c),n.value=null},p=async c=>{await t.deleteNote(c),n.value=null},x=c=>{n.value=c},h=()=>{n.value=null};return he(()=>{t.fetchNotes()}),(c,y)=>(K(),ae(al,{padding:""},{default:H(()=>[G("div",Tn,[G("div",Pn,[T(Se,{modelValue:l.value,"onUpdate:modelValue":y[0]||(y[0]=k=>l.value=k),filled:"",type:"search",label:"Search notes"},{prepend:H(()=>[T(ce,{name:"search"})]),_:1},8,["modelValue"])]),G("div",In,[T(El,{modelValue:s.value,"onUpdate:modelValue":y[1]||(y[1]=k=>s.value=k),spread:"","no-caps":"","toggle-color":"primary",color:"white","text-color":"primary",options:[{label:"Grid",value:"grid",icon:"grid_view"},{label:"List",value:"list",icon:"view_list"}]},null,8,["modelValue"])]),G("div",On,[T(Fe,{class:"quick-create-area cursor-pointer",onClick:y[2]||(y[2]=k=>o("note"))},{default:H(()=>[T(ge,null,{default:H(()=>[G("div",Nn,[T(ce,{name:"add",size:"sm",color:"primary"}),Dn])]),_:1})]),_:1})]),(K(!0),oe(Be,null,kt(u.value,k=>(K(),oe("div",{key:k.id,class:vt({"col-12":s.value==="list","col-12 col-md-6 col-lg-4":s.value==="grid"})},[T(zl,{note:k,"is-list-view":s.value==="list",onClick:q=>x(k)},null,8,["note","is-list-view","onClick"])],2))),128))]),n.value?(K(),ae(Fn,{key:0,note:n.value,onClose:h,onUpdate:v,onDelete:p},null,8,["note"])):ve("",!0)]),_:1}))}},zn=Re(jn,[["__scopeId","data-v-0940759f"]]);export{zn as default};
