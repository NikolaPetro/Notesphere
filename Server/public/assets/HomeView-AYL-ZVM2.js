import{c as ee,a as m,h as p,b as X,g as Nt,Q as te,d as Ee,e as It,r as M,w as W,o as ve,T as Me,f as ht,u as Ue,i as oe,j as Qe,_ as xe,k as ye,l as D,m as ie,n as K,p as Z,q as J,t as le,s as T,v as se,x as tt,y as ue,F as ke,z as He,A as De,B as Fe,C as Pt,D as be,E as $t,G as Ke,H as Ot,I as ze,J as re,K as bt,L as Dt,M as zt,N as pe,O as Lt,P as Ze,R as ot,S as jt,U as me,V as Ut,W as Qt,X as Ht,Y as Kt,Z as pt,$ as yt,a0 as kt,a1 as _t,a2 as Zt,a3 as Ne,a4 as Wt,a5 as Gt,a6 as Be,a7 as We,a8 as Yt,a9 as Jt,aa as Xt,ab as xt,ac as eo,ad as to,ae as oo,af as no,ag as lo,ah as ao,ai as Ct,aj as io,ak as ro,al as so,am as uo}from"./index-3yDAXCSe.js";const co=ee({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const o=m(()=>{const n=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(l=>e[l]===!0).map(l=>`q-btn-group--${l}`).join(" ");return`q-btn-group row no-wrap${n.length!==0?" "+n:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>p("div",{class:o.value},X(t.default))}}),Ge={name:String};function wt(e={}){return(t,o,n)=>{t[o](p("input",{class:"hidden"+(n||""),...e.value}))}}function fo(e){return m(()=>e.name||e.for)}const vo=ee({name:"QBtnToggle",props:{...Ge,modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(t=>("label"in t||"icon"in t||"slot"in t)&&"value"in t)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(e,{slots:t,emit:o}){const n=m(()=>e.options.find(x=>x.value===e.modelValue)!==void 0),l=m(()=>({type:"hidden",name:e.name,value:e.modelValue})),i=wt(l),r=m(()=>Nt(e)),a=m(()=>({rounded:e.rounded,dense:e.dense,...r.value})),f=m(()=>e.options.map((x,_)=>{const{attrs:B,value:F,slot:$,...A}=x;return{slot:$,props:{key:_,"aria-pressed":F===e.modelValue?"true":"false",...B,...A,...a.value,disable:e.disable===!0||A.disable===!0,color:F===e.modelValue?y(A,"toggleColor"):y(A,"color"),textColor:F===e.modelValue?y(A,"toggleTextColor"):y(A,"textColor"),noCaps:y(A,"noCaps")===!0,noWrap:y(A,"noWrap")===!0,size:y(A,"size"),padding:y(A,"padding"),ripple:y(A,"ripple"),stack:y(A,"stack")===!0,stretch:y(A,"stretch")===!0,onClick(w){h(F,x,w)}}}}));function h(x,_,B){e.readonly!==!0&&(e.modelValue===x?e.clearable===!0&&(o("update:modelValue",null,null),o("clear")):o("update:modelValue",x,_),o("click",B))}function y(x,_){return x[_]===void 0?e[_]:x[_]}function g(){const x=f.value.map(_=>p(te,_.props,_.slot!==void 0?t[_.slot]:void 0));return e.name!==void 0&&e.disable!==!0&&n.value===!0&&i(x,"push"),Ee(t.default,x)}return()=>p(co,{class:"q-btn-toggle",...r.value,rounded:e.rounded,stretch:e.stretch,glossy:e.glossy,spread:e.spread},g)}}),Ye=It("notesStore",()=>{const e=M([]),t=async()=>{const r=await fetch("http://localhost:3000/notes");e.value=await r.json()};return{notes:e,fetchNotes:t,addNote:async r=>{const f=await(await fetch("http://localhost:3000/notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();e.value.push(f)},updateNote:async(r,a)=>{await fetch(`http://localhost:3000/notes/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),await t()},deleteNote:async r=>{await fetch(`http://localhost:3000/notes/${r}`,{method:"DELETE"}),e.value=e.value.filter(a=>a.id!==r)},uploadImage:async r=>{const a=new FormData;a.append("image",r,`note-image-${Date.now()}.jpg`);try{const f=await fetch("http://localhost:3000/upload",{method:"POST",body:a});if(!f.ok)throw new Error("Failed to upload image");return(await f.json()).filePath}catch(f){return console.error("Error uploading image:",f),null}}}}),mo={ratio:[String,Number]};function go(e,t){return m(()=>{const o=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(o)!==!0&&o>0?{paddingBottom:`${100/o}%`}:null})}const ho=16/9,Le=ee({name:"QImg",props:{...mo,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:ho},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:o}){const n=M(e.initialRatio),l=go(e,n);let i=null,r=!1;const a=[M(null),M($())],f=M(0),h=M(!1),y=M(!1),g=m(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),x=m(()=>({width:e.width,height:e.height})),_=m(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),B=m(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));W(()=>F(),A);function F(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function $(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function A(b){i!==null&&(clearTimeout(i),i=null),y.value=!1,b===null?(h.value=!1,a[f.value^1].value=$()):h.value=!0,a[f.value].value=b}function w({target:b}){r!==!0&&(i!==null&&(clearTimeout(i),i=null),n.value=b.naturalHeight===0?.5:b.naturalWidth/b.naturalHeight,Q(b,1))}function Q(b,u){r===!0||u===1e3||(b.complete===!0?L(b):i=setTimeout(()=>{i=null,Q(b,u+1)},50))}function L(b){r!==!0&&(f.value=f.value^1,a[f.value].value=null,h.value=!1,y.value=!1,o("load",b.currentSrc||b.src))}function j(b){i!==null&&(clearTimeout(i),i=null),h.value=!1,y.value=!0,a[f.value].value=null,a[f.value^1].value=$(),o("error",b)}function N(b){const u=a[b].value,c={key:"img_"+b,class:_.value,style:B.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...u};return f.value===b?(c.class+=" q-img__image--waiting",Object.assign(c,{onLoad:w,onError:j})):c.class+=" q-img__image--loaded",p("div",{class:"q-img__container absolute-full",key:"img"+b},p("img",c))}function S(){return h.value!==!0?p("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},X(t[y.value===!0?"error":"default"])):p("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[p(ht,{color:e.spinnerColor,size:e.spinnerSize})])}return A(F()),ve(()=>{r=!0,i!==null&&(clearTimeout(i),i=null)}),()=>{const b=[];return l.value!==null&&b.push(p("div",{key:"filler",style:l.value})),y.value!==!0&&(a[0].value!==null&&b.push(N(0)),a[1].value!==null&&b.push(N(1))),b.push(p(Me,{name:"q-transition--fade"},S)),p("div",{class:g.value,style:x.value,role:"img","aria-label":e.alt},b)}}}),ge=ee({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const o=m(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>p(e.tag,{class:o.value},X(t.default))}}),Re=ee({name:"QCard",props:{...Ue,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:o}}=oe(),n=Qe(e,o),l=m(()=>"q-card"+(n.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>p(e.tag,{class:l.value},X(t.default))}}),bo={props:{note:Object,onClick:Function,isListView:Boolean},computed:{completedTodos(){return this.note.type==="todo"?this.note.items.filter(e=>e.completed).length:0},totalTodos(){return this.note.type==="todo"?this.note.items.length:0}}},po={key:0,class:"row items-center q-pa-md"},yo={class:"col"},ko={class:"text-h6"},_o={key:0,class:"text-caption text-muted-foreground row items-center"},xo={key:1,class:"text-caption text-muted-foreground ellipsis"},Co={class:"text-h6"},wo={key:0},qo={key:0,class:"text-caption text-muted-foreground"},So={class:"text-caption text-muted-foreground row items-center"},Bo={key:1},Vo={class:"ellipsis"};function Mo(e,t,o,n,l,i){const r=ye("q-audio");return D(),ie(Re,{onClick:o.onClick,class:De(["cursor-pointer hover-shadow-lg bg-card text-card-foreground",{"row items-center":o.isListView}])},{default:K(()=>[o.isListView?(D(),Z("div",po,[J("div",yo,[J("h3",ko,le(o.note.title||"Untitled"),1),o.note.type==="todo"?(D(),Z("p",_o,[T(se,{name:"check_square",size:"16px",class:"q-mr-xs"}),tt(" "+le(i.completedTodos)+"/"+le(i.totalTodos)+" completed ",1)])):(D(),Z("p",xo,le(o.note.content),1))]),o.note.image?(D(),ie(Le,{key:0,src:o.note.image||"/placeholder.svg",alt:"Note image",class:"col-auto q-ml-md",style:{width:"48px",height:"48px","border-radius":"4px","object-fit":"cover"}},null,8,["src"])):ue("",!0)])):(D(),Z(ke,{key:1},[T(ge,null,{default:K(()=>[J("div",Co,le(o.note.title||"Untitled"),1)]),_:1}),T(ge,null,{default:K(()=>[o.note.type==="todo"?(D(),Z("div",wo,[(D(!0),Z(ke,null,He(o.note.items.slice(0,3),(a,f)=>(D(),Z("div",{key:a.id,class:De(["text-body2",{"text-strike text-muted-foreground":a.completed}])},le(a.text||"Untitled item"),3))),128)),o.note.items.length>3?(D(),Z("p",qo," +"+le(o.note.items.length-3)+" more items ",1)):ue("",!0),J("p",So,[T(se,{name:"check_square",size:"16px",class:"q-mr-xs"}),tt(" "+le(i.completedTodos)+"/"+le(i.totalTodos)+" completed ",1)])])):(D(),Z("div",Bo,[J("p",Vo,le(o.note.content),1),o.note.image?(D(),ie(Le,{key:0,src:o.note.image||"/placeholder.svg",alt:"Note image",class:"q-mt-md",style:{width:"100%",height:"128px","border-radius":"4px","object-fit":"cover"}},null,8,["src"])):ue("",!0),o.note.voiceMemo?(D(),ie(r,{key:1,src:o.note.voiceMemo,controls:"",class:"q-mt-md"},null,8,["src"])):ue("",!0)]))]),_:1})],64))]),_:1},8,["onClick","class"])}const Ao=xe(bo,[["render",Mo],["__scopeId","data-v-1e2132e1"]]),Eo=p("div",{class:"q-space"}),Fo=ee({name:"QSpace",setup(){return()=>Eo}});function Ro({validate:e,resetValidation:t,requiresQForm:o}){const n=Fe(Pt,!1);if(n!==!1){const{props:l,proxy:i}=oe();Object.assign(i,{validate:e,resetValidation:t}),W(()=>l.disable,r=>{r===!0?(typeof t=="function"&&t(),n.unbindComponent(i)):n.bindComponent(i)}),be(()=>{l.disable!==!0&&n.bindComponent(i)}),ve(()=>{l.disable!==!0&&n.unbindComponent(i)})}else o===!0&&console.error("Parent QForm not found on useFormChild()!")}const nt=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,lt=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,at=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,Ce=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,we=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Ie={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>nt.test(e),hexaColor:e=>lt.test(e),hexOrHexaColor:e=>at.test(e),rgbColor:e=>Ce.test(e),rgbaColor:e=>we.test(e),rgbOrRgbaColor:e=>Ce.test(e)||we.test(e),hexOrRgbColor:e=>nt.test(e)||Ce.test(e),hexaOrRgbaColor:e=>lt.test(e)||we.test(e),anyColor:e=>at.test(e)||Ce.test(e)||we.test(e)},To=[!0,!1,"ondemand"],No={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>To.includes(e)}};function Io(e,t){const{props:o,proxy:n}=oe(),l=M(!1),i=M(null),r=M(null);Ro({validate:B,resetValidation:_});let a=0,f;const h=m(()=>o.rules!==void 0&&o.rules!==null&&o.rules.length!==0),y=m(()=>o.disable!==!0&&h.value===!0),g=m(()=>o.error===!0||l.value===!0),x=m(()=>typeof o.errorMessage=="string"&&o.errorMessage.length!==0?o.errorMessage:i.value);W(()=>o.modelValue,()=>{F()}),W(()=>o.reactiveRules,A=>{A===!0?f===void 0&&(f=W(()=>o.rules,()=>{F(!0)})):f!==void 0&&(f(),f=void 0)},{immediate:!0}),W(e,A=>{A===!0?r.value===null&&(r.value=!1):r.value===!1&&(r.value=!0,y.value===!0&&o.lazyRules!=="ondemand"&&t.value===!1&&$())});function _(){a++,t.value=!1,r.value=null,l.value=!1,i.value=null,$.cancel()}function B(A=o.modelValue){if(y.value!==!0)return!0;const w=++a,Q=t.value!==!0?()=>{r.value=!0}:()=>{},L=(N,S)=>{N===!0&&Q(),l.value=N,i.value=S||null,t.value=!1},j=[];for(let N=0;N<o.rules.length;N++){const S=o.rules[N];let b;if(typeof S=="function"?b=S(A,Ie):typeof S=="string"&&Ie[S]!==void 0&&(b=Ie[S](A)),b===!1||typeof b=="string")return L(!0,b),!1;b!==!0&&b!==void 0&&j.push(b)}return j.length===0?(L(!1),!0):(t.value=!0,Promise.all(j).then(N=>{if(N===void 0||Array.isArray(N)===!1||N.length===0)return w===a&&L(!1),!0;const S=N.find(b=>b===!1||typeof b=="string");return w===a&&L(S!==void 0,S),S===void 0},N=>(w===a&&(console.error(N),L(!0)),!1)))}function F(A){y.value===!0&&o.lazyRules!=="ondemand"&&(r.value===!0||o.lazyRules!==!0&&A!==!0)&&$()}const $=$t(B,0);return ve(()=>{f!==void 0&&f(),$.cancel()}),Object.assign(n,{resetValidation:_,validate:B}),Ke(n,"hasError",()=>g.value),{isDirtyModel:r,hasRules:h,hasError:g,errorMessage:x,validate:B,resetValidation:_}}const it=/^on[A-Z]/;function Po(e,t){const o={listeners:M({}),attributes:M({})};function n(){const l={},i={};for(const r in e)r!=="class"&&r!=="style"&&it.test(r)===!1&&(l[r]=e[r]);for(const r in t.props)it.test(r)===!0&&(i[r]=t.props[r]);o.attributes.value=l,o.listeners.value=i}return Ot(n),n(),o}let Pe,qe=0;const G=new Array(256);for(let e=0;e<256;e++)G[e]=(e+256).toString(16).substring(1);const $o=(()=>{const e=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const o=new Uint8Array(t);return e.getRandomValues(o),o}}return t=>{const o=[];for(let n=t;n>0;n--)o.push(Math.floor(Math.random()*256));return o}})(),rt=4096;function Je(){(Pe===void 0||qe+16>rt)&&(qe=0,Pe=$o(rt));const e=Array.prototype.slice.call(Pe,qe,qe+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,G[e[0]]+G[e[1]]+G[e[2]]+G[e[3]]+"-"+G[e[4]]+G[e[5]]+"-"+G[e[6]]+G[e[7]]+"-"+G[e[8]]+G[e[9]]+"-"+G[e[10]]+G[e[11]]+G[e[12]]+G[e[13]]+G[e[14]]+G[e[15]]}let ce=[],_e=[];function qt(e){_e=_e.filter(t=>t!==e)}function Oo(e){qt(e),_e.push(e)}function st(e){qt(e),_e.length===0&&ce.length!==0&&(ce[ce.length-1](),ce=[])}function Xe(e){_e.length===0?e():ce.push(e)}function Do(e){ce=ce.filter(t=>t!==e)}function St(e,t){return e===void 0?t===!0?`f_${Je()}`:void 0:e}function je(e){return e!=null&&(""+e).length!==0}const zo={...Ue,...No,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},Lo=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function jo({requiredForAttr:e=!0,tagProp:t}={}){const{props:o,attrs:n,proxy:l,vnode:i}=oe(),r=Qe(o,l.$q);return{requiredForAttr:e,tag:t===!0?m(()=>o.tag):{value:"label"},isDark:r,editable:m(()=>o.disable!==!0&&o.readonly!==!0),innerLoading:M(!1),focused:M(!1),hasPopupOpen:!1,splitAttrs:Po(n,i),targetUid:M(St(o.for,e)),rootRef:M(null),targetRef:M(null),controlRef:M(null)}}function Uo(e){const{props:t,emit:o,slots:n,attrs:l,proxy:i}=oe(),{$q:r}=i;let a=null;e.hasValue===void 0&&(e.hasValue=m(()=>je(t.modelValue))),e.emitValue===void 0&&(e.emitValue=d=>{o("update:modelValue",d)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:u,onFocusout:c}),Object.assign(e,{clearValue:k,onControlFocusin:u,onControlFocusout:c,focus:S}),e.computedCounter===void 0&&(e.computedCounter=m(()=>{if(t.counter!==!1){const d=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,R=t.maxlength!==void 0?t.maxlength:t.maxValues;return d+(R!==void 0?" / "+R:"")}}));const{isDirtyModel:f,hasRules:h,hasError:y,errorMessage:g,resetValidation:x}=Io(e.focused,e.innerLoading),_=e.floatingLabel!==void 0?m(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):m(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),B=m(()=>t.bottomSlots===!0||t.hint!==void 0||h.value===!0||t.counter===!0||t.error!==null),F=m(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),$=m(()=>`q-field row no-wrap items-start q-field--${F.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(_.value===!0?" q-field--float":"")+(w.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(y.value===!0?" q-field--error":"")+(y.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&B.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),A=m(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(y.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),w=m(()=>t.labelSlot===!0||t.label!==void 0),Q=m(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&y.value!==!0?` text-${t.labelColor}`:"")),L=m(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:_.value,modelValue:t.modelValue,emitValue:e.emitValue})),j=m(()=>{const d={for:e.targetUid.value};return t.disable===!0?d["aria-disabled"]="true":t.readonly===!0&&(d["aria-readonly"]="true"),d});W(()=>t.for,d=>{e.targetUid.value=St(d,e.requiredForAttr)});function N(){const d=document.activeElement;let R=e.targetRef!==void 0&&e.targetRef.value;R&&(d===null||d.id!==e.targetUid.value)&&(R.hasAttribute("tabindex")===!0||(R=R.querySelector("[tabindex]")),R&&R!==d&&R.focus({preventScroll:!0}))}function S(){Xe(N)}function b(){Do(N);const d=document.activeElement;d!==null&&e.rootRef.value.contains(d)&&d.blur()}function u(d){a!==null&&(clearTimeout(a),a=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,o("focus",d))}function c(d,R){a!==null&&clearTimeout(a),a=setTimeout(()=>{a=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,o("blur",d)),R!==void 0&&R())})}function k(d){ze(d),r.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),o("update:modelValue",null),o("clear",t.modelValue),re(()=>{x(),r.platform.is.mobile!==!0&&(f.value=!1)})}function s(){const d=[];return n.prepend!==void 0&&d.push(p("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:pe},n.prepend())),d.push(p("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},C())),y.value===!0&&t.noErrorIcon===!1&&d.push(O("error",[p(se,{name:r.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?d.push(O("inner-loading-append",n.loading!==void 0?n.loading():[p(ht,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&d.push(O("inner-clearable-append",[p(se,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||r.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:k})])),n.append!==void 0&&d.push(p("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:pe},n.append())),e.getInnerAppend!==void 0&&d.push(O("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&d.push(e.getControlChild()),d}function C(){const d=[];return t.prefix!==void 0&&t.prefix!==null&&d.push(p("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&d.push(e.getShadowControl()),e.getControl!==void 0?d.push(e.getControl()):n.rawControl!==void 0?d.push(n.rawControl()):n.control!==void 0&&d.push(p("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},n.control(L.value))),w.value===!0&&d.push(p("div",{class:Q.value},X(n.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&d.push(p("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),d.concat(X(n.default))}function V(){let d,R;y.value===!0?g.value!==null?(d=[p("div",{role:"alert"},g.value)],R=`q--slot-error-${g.value}`):(d=X(n.error),R="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(d=[p("div",t.hint)],R=`q--slot-hint-${t.hint}`):(d=X(n.hint),R="q--slot-hint"));const Y=t.counter===!0||n.counter!==void 0;if(t.hideBottomSpace===!0&&Y===!1&&d===void 0)return;const I=p("div",{key:R,class:"q-field__messages col"},d);return p("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:pe},[t.hideBottomSpace===!0?I:p(Me,{name:"q-transition--field-message"},()=>I),Y===!0?p("div",{class:"q-field__counter"},n.counter!==void 0?n.counter():e.computedCounter.value):null])}function O(d,R){return R===null?null:p("div",{key:d,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},R)}let E=!1;return bt(()=>{E=!0}),Dt(()=>{E===!0&&t.autofocus===!0&&i.focus()}),be(()=>{zt.value===!0&&e.requiredForAttr===!0&&t.for===void 0&&(e.targetUid.value=`f_${Je()}`),t.autofocus===!0&&i.focus()}),ve(()=>{a!==null&&clearTimeout(a)}),Object.assign(i,{focus:S,blur:b}),function(){const R=e.getControl===void 0&&n.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...j.value}:j.value;return p(e.tag.value,{ref:e.rootRef,class:[$.value,l.class],style:l.style,...R},[n.before!==void 0?p("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:pe},n.before()):null,p("div",{class:"q-field__inner relative-position col self-stretch"},[p("div",{ref:e.controlRef,class:A.value,tabindex:-1,...e.controlEvents},s()),B.value===!0?V():null]),n.after!==void 0?p("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:pe},n.after()):null])}}const ut={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Ae={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Bt=Object.keys(Ae);Bt.forEach(e=>{Ae[e].regex=new RegExp(Ae[e].pattern)});const Qo=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Bt.join("")+"])|(.)","g"),ct=/[.*+?^${}()|[\]\\]/g,H="",Ho={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Ko(e,t,o,n){let l,i,r,a,f,h;const y=M(null),g=M(_());function x(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}W(()=>e.type+e.autogrow,F),W(()=>e.mask,u=>{if(u!==void 0)$(g.value,!0);else{const c=S(g.value);F(),e.modelValue!==c&&t("update:modelValue",c)}}),W(()=>e.fillMask+e.reverseFillMask,()=>{y.value===!0&&$(g.value,!0)}),W(()=>e.unmaskedValue,()=>{y.value===!0&&$(g.value)});function _(){if(F(),y.value===!0){const u=j(S(e.modelValue));return e.fillMask!==!1?b(u):u}return e.modelValue}function B(u){if(u<l.length)return l.slice(-u);let c="",k=l;const s=k.indexOf(H);if(s>-1){for(let C=u-k.length;C>0;C--)c+=H;k=k.slice(0,s)+c+k.slice(s)}return k}function F(){if(y.value=e.mask!==void 0&&e.mask.length!==0&&x(),y.value===!1){a=void 0,l="",i="";return}const u=ut[e.mask]===void 0?e.mask:ut[e.mask],c=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",k=c.replace(ct,"\\$&"),s=[],C=[],V=[];let O=e.reverseFillMask===!0,E="",d="";u.replace(Qo,(U,v,z,ne,q)=>{if(ne!==void 0){const P=Ae[ne];V.push(P),d=P.negate,O===!0&&(C.push("(?:"+d+"+)?("+P.pattern+"+)?(?:"+d+"+)?("+P.pattern+"+)?"),O=!1),C.push("(?:"+d+"+)?("+P.pattern+")?")}else if(z!==void 0)E="\\"+(z==="\\"?"":z),V.push(z),s.push("([^"+E+"]+)?"+E+"?");else{const P=v!==void 0?v:q;E=P==="\\"?"\\\\\\\\":P.replace(ct,"\\\\$&"),V.push(P),s.push("([^"+E+"]+)?"+E+"?")}});const R=new RegExp("^"+s.join("")+"("+(E===""?".":"[^"+E+"]")+"+)?"+(E===""?"":"["+E+"]*")+"$"),Y=C.length-1,I=C.map((U,v)=>v===0&&e.reverseFillMask===!0?new RegExp("^"+k+"*"+U):v===Y?new RegExp("^"+U+"("+(d===""?".":d)+"+)?"+(e.reverseFillMask===!0?"$":k+"*")):new RegExp("^"+U));r=V,a=U=>{const v=R.exec(e.reverseFillMask===!0?U:U.slice(0,V.length+1));v!==null&&(U=v.slice(1).join(""));const z=[],ne=I.length;for(let q=0,P=U;q<ne;q++){const ae=I[q].exec(P);if(ae===null)break;P=P.slice(ae.shift().length),z.push(...ae)}return z.length!==0?z.join(""):U},l=V.map(U=>typeof U=="string"?U:H).join(""),i=l.split(H).join(c)}function $(u,c,k){const s=n.value,C=s.selectionEnd,V=s.value.length-C,O=S(u);c===!0&&F();const E=j(O),d=e.fillMask!==!1?b(E):E,R=g.value!==d;s.value!==d&&(s.value=d),R===!0&&(g.value=d),document.activeElement===s&&re(()=>{if(d===i){const I=e.reverseFillMask===!0?i.length:0;s.setSelectionRange(I,I,"forward");return}if(k==="insertFromPaste"&&e.reverseFillMask!==!0){const I=s.selectionEnd;let U=C-1;for(let v=f;v<=U&&v<I;v++)l[v]!==H&&U++;w.right(s,U);return}if(["deleteContentBackward","deleteContentForward"].indexOf(k)>-1){const I=e.reverseFillMask===!0?C===0?d.length>E.length?1:0:Math.max(0,d.length-(d===i?0:Math.min(E.length,V)+1))+1:C;s.setSelectionRange(I,I,"forward");return}if(e.reverseFillMask===!0)if(R===!0){const I=Math.max(0,d.length-(d===i?0:Math.min(E.length,V+1)));I===1&&C===1?s.setSelectionRange(I,I,"forward"):w.rightReverse(s,I)}else{const I=d.length-V;s.setSelectionRange(I,I,"backward")}else if(R===!0){const I=Math.max(0,l.indexOf(H),Math.min(E.length,C)-1);w.right(s,I)}else{const I=C-1;w.right(s,I)}});const Y=e.unmaskedValue===!0?S(d):d;String(e.modelValue)!==Y&&(e.modelValue!==null||Y!=="")&&o(Y,!0)}function A(u,c,k){const s=j(S(u.value));c=Math.max(0,l.indexOf(H),Math.min(s.length,c)),f=c,u.setSelectionRange(c,k,"forward")}const w={left(u,c){const k=l.slice(c-1).indexOf(H)===-1;let s=Math.max(0,c-1);for(;s>=0;s--)if(l[s]===H){c=s,k===!0&&c++;break}if(s<0&&l[c]!==void 0&&l[c]!==H)return w.right(u,0);c>=0&&u.setSelectionRange(c,c,"backward")},right(u,c){const k=u.value.length;let s=Math.min(k,c+1);for(;s<=k;s++)if(l[s]===H){c=s;break}else l[s-1]===H&&(c=s);if(s>k&&l[c-1]!==void 0&&l[c-1]!==H)return w.left(u,k);u.setSelectionRange(c,c,"forward")},leftReverse(u,c){const k=B(u.value.length);let s=Math.max(0,c-1);for(;s>=0;s--)if(k[s-1]===H){c=s;break}else if(k[s]===H&&(c=s,s===0))break;if(s<0&&k[c]!==void 0&&k[c]!==H)return w.rightReverse(u,0);c>=0&&u.setSelectionRange(c,c,"backward")},rightReverse(u,c){const k=u.value.length,s=B(k),C=s.slice(0,c+1).indexOf(H)===-1;let V=Math.min(k,c+1);for(;V<=k;V++)if(s[V-1]===H){c=V,c>0&&C===!0&&c--;break}if(V>k&&s[c-1]!==void 0&&s[c-1]!==H)return w.leftReverse(u,k);u.setSelectionRange(c,c,"forward")}};function Q(u){t("click",u),h=void 0}function L(u){if(t("keydown",u),Lt(u)===!0||u.altKey===!0)return;const c=n.value,k=c.selectionStart,s=c.selectionEnd;if(u.shiftKey||(h=void 0),u.keyCode===37||u.keyCode===39){u.shiftKey&&h===void 0&&(h=c.selectionDirection==="forward"?k:s);const C=w[(u.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(u.preventDefault(),C(c,h===k?s:k),u.shiftKey){const V=c.selectionStart;c.setSelectionRange(Math.min(h,V),Math.max(h,V),"forward")}}else u.keyCode===8&&e.reverseFillMask!==!0&&k===s?(w.left(c,k),c.setSelectionRange(c.selectionStart,s,"backward")):u.keyCode===46&&e.reverseFillMask===!0&&k===s&&(w.rightReverse(c,s),c.setSelectionRange(k,c.selectionEnd,"forward"))}function j(u){if(u==null||u==="")return"";if(e.reverseFillMask===!0)return N(u);const c=r;let k=0,s="";for(let C=0;C<c.length;C++){const V=u[k],O=c[C];if(typeof O=="string")s+=O,V===O&&k++;else if(V!==void 0&&O.regex.test(V))s+=O.transform!==void 0?O.transform(V):V,k++;else return s}return s}function N(u){const c=r,k=l.indexOf(H);let s=u.length-1,C="";for(let V=c.length-1;V>=0&&s>-1;V--){const O=c[V];let E=u[s];if(typeof O=="string")C=O+C,E===O&&s--;else if(E!==void 0&&O.regex.test(E))do C=(O.transform!==void 0?O.transform(E):E)+C,s--,E=u[s];while(k===V&&E!==void 0&&O.regex.test(E));else return C}return C}function S(u){return typeof u!="string"||a===void 0?typeof u=="number"?a(""+u):u:a(u)}function b(u){return i.length-u.length<=0?u:e.reverseFillMask===!0&&u.length!==0?i.slice(0,-u.length)+u:u+i.slice(u.length)}return{innerValue:g,hasMask:y,moveCursorForPaste:A,updateMaskValue:$,onMaskedKeydown:L,onMaskedClick:Q}}function Zo(e,t){function o(){const n=e.modelValue;try{const l="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(n)===n&&("length"in n?Array.from(n):[n]).forEach(i=>{l.items.add(i)}),{files:l.files}}catch{return{files:void 0}}}return t===!0?m(()=>{if(e.type==="file")return o()}):m(o)}const Wo=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Go=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Yo=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Jo=/[a-z0-9_ -]$/i;function Xo(e){return function(o){if(o.type==="compositionend"||o.type==="change"){if(o.target.qComposing!==!0)return;o.target.qComposing=!1,e(o)}else o.type==="compositionupdate"&&o.target.qComposing!==!0&&typeof o.data=="string"&&(Ze.is.firefox===!0?Jo.test(o.data)===!1:Wo.test(o.data)===!0||Go.test(o.data)===!0||Yo.test(o.data)===!0)===!0&&(o.target.qComposing=!0)}}const $e=ee({name:"QInput",inheritAttrs:!1,props:{...zo,...Ho,...Ge,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Lo,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:o}){const{proxy:n}=oe(),{$q:l}=n,i={};let r=NaN,a,f,h=null,y;const g=M(null),x=fo(e),{innerValue:_,hasMask:B,moveCursorForPaste:F,updateMaskValue:$,onMaskedKeydown:A,onMaskedClick:w}=Ko(e,t,E,g),Q=Zo(e,!0),L=m(()=>je(_.value)),j=Xo(V),N=jo(),S=m(()=>e.type==="textarea"||e.autogrow===!0),b=m(()=>S.value===!0||["text","search","url","tel","password"].includes(e.type)),u=m(()=>{const v={...N.splitAttrs.listeners.value,onInput:V,onPaste:C,onChange:R,onBlur:Y,onFocus:ot};return v.onCompositionstart=v.onCompositionupdate=v.onCompositionend=j,B.value===!0&&(v.onKeydown=A,v.onClick=w),e.autogrow===!0&&(v.onAnimationend=O),v}),c=m(()=>{const v={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:x.value,...N.splitAttrs.attributes.value,id:N.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return S.value===!1&&(v.type=e.type),e.autogrow===!0&&(v.rows=1),v});W(()=>e.type,()=>{g.value&&(g.value.value=e.modelValue)}),W(()=>e.modelValue,v=>{if(B.value===!0){if(f===!0&&(f=!1,String(v)===r))return;$(v)}else _.value!==v&&(_.value=v,e.type==="number"&&i.hasOwnProperty("value")===!0&&(a===!0?a=!1:delete i.value));e.autogrow===!0&&re(d)}),W(()=>e.autogrow,v=>{v===!0?re(d):g.value!==null&&o.rows>0&&(g.value.style.height="auto")}),W(()=>e.dense,()=>{e.autogrow===!0&&re(d)});function k(){Xe(()=>{const v=document.activeElement;g.value!==null&&g.value!==v&&(v===null||v.id!==N.targetUid.value)&&g.value.focus({preventScroll:!0})})}function s(){g.value!==null&&g.value.select()}function C(v){if(B.value===!0&&e.reverseFillMask!==!0){const z=v.target;F(z,z.selectionStart,z.selectionEnd)}t("paste",v)}function V(v){if(!v||!v.target)return;if(e.type==="file"){t("update:modelValue",v.target.files);return}const z=v.target.value;if(v.target.qComposing===!0){i.value=z;return}if(B.value===!0)$(z,!1,v.inputType);else if(E(z),b.value===!0&&v.target===document.activeElement){const{selectionStart:ne,selectionEnd:q}=v.target;ne!==void 0&&q!==void 0&&re(()=>{v.target===document.activeElement&&z.indexOf(v.target.value)===0&&v.target.setSelectionRange(ne,q)})}e.autogrow===!0&&d()}function O(v){t("animationend",v),d()}function E(v,z){y=()=>{h=null,e.type!=="number"&&i.hasOwnProperty("value")===!0&&delete i.value,e.modelValue!==v&&r!==v&&(r=v,z===!0&&(f=!0),t("update:modelValue",v),re(()=>{r===v&&(r=NaN)})),y=void 0},e.type==="number"&&(a=!0,i.value=v),e.debounce!==void 0?(h!==null&&clearTimeout(h),i.value=v,h=setTimeout(y,e.debounce)):y()}function d(){requestAnimationFrame(()=>{const v=g.value;if(v!==null){const z=v.parentNode.style,{scrollTop:ne}=v,{overflowY:q,maxHeight:P}=l.platform.is.firefox===!0?{}:window.getComputedStyle(v),ae=q!==void 0&&q!=="scroll";ae===!0&&(v.style.overflowY="hidden"),z.marginBottom=v.scrollHeight-1+"px",v.style.height="1px",v.style.height=v.scrollHeight+"px",ae===!0&&(v.style.overflowY=parseInt(P,10)<v.scrollHeight?"auto":"hidden"),z.marginBottom="",v.scrollTop=ne}})}function R(v){j(v),h!==null&&(clearTimeout(h),h=null),y!==void 0&&y(),t("change",v.target.value)}function Y(v){v!==void 0&&ot(v),h!==null&&(clearTimeout(h),h=null),y!==void 0&&y(),a=!1,f=!1,delete i.value,e.type!=="file"&&setTimeout(()=>{g.value!==null&&(g.value.value=_.value!==void 0?_.value:"")})}function I(){return i.hasOwnProperty("value")===!0?i.value:_.value!==void 0?_.value:""}ve(()=>{Y()}),be(()=>{e.autogrow===!0&&d()}),Object.assign(N,{innerValue:_,fieldClass:m(()=>`q-${S.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:m(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:g,emitValue:E,hasValue:L,floatingLabel:m(()=>L.value===!0&&(e.type!=="number"||isNaN(_.value)===!1)||je(e.displayValue)),getControl:()=>p(S.value===!0?"textarea":"input",{ref:g,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...c.value,...u.value,...e.type!=="file"?{value:I()}:Q.value}),getShadowControl:()=>p("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(S.value===!0?"":" text-no-wrap")},[p("span",{class:"invisible"},I()),p("span",e.shadowText)])});const U=Uo(N);return Object.assign(n,{focus:k,select:s,getNativeElement:()=>g.value}),Ke(n,"nativeEl",()=>g.value),U}});function en(e,t){const o=M(null),n=m(()=>e.disable===!0?null:p("span",{ref:o,class:"no-outline",tabindex:-1}));function l(i){const r=t.value;i!==void 0&&i.type.indexOf("key")===0?r!==null&&document.activeElement!==r&&r.contains(document.activeElement)===!0&&r.focus():o.value!==null&&(i===void 0||r!==null&&r.contains(i.target)===!0)&&o.value.focus()}return{refocusTargetEl:n,refocusTarget:l}}const tn={xs:30,sm:35,md:40,lg:50,xl:60},on={...Ue,...Ut,...Ge,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},nn=["update:modelValue"];function ln(e,t){const{props:o,slots:n,emit:l,proxy:i}=oe(),{$q:r}=i,a=Qe(o,r),f=M(null),{refocusTargetEl:h,refocusTarget:y}=en(o,f),g=jt(o,tn),x=m(()=>o.val!==void 0&&Array.isArray(o.modelValue)),_=m(()=>{const s=me(o.val);return x.value===!0?o.modelValue.findIndex(C=>me(C)===s):-1}),B=m(()=>x.value===!0?_.value>-1:me(o.modelValue)===me(o.trueValue)),F=m(()=>x.value===!0?_.value===-1:me(o.modelValue)===me(o.falseValue)),$=m(()=>B.value===!1&&F.value===!1),A=m(()=>o.disable===!0?-1:o.tabindex||0),w=m(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(o.disable===!0?" disabled":"")+(a.value===!0?` q-${e}--dark`:"")+(o.dense===!0?` q-${e}--dense`:"")+(o.leftLabel===!0?" reverse":"")),Q=m(()=>{const s=B.value===!0?"truthy":F.value===!0?"falsy":"indet",C=o.color!==void 0&&(o.keepColor===!0||(e==="toggle"?B.value===!0:F.value!==!0))?` text-${o.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${s}${C}`}),L=m(()=>{const s={type:"checkbox"};return o.name!==void 0&&Object.assign(s,{".checked":B.value,"^checked":B.value===!0?"checked":void 0,name:o.name,value:x.value===!0?o.val:o.trueValue}),s}),j=wt(L),N=m(()=>{const s={tabindex:A.value,role:e==="toggle"?"switch":"checkbox","aria-label":o.label,"aria-checked":$.value===!0?"mixed":B.value===!0?"true":"false"};return o.disable===!0&&(s["aria-disabled"]="true"),s});function S(s){s!==void 0&&(ze(s),y(s)),o.disable!==!0&&l("update:modelValue",b(),s)}function b(){if(x.value===!0){if(B.value===!0){const s=o.modelValue.slice();return s.splice(_.value,1),s}return o.modelValue.concat([o.val])}if(B.value===!0){if(o.toggleOrder!=="ft"||o.toggleIndeterminate===!1)return o.falseValue}else if(F.value===!0){if(o.toggleOrder==="ft"||o.toggleIndeterminate===!1)return o.trueValue}else return o.toggleOrder!=="ft"?o.trueValue:o.falseValue;return o.indeterminateValue}function u(s){(s.keyCode===13||s.keyCode===32)&&ze(s)}function c(s){(s.keyCode===13||s.keyCode===32)&&S(s)}const k=t(B,$);return Object.assign(i,{toggle:S}),()=>{const s=k();o.disable!==!0&&j(s,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const C=[p("div",{class:Q.value,style:g.value,"aria-hidden":"true"},s)];h.value!==null&&C.push(h.value);const V=o.label!==void 0?Ee(n.default,[o.label]):X(n.default);return V!==void 0&&C.push(p("div",{class:`q-${e}__label q-anchor--skip`},V)),p("div",{ref:f,class:w.value,...N.value,onClick:S,onKeydown:u,onKeyup:c},C)}}const an=p("div",{key:"svg",class:"q-checkbox__bg absolute"},[p("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[p("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),p("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]),rn=ee({name:"QCheckbox",props:on,emits:nn,setup(e){function t(o,n){const l=m(()=>(o.value===!0?e.checkedIcon:n.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>l.value!==null?[p("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[p(se,{class:"q-checkbox__icon",name:l.value})])]:[an]}return ln("checkbox",t)}}),Vt=ee({name:"QCardActions",props:{...Qt,vertical:Boolean},setup(e,{slots:t}){const o=Ht(e),n=m(()=>`q-card__actions ${o.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>p("div",{class:n.value},X(t.default))}}),sn=["top","right","bottom","left"],Mt={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:e=>sn.includes(e)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function At(e,t){return{formClass:m(()=>`q-fab--form-${e.square===!0?"square":"rounded"}`),stacked:m(()=>e.externalLabel===!1&&["top","bottom"].includes(e.labelPosition)),labelProps:m(()=>{if(e.externalLabel===!0){const o=e.hideLabel===null?t.value===!1:e.hideLabel;return{action:"push",data:{class:[e.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${e.labelPosition}`+(o===!0?" q-fab__label--external-hidden":"")],style:e.labelStyle}}}return{action:["left","top"].includes(e.labelPosition)?"unshift":"push",data:{class:[e.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${e.labelPosition}`+(e.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:e.labelStyle}}})}}const Et={start:"self-end",center:"self-center",end:"self-start"},un=Object.keys(Et),Oe=ee({name:"QFabAction",props:{...Mt,icon:{type:String,default:""},anchor:{type:String,validator:e=>un.includes(e)},to:[String,Object],replace:Boolean},emits:["click"],setup(e,{slots:t,emit:o}){const n=Fe(pt,()=>({showing:{value:!0},onChildClick:Kt})),{formClass:l,labelProps:i}=At(e,n.showing),r=m(()=>{const g=Et[e.anchor];return l.value+(g!==void 0?` ${g}`:"")}),a=m(()=>e.disable===!0||n.showing.value!==!0);function f(g){n.onChildClick(g),o("click",g)}function h(){const g=[];return t.icon!==void 0?g.push(t.icon()):e.icon!==""&&g.push(p(se,{name:e.icon})),(e.label!==""||t.label!==void 0)&&g[i.value.action](p("div",i.value.data,t.label!==void 0?t.label():[e.label])),Ee(t.default,g)}const y=oe();return Object.assign(y.proxy,{click:f}),()=>p(te,{class:r.value,...e,noWrap:!0,stack:e.stacked,icon:void 0,label:void 0,noCaps:!0,fabMini:!0,disable:a.value,onClick:f},h)}}),cn=["up","right","down","left"],dn=["left","center","right"],fn=ee({name:"QFab",props:{...Mt,...yt,icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{default:null},direction:{type:String,default:"right",validator:e=>cn.includes(e)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:e=>dn.includes(e)}},emits:kt,setup(e,{slots:t}){const o=M(null),n=M(e.modelValue===!0),l=Je(),{proxy:{$q:i}}=oe(),{formClass:r,labelProps:a}=At(e,n),f=m(()=>e.persistent!==!0),{hide:h,toggle:y}=_t({showing:n,hideOnRouteChange:f}),g=m(()=>({opened:n.value})),x=m(()=>`q-fab z-fab row inline justify-center q-fab--align-${e.verticalActionsAlign} ${r.value}`+(n.value===!0?" q-fab--opened":" q-fab--closed")),_=m(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${e.direction} q-fab__actions--${n.value===!0?"opened":"closed"}`),B=m(()=>{const w={id:l,role:"menu"};return n.value!==!0&&(w["aria-hidden"]="true"),w}),F=m(()=>`q-fab__icon-holder  q-fab__icon-holder--${n.value===!0?"opened":"closed"}`);function $(w,Q){const L=t[w],j=`q-fab__${w} absolute-full`;return L===void 0?p(se,{class:j,name:e[Q]||i.iconSet.fab[Q]}):p("div",{class:j},L(g.value))}function A(){const w=[];return e.hideIcon!==!0&&w.push(p("div",{class:F.value},[$("icon","icon"),$("active-icon","activeIcon")])),(e.label!==""||t.label!==void 0)&&w[a.value.action](p("div",a.value.data,t.label!==void 0?t.label(g.value):[e.label])),Ee(t.tooltip,w)}return Zt(pt,{showing:n,onChildClick(w){h(w),o.value!==null&&o.value.$el.focus()}}),()=>p("div",{class:x.value},[p(te,{ref:o,class:r.value,...e,noWrap:!0,stack:e.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":n.value===!0?"true":"false","aria-haspopup":"true","aria-controls":l,onClick:y},A),p("div",{class:_.value,...B.value},X(t.default))])}}),vn={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>e.length===2},expand:Boolean};function mn(){const{props:e,proxy:{$q:t}}=oe(),o=Fe(Wt,Ne);if(o===Ne)return console.error("QPageSticky needs to be child of QLayout"),Ne;const n=m(()=>{const g=e.position;return{top:g.indexOf("top")>-1,right:g.indexOf("right")>-1,bottom:g.indexOf("bottom")>-1,left:g.indexOf("left")>-1,vertical:g==="top"||g==="bottom",horizontal:g==="left"||g==="right"}}),l=m(()=>o.header.offset),i=m(()=>o.right.offset),r=m(()=>o.footer.offset),a=m(()=>o.left.offset),f=m(()=>{let g=0,x=0;const _=n.value,B=t.lang.rtl===!0?-1:1;_.top===!0&&l.value!==0?x=`${l.value}px`:_.bottom===!0&&r.value!==0&&(x=`${-r.value}px`),_.left===!0&&a.value!==0?g=`${B*a.value}px`:_.right===!0&&i.value!==0&&(g=`${-B*i.value}px`);const F={transform:`translate(${g}, ${x})`};return e.offset&&(F.margin=`${e.offset[1]}px ${e.offset[0]}px`),_.vertical===!0?(a.value!==0&&(F[t.lang.rtl===!0?"right":"left"]=`${a.value}px`),i.value!==0&&(F[t.lang.rtl===!0?"left":"right"]=`${i.value}px`)):_.horizontal===!0&&(l.value!==0&&(F.top=`${l.value}px`),r.value!==0&&(F.bottom=`${r.value}px`)),F}),h=m(()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--${e.expand===!0?"expand":"shrink"}`);function y(g){const x=X(g.default);return p("div",{class:h.value,style:f.value},e.expand===!0?x:[p("div",x)])}return{$layout:o,getStickyContent:y}}const gn=ee({name:"QPageSticky",props:vn,setup(e,{slots:t}){const{getStickyContent:o}=mn();return()=>o(t)}});function hn(){let e;const t=oe();function o(){e=void 0}return bt(o),ve(o),{removeTick:o,registerTick(n){e=n,re(()=>{e===n&&(Gt(t)===!1&&e(),e=void 0)})}}}const bn={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function pn(e,t=()=>{},o=()=>{}){return{transitionProps:m(()=>{const n=`q-transition--${e.transitionShow||t()}`,l=`q-transition--${e.transitionHide||o()}`;return{appear:!0,enterFromClass:`${n}-enter-from`,enterActiveClass:`${n}-enter-active`,enterToClass:`${n}-enter-to`,leaveFromClass:`${l}-leave-from`,leaveActiveClass:`${l}-leave-active`,leaveToClass:`${l}-leave-to`}}),transitionStyle:m(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}const Ve=[];function yn(e){return Ve.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function kn(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return Be(e)}else if(e.__qPortal===!0){const o=Be(e);return o!==void 0&&o.$options.name==="QPopupProxy"?(e.hide(t),o):e}e=Be(e)}while(e!=null)}function _n(e,t,o){for(;o!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(o--,e.$options.name==="QMenu"){e=kn(e,t);continue}e.hide(t)}e=Be(e)}}function xn(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function Cn(e,t,o,n){const l=M(!1),i=M(!1);let r=null;const a={},f=n==="dialog"&&xn(e);function h(g){if(g===!0){st(a),i.value=!0;return}i.value=!1,l.value===!1&&(f===!1&&r===null&&(r=Jt(!1,n)),l.value=!0,Ve.push(e.proxy),Oo(a))}function y(g){if(i.value=!1,g!==!0)return;st(a),l.value=!1;const x=Ve.indexOf(e.proxy);x!==-1&&Ve.splice(x,1),r!==null&&(Xt(r),r=null)}return We(()=>{y(!0)}),e.proxy.__qPortal=!0,Ke(e.proxy,"contentEl",()=>t.value),{showPortal:h,hidePortal:y,portalIsActive:l,portalIsAccessible:i,renderPortal:()=>f===!0?o():l.value===!0?[p(Yt,{to:r},o())]:void 0}}const de=[];let he;function wn(e){he=e.keyCode===27}function qn(){he===!0&&(he=!1)}function Sn(e){he===!0&&(he=!1,xt(e,27)===!0&&de[de.length-1](e))}function Ft(e){window[e]("keydown",wn),window[e]("blur",qn),window[e]("keyup",Sn),he=!1}function Bn(e){Ze.is.desktop===!0&&(de.push(e),de.length===1&&Ft("addEventListener"))}function dt(e){const t=de.indexOf(e);t>-1&&(de.splice(t,1),de.length===0&&Ft("removeEventListener"))}const fe=[];function Rt(e){fe[fe.length-1](e)}function Vn(e){Ze.is.desktop===!0&&(fe.push(e),fe.length===1&&document.body.addEventListener("focusin",Rt))}function ft(e){const t=fe.indexOf(e);t>-1&&(fe.splice(t,1),fe.length===0&&document.body.removeEventListener("focusin",Rt))}let Se=0;const Mn={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},vt={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},mt=ee({name:"QDialog",inheritAttrs:!1,props:{...yt,...bn,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...kt,"shake","click","escapeKey"],setup(e,{slots:t,emit:o,attrs:n}){const l=oe(),i=M(null),r=M(!1),a=M(!1);let f=null,h=null,y,g;const x=m(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:_}=oo(),{registerTimeout:B}=eo(),{registerTick:F,removeTick:$}=hn(),{transitionProps:A,transitionStyle:w}=pn(e,()=>vt[e.position][0],()=>vt[e.position][1]),{showPortal:Q,hidePortal:L,portalIsAccessible:j,renderPortal:N}=Cn(l,i,ne,"dialog"),{hide:S}=_t({showing:r,hideOnRouteChange:x,handleShow:V,handleHide:O,processOnMount:!0}),{addToHistory:b,removeFromHistory:u}=to(r,S,x),c=m(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Mn[e.position]}`+(a.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),k=m(()=>r.value===!0&&e.seamless!==!0),s=m(()=>e.autoClose===!0?{onClick:U}:{}),C=m(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${k.value===!0?"modal":"seamless"}`,n.class]);W(()=>e.maximized,q=>{r.value===!0&&I(q)}),W(k,q=>{_(q),q===!0?(Vn(z),Bn(R)):(ft(z),dt(R))});function V(q){b(),h=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,I(e.maximized),Q(),a.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),F(E)):$(),B(()=>{if(l.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:P,bottom:ae}=document.activeElement.getBoundingClientRect(),{innerHeight:et}=window,Te=window.visualViewport!==void 0?window.visualViewport.height:et;P>0&&ae>Te/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-Te,ae>=et?1/0:Math.ceil(document.scrollingElement.scrollTop+ae-Te/2))),document.activeElement.scrollIntoView()}g=!0,i.value.click(),g=!1}Q(!0),a.value=!1,o("show",q)},e.transitionDuration)}function O(q){$(),u(),Y(!0),a.value=!0,L(),h!==null&&(((q&&q.type.indexOf("key")===0?h.closest('[tabindex]:not([tabindex^="-"])'):void 0)||h).focus(),h=null),B(()=>{L(!0),a.value=!1,o("hide",q)},e.transitionDuration)}function E(q){Xe(()=>{let P=i.value;P===null||P.contains(document.activeElement)===!0||(P=(q!==""?P.querySelector(q):null)||P.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||P.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||P.querySelector("[autofocus], [data-autofocus]")||P,P.focus({preventScroll:!0}))})}function d(q){q&&typeof q.focus=="function"?q.focus({preventScroll:!0}):E(),o("shake");const P=i.value;P!==null&&(P.classList.remove("q-animate--scale"),P.classList.add("q-animate--scale"),f!==null&&clearTimeout(f),f=setTimeout(()=>{f=null,i.value!==null&&(P.classList.remove("q-animate--scale"),E())},170))}function R(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&d():(o("escapeKey"),S()))}function Y(q){f!==null&&(clearTimeout(f),f=null),(q===!0||r.value===!0)&&(I(!1),e.seamless!==!0&&(_(!1),ft(z),dt(R))),q!==!0&&(h=null)}function I(q){q===!0?y!==!0&&(Se<1&&document.body.classList.add("q-body--dialog"),Se++,y=!0):y===!0&&(Se<2&&document.body.classList.remove("q-body--dialog"),Se--,y=!1)}function U(q){g!==!0&&(S(q),o("click",q))}function v(q){e.persistent!==!0&&e.noBackdropDismiss!==!0?S(q):e.noShake!==!0&&d()}function z(q){e.allowFocusOutside!==!0&&j.value===!0&&no(i.value,q.target)!==!0&&E('[tabindex]:not([tabindex="-1"])')}Object.assign(l.proxy,{focus:E,shake:d,__updateRefocusTarget(q){h=q||null}}),ve(Y);function ne(){return p("div",{role:"dialog","aria-modal":k.value===!0?"true":"false",...n,class:C.value},[p(Me,{name:"q-transition--fade",appear:!0},()=>k.value===!0?p("div",{class:"q-dialog__backdrop fixed-full",style:w.value,"aria-hidden":"true",tabindex:-1,onClick:v}):null),p(Me,A.value,()=>r.value===!0?p("div",{ref:i,class:c.value,style:w.value,tabindex:-1,...s.value},X(t.default)):null)])}return N}});function gt(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}const Tt=lo({name:"close-popup",beforeMount(e,{value:t}){const o={depth:gt(t),handler(n){o.depth!==0&&setTimeout(()=>{const l=yn(e);l!==void 0&&_n(l,n,o.depth)})},handlerKey(n){xt(n,13)===!0&&o.handler(n)}};e.__qclosepopup=o,e.addEventListener("click",o.handler),e.addEventListener("keyup",o.handlerKey)},updated(e,{value:t,oldValue:o}){t!==o&&(e.__qclosepopup.depth=gt(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});function An(){return Fe(ao)}const En={name:"CameraPreview",emits:["capture","close"],setup(e,{emit:t}){const o=M(null);let n=null;const l=async()=>{try{n=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),o.value&&(o.value.srcObject=n)}catch(a){console.error("Error accessing camera:",a),t("close")}},i=()=>{n&&n.getTracks().forEach(a=>a.stop())},r=()=>{const a=document.createElement("canvas");a.width=o.value.videoWidth,a.height=o.value.videoHeight,a.getContext("2d").drawImage(o.value,0,0);const f=a.toDataURL("image/jpeg");t("capture",f),i()};return be(()=>{l()}),We(()=>{i()}),{videoElement:o,captureImage:r}}},Fn={ref:"videoElement",autoplay:"",playsinline:"",class:"full-width"};function Rn(e,t,o,n,l,i){return D(),ie(Re,{class:"camera-preview"},{default:K(()=>[T(ge,null,{default:K(()=>[J("video",Fn,null,512)]),_:1}),T(Vt,{align:"right"},{default:K(()=>[Ct(T(te,{flat:"",label:"Close",color:"primary"},null,512),[[Tt]]),T(te,{flat:"",label:"Capture",color:"primary",onClick:n.captureImage},null,8,["onClick"])]),_:1})]),_:1})}const Tn=xe(En,[["render",Rn],["__scopeId","data-v-a46b76bb"]]),Nn={name:"NoteModal",components:{CameraPreview:Tn},props:{note:{type:Object,required:!0}},emits:["update","delete","close"],setup(e,{emit:t}){const o=An(),n=M(!0),l=io({...e.note}),i=M(null),r=M(!1),a=M(!1),f=M(null),h=M([]),y=Ye();W(()=>e.note,b=>{Object.assign(l,b)});const g=()=>{x(l)?t("delete",l.id):t("update",l),t("close")},x=b=>b.title.trim()===""&&b.content.trim()===""&&!b.image&&!b.voiceMemo&&(b.type!=="todo"||b.items&&b.items.every(u=>u.text.trim()==="")),_=()=>{t("update",l),n.value=!1},B=async()=>{o.dialog({title:"Confirm",message:"Are you sure you want to delete this note?",cancel:!0,persistent:!0}).onOk(async()=>{await y.deleteNote(l.id),n.value=!1})},F=()=>{l.type==="todo"&&l.items.push({id:Date.now(),text:"",completed:!1})},$=(b,u)=>{l.type==="todo"&&(l.items[b].text=u)},A=()=>{i.value.click()},w=b=>{const u=b.target.files[0];if(u){const c=new FileReader;c.onload=k=>{l.image=k.target.result},c.readAsDataURL(u)}},Q=()=>{l.image=null},L=()=>{r.value=!0},j=b=>{l.image=b,r.value=!1},N=async()=>{if(a.value)S();else try{const b=await navigator.mediaDevices.getUserMedia({audio:!0});f.value=new MediaRecorder(b),f.value.ondataavailable=u=>{h.value.push(u.data)},f.value.onstop=()=>{const u=new Blob(h.value,{type:"audio/webm"});l.voiceMemo=URL.createObjectURL(u),h.value=[]},f.value.start(),a.value=!0}catch(b){console.error("Error accessing microphone:",b),o.notify({color:"negative",message:"Error accessing microphone. Please check your permissions."})}},S=()=>{f.value&&f.value.state!=="inactive"&&(f.value.stop(),a.value=!1)};return be(()=>{window.addEventListener("beforeunload",S)}),We(()=>{window.removeEventListener("beforeunload",S),S()}),{showModal:n,editedNote:l,fileInput:i,showCamera:r,recording:a,closeModal:g,saveNote:_,deleteNote:B,addTodoItem:F,updateTodoItem:$,triggerFileInput:A,handleFileUpload:w,removeImage:Q,openCamera:L,handleCameraCapture:j,toggleRecording:N}}},In={class:"text-h6"},Pn={key:2,class:"q-mt-md"},$n={class:"absolute-top-right"},On={key:3,class:"q-mt-md"},Dn=["src"];function zn(e,t,o,n,l,i){const r=ye("camera-preview");return D(),ie(mt,{modelValue:n.showModal,"onUpdate:modelValue":t[5]||(t[5]=a=>n.showModal=a),onHide:n.closeModal,maximized:"","transition-show":"slide-up","transition-hide":"slide-down"},{default:K(()=>[T(Re,{class:"column full-height"},{default:K(()=>[T(ge,{class:"row items-center q-pb-none"},{default:K(()=>[J("div",In,le(n.editedNote.title||"Untitled"),1),T(Fo),Ct(T(te,{icon:"close",flat:"",round:"",dense:""},null,512),[[Tt]])]),_:1}),T(ge,{class:"q-pa-sm flex-grow-1 overflow-auto"},{default:K(()=>[T($e,{modelValue:n.editedNote.title,"onUpdate:modelValue":t[0]||(t[0]=a=>n.editedNote.title=a),label:"Title",dense:"",autofocus:"",class:"q-mb-md"},null,8,["modelValue"]),n.editedNote.type==="todo"?(D(),Z(ke,{key:0},[(D(!0),Z(ke,null,He(n.editedNote.items,(a,f)=>(D(),Z("div",{key:a.id,class:"q-mb-sm"},[T(rn,{modelValue:a.completed,"onUpdate:modelValue":[h=>a.completed=h,h=>n.updateTodoItem(f,a.text)],label:a.text},null,8,["modelValue","onUpdate:modelValue","label"]),T($e,{modelValue:a.text,"onUpdate:modelValue":[h=>a.text=h,h=>n.updateTodoItem(f,h)],dense:"",class:"q-ml-lg"},null,8,["modelValue","onUpdate:modelValue"])]))),128)),T(te,{label:"Add Item",icon:"add",color:"primary",onClick:n.addTodoItem,class:"q-mt-sm"},null,8,["onClick"])],64)):(D(),ie($e,{key:1,modelValue:n.editedNote.content,"onUpdate:modelValue":t[1]||(t[1]=a=>n.editedNote.content=a),type:"textarea",label:"Content",autogrow:""},null,8,["modelValue"])),n.editedNote.image?(D(),Z("div",Pn,[T(Le,{src:n.editedNote.image,"spinner-color":"primary",style:{"max-height":"600px"}},{default:K(()=>[J("div",$n,[T(te,{round:"",color:"negative",icon:"delete",size:"sm",onClick:n.removeImage},null,8,["onClick"])])]),_:1},8,["src"])])):ue("",!0),n.editedNote.voiceMemo?(D(),Z("div",On,[J("audio",{src:n.editedNote.voiceMemo,controls:"",class:"full-width"},null,8,Dn)])):ue("",!0)]),_:1}),T(Vt,{position:"bottom-left"},{default:K(()=>[T(te,{flat:"",color:"negative",label:"Delete",onClick:n.deleteNote},null,8,["onClick"]),T(te,{flat:"",color:"primary",label:"Save",onClick:n.saveNote},null,8,["onClick"])]),_:1}),T(gn,{position:"bottom-right",offset:[18,18]},{default:K(()=>[T(fn,{icon:"add",direction:"up",color:"primary"},{default:K(()=>[T(Oe,{color:"primary",icon:"attach_file",onClick:n.triggerFileInput},null,8,["onClick"]),T(Oe,{color:"primary",icon:"photo_camera",onClick:n.openCamera},null,8,["onClick"]),T(Oe,{color:"primary",icon:n.recording?"stop":"mic",onClick:n.toggleRecording},null,8,["icon","onClick"])]),_:1})]),_:1})]),_:1}),J("input",{type:"file",ref:"fileInput",accept:"image/*",style:{display:"none"},onChange:t[2]||(t[2]=(...a)=>n.handleFileUpload&&n.handleFileUpload(...a))},null,544),T(mt,{modelValue:n.showCamera,"onUpdate:modelValue":t[4]||(t[4]=a=>n.showCamera=a)},{default:K(()=>[T(r,{onCapture:n.handleCameraCapture,onClose:t[3]||(t[3]=a=>n.showCamera=!1)},null,8,["onCapture"])]),_:1},8,["modelValue"])]),_:1},8,["modelValue","onHide"])}const Ln=xe(Nn,[["render",zn],["__scopeId","data-v-b9206da0"]]),jn={name:"QuickCreateArea",emits:["create-note"],setup(e,{emit:t}){const o=M(!1),n=Ye();return{expanded:o,expandArea:()=>{o.value=!0},createNote:async r=>{const a={title:"",content:"",type:r,...r==="todo"?{items:[]}:{}};await n.addNote(a),t("create-note",a),o.value=!1}}}},Un=e=>(ro("data-v-6037507c"),e=e(),so(),e),Qn={key:0,class:"row items-center"},Hn=Un(()=>J("div",{class:"text-primary q-ml-sm"},"Click to create...",-1)),Kn={key:1,class:"column q-gutter-y-sm"};function Zn(e,t,o,n,l,i){return D(),ie(Re,{class:"quick-create-area cursor-pointer",onClick:n.expandArea},{default:K(()=>[T(ge,null,{default:K(()=>[n.expanded?(D(),Z("div",Kn,[T(te,{flat:"",color:"primary",icon:"note_add",label:"Create a new note",onClick:t[0]||(t[0]=r=>n.createNote("note"))}),T(te,{flat:"",color:"primary",icon:"checklist",label:"Create a to-do list",onClick:t[1]||(t[1]=r=>n.createNote("todo"))})])):(D(),Z("div",Qn,[T(se,{name:"add",size:"sm",color:"primary"}),Hn]))]),_:1})]),_:1},8,["onClick"])}const Wn=xe(jn,[["render",Zn],["__scopeId","data-v-6037507c"]]),Gn={name:"Notesphere",components:{NoteCard:Ao,NoteModal:Ln,QuickCreateArea:Wn},setup(){const e=Ye(),t=M(null),o=M("grid"),n=async f=>{const h={title:"",content:"",type:f,...f==="todo"?{items:[]}:{}};await e.addNote(h),t.value=h},l=async f=>{await e.updateNote(f.id,f),t.value=null},i=async f=>{await e.deleteNote(f),t.value=null},r=f=>{t.value=f},a=()=>{t.value=null};return be(()=>{e.fetchNotes()}),{selectedNote:t,viewType:o,filteredNotes,createNote:n,updateNote:l,deleteNote:i,openNoteModal:r,closeNoteModal:a}}},Yn={class:"row q-col-gutter-md"},Jn={class:"col-12"},Xn={class:"col-12"};function el(e,t,o,n,l,i){const r=ye("quick-create-area"),a=ye("note-card"),f=ye("note-modal");return D(),ie(uo,{padding:""},{default:K(()=>[J("div",Yn,[J("div",Jn,[T(vo,{modelValue:n.viewType,"onUpdate:modelValue":t[0]||(t[0]=h=>n.viewType=h),spread:"","no-caps":"","toggle-color":"primary",color:"white","text-color":"primary",options:[{label:"Grid",value:"grid",icon:"grid_view"},{label:"List",value:"list",icon:"view_list"}]},null,8,["modelValue"])]),J("div",Xn,[T(r,{onCreateNote:n.createNote},null,8,["onCreateNote"])]),(D(!0),Z(ke,null,He(n.filteredNotes,h=>(D(),Z("div",{key:h.id,class:De({"col-12":n.viewType==="list","col-12 col-md-6 col-lg-4":n.viewType==="grid"})},[T(a,{note:h,"is-list-view":n.viewType==="list",onClick:y=>n.openNoteModal(h)},null,8,["note","is-list-view","onClick"])],2))),128))]),n.selectedNote?(D(),ie(f,{key:0,note:n.selectedNote,onClose:n.closeNoteModal,onUpdate:n.updateNote,onDelete:n.deleteNote},null,8,["note","onClose","onUpdate","onDelete"])):ue("",!0)]),_:1})}const ol=xe(Gn,[["render",el]]);export{ol as default};
