import{c as A,a as r,h,b as H,u as de,g as Ce,Q as L,d as G,e as fe,f as Se,r as q,w as ve,o as qe,T as we,i as Ve,_ as J,j as $e,k as y,l as O,m as $,t as P,n as N,p as z,q as d,s as ie,v as B,x as E,F as K,y as F,z as te,A as oe,B as X,C as Be,D as Ne,E as R,G as Ie,H as Te,I as Y,J as re,K as le,L as Le,M as me,N as Pe,O as Oe,P as je,R as Qe,S as Me,U as Z,V as Ae,W as Ue,X as Ee,Y as ze,Z as De,$ as Re,a0 as ne,a1 as ge,a2 as he,a3 as be,a4 as Fe,a5 as W,a6 as ue,a7 as Ke,a8 as He,a9 as We}from"./index-O4_iiSRS.js";const Ge=A({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:a}){const t=r(()=>{const l=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(i=>e[i]===!0).map(i=>`q-btn-group--${i}`).join(" ");return`q-btn-group row no-wrap${l.length!==0?" "+l:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>h("div",{class:t.value},H(a.default))}}),Je=A({name:"QBtnToggle",props:{...de,modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(a=>("label"in a||"icon"in a||"slot"in a)&&"value"in a)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(e,{slots:a,emit:t}){const l=r(()=>e.options.find(u=>u.value===e.modelValue)!==void 0),i=r(()=>({type:"hidden",name:e.name,value:e.modelValue})),n=fe(i),o=r(()=>Ce(e)),f=r(()=>({rounded:e.rounded,dense:e.dense,...o.value})),c=r(()=>e.options.map((u,v)=>{const{attrs:x,value:C,slot:T,...S}=u;return{slot:T,props:{key:v,"aria-pressed":C===e.modelValue?"true":"false",...x,...S,...f.value,disable:e.disable===!0||S.disable===!0,color:C===e.modelValue?m(S,"toggleColor"):m(S,"color"),textColor:C===e.modelValue?m(S,"toggleTextColor"):m(S,"textColor"),noCaps:m(S,"noCaps")===!0,noWrap:m(S,"noWrap")===!0,size:m(S,"size"),padding:m(S,"padding"),ripple:m(S,"ripple"),stack:m(S,"stack")===!0,stretch:m(S,"stretch")===!0,onClick(V){k(C,u,V)}}}}));function k(u,v,x){e.readonly!==!0&&(e.modelValue===u?e.clearable===!0&&(t("update:modelValue",null,null),t("clear")):t("update:modelValue",u,v),t("click",x))}function m(u,v){return u[v]===void 0?e[v]:u[v]}function s(){const u=c.value.map(v=>h(L,v.props,v.slot!==void 0?a[v.slot]:void 0));return e.name!==void 0&&e.disable!==!0&&l.value===!0&&n(u,"push"),G(a.default,u)}return()=>h(Ge,{class:"q-btn-toggle",...o.value,rounded:e.rounded,stretch:e.stretch,glossy:e.glossy,spread:e.spread},s)}}),pe=Se("notesStore",()=>{const e=q([]),a=async()=>{const n=await fetch("http://localhost:3000/");e.value=await n.json()};return{notes:e,fetchNotes:a,addNote:async n=>{const f=await(await fetch("http://localhost:3000/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json();e.value.push(f)},updateNote:async(n,o)=>{await fetch(`http://localhost:3000/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),await a()},deleteNote:async n=>{await fetch(`http://localhost:3000/${n}`,{method:"DELETE"}),e.value=e.value.filter(o=>o.id!==n)}}}),Xe={ratio:[String,Number]};function Ye(e,a){return r(()=>{const t=Number(e.ratio||(a!==void 0?a.value:void 0));return isNaN(t)!==!0&&t>0?{paddingBottom:`${100/t}%`}:null})}const Ze=16/9,ae=A({name:"QImg",props:{...Xe,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Ze},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:a,emit:t}){const l=q(e.initialRatio),i=Ye(e,l);let n=null,o=!1;const f=[q(null),q(T())],c=q(0),k=q(!1),m=q(!1),s=r(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),u=r(()=>({width:e.width,height:e.height})),v=r(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),x=r(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));ve(()=>C(),S);function C(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function T(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function S(g){n!==null&&(clearTimeout(n),n=null),m.value=!1,g===null?(k.value=!1,f[c.value^1].value=T()):k.value=!0,f[c.value].value=g}function V({target:g}){o!==!0&&(n!==null&&(clearTimeout(n),n=null),l.value=g.naturalHeight===0?.5:g.naturalWidth/g.naturalHeight,j(g,1))}function j(g,_){o===!0||_===1e3||(g.complete===!0?Q(g):n=setTimeout(()=>{n=null,j(g,_+1)},50))}function Q(g){o!==!0&&(c.value=c.value^1,f[c.value].value=null,k.value=!1,m.value=!1,t("load",g.currentSrc||g.src))}function M(g){n!==null&&(clearTimeout(n),n=null),k.value=!1,m.value=!0,f[c.value].value=null,f[c.value^1].value=T(),t("error",g)}function D(g){const _=f[g].value,p={key:"img_"+g,class:v.value,style:x.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,..._};return c.value===g?(p.class+=" q-img__image--waiting",Object.assign(p,{onLoad:V,onError:M})):p.class+=" q-img__image--loaded",h("div",{class:"q-img__container absolute-full",key:"img"+g},h("img",p))}function U(){return k.value!==!0?h("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},H(a[m.value===!0?"error":"default"])):h("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},a.loading!==void 0?a.loading():e.noSpinner===!0?void 0:[h(Ve,{color:e.spinnerColor,size:e.spinnerSize})])}return S(C()),qe(()=>{o=!0,n!==null&&(clearTimeout(n),n=null)}),()=>{const g=[];return i.value!==null&&g.push(h("div",{key:"filler",style:i.value})),m.value!==!0&&(f[0].value!==null&&g.push(D(0)),f[1].value!==null&&g.push(D(1))),g.push(h(we,{name:"q-transition--fade"},U)),h("div",{class:s.value,style:u.value,role:"img","aria-label":e.alt},g)}}}),et={key:0,class:"row items-center q-pa-md"},tt={class:"col"},at={class:"text-h6"},ot={key:0,class:"text-caption text-muted-foreground row items-center"},lt={key:1,class:"text-caption text-muted-foreground ellipsis"},nt={class:"text-h6"},st={key:0},it={key:0,class:"text-caption text-muted-foreground"},rt={class:"text-caption text-muted-foreground row items-center"},ut={key:1},ct={class:"ellipsis"},dt={__name:"NoteCard",props:{note:Object,onClick:Function,isListView:Boolean},setup(e){const a=e,t=r(()=>a.note.type==="todo"?a.note.items.filter(i=>i.completed).length:0),l=r(()=>a.note.type==="todo"?a.note.items.length:0);return(i,n)=>{const o=$e("q-audio");return y(),O(X,{onClick:e.onClick,class:te(["cursor-pointer hover-shadow-lg bg-card text-card-foreground",{"row items-center":e.isListView}])},{default:$(()=>[e.isListView?(y(),B("div",et,[N("div",tt,[N("h3",at,P(e.note.title||"Untitled"),1),e.note.type==="todo"?(y(),B("p",ot,[d(z,{name:"check_square",size:"16px",class:"q-mr-xs"}),ie(" "+P(t.value)+"/"+P(l.value)+" completed ",1)])):(y(),B("p",lt,P(e.note.content),1))]),e.note.image?(y(),O(ae,{key:0,src:e.note.image||"/placeholder.svg",alt:"Note image",class:"col-auto q-ml-md",style:{width:"48px",height:"48px","border-radius":"4px","object-fit":"cover"}},null,8,["src"])):E("",!0)])):(y(),B(K,{key:1},[d(F,null,{default:$(()=>[N("div",nt,P(e.note.title||"Untitled"),1)]),_:1}),d(F,null,{default:$(()=>[e.note.type==="todo"?(y(),B("div",st,[(y(!0),B(K,null,oe(e.note.items.slice(0,3),(f,c)=>(y(),B("div",{key:f.id,class:te(["text-body2",{"text-strike text-muted-foreground":f.completed}])},P(f.text||"Untitled item"),3))),128)),e.note.items.length>3?(y(),B("p",it," +"+P(e.note.items.length-3)+" more items ",1)):E("",!0),N("p",rt,[d(z,{name:"check_square",size:"16px",class:"q-mr-xs"}),ie(" "+P(t.value)+"/"+P(l.value)+" completed ",1)])])):(y(),B("div",ut,[N("p",ct,P(e.note.content),1),e.note.image?(y(),O(ae,{key:0,src:e.note.image||"/placeholder.svg",alt:"Note image",class:"q-mt-md",style:{width:"100%",height:"128px","border-radius":"4px","object-fit":"cover"}},null,8,["src"])):E("",!0),e.note.voiceMemo?(y(),O(o,{key:1,src:e.note.voiceMemo,controls:"",class:"q-mt-md"},null,8,["src"])):E("",!0)]))]),_:1})],64))]),_:1},8,["onClick","class"])}}},ft=J(dt,[["__scopeId","data-v-9f045d12"]]),vt=h("div",{class:"q-space"}),mt=A({name:"QSpace",setup(){return()=>vt}});function gt(e,a){const t=q(null),l=r(()=>e.disable===!0?null:h("span",{ref:t,class:"no-outline",tabindex:-1}));function i(n){const o=a.value;n!==void 0&&n.type.indexOf("key")===0?o!==null&&document.activeElement!==o&&o.contains(document.activeElement)===!0&&o.focus():t.value!==null&&(n===void 0||o!==null&&o.contains(n.target)===!0)&&t.value.focus()}return{refocusTargetEl:l,refocusTarget:i}}const ht={xs:30,sm:35,md:40,lg:50,xl:60},bt={...Ie,...Te,...de,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},pt=["update:modelValue"];function yt(e,a){const{props:t,slots:l,emit:i,proxy:n}=Y(),{$q:o}=n,f=Be(t,o),c=q(null),{refocusTargetEl:k,refocusTarget:m}=gt(t,c),s=Ne(t,ht),u=r(()=>t.val!==void 0&&Array.isArray(t.modelValue)),v=r(()=>{const b=R(t.val);return u.value===!0?t.modelValue.findIndex(I=>R(I)===b):-1}),x=r(()=>u.value===!0?v.value>-1:R(t.modelValue)===R(t.trueValue)),C=r(()=>u.value===!0?v.value===-1:R(t.modelValue)===R(t.falseValue)),T=r(()=>x.value===!1&&C.value===!1),S=r(()=>t.disable===!0?-1:t.tabindex||0),V=r(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(t.disable===!0?" disabled":"")+(f.value===!0?` q-${e}--dark`:"")+(t.dense===!0?` q-${e}--dense`:"")+(t.leftLabel===!0?" reverse":"")),j=r(()=>{const b=x.value===!0?"truthy":C.value===!0?"falsy":"indet",I=t.color!==void 0&&(t.keepColor===!0||(e==="toggle"?x.value===!0:C.value!==!0))?` text-${t.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${b}${I}`}),Q=r(()=>{const b={type:"checkbox"};return t.name!==void 0&&Object.assign(b,{".checked":x.value,"^checked":x.value===!0?"checked":void 0,name:t.name,value:u.value===!0?t.val:t.trueValue}),b}),M=fe(Q),D=r(()=>{const b={tabindex:S.value,role:e==="toggle"?"switch":"checkbox","aria-label":t.label,"aria-checked":T.value===!0?"mixed":x.value===!0?"true":"false"};return t.disable===!0&&(b["aria-disabled"]="true"),b});function U(b){b!==void 0&&(re(b),m(b)),t.disable!==!0&&i("update:modelValue",g(),b)}function g(){if(u.value===!0){if(x.value===!0){const b=t.modelValue.slice();return b.splice(v.value,1),b}return t.modelValue.concat([t.val])}if(x.value===!0){if(t.toggleOrder!=="ft"||t.toggleIndeterminate===!1)return t.falseValue}else if(C.value===!0){if(t.toggleOrder==="ft"||t.toggleIndeterminate===!1)return t.trueValue}else return t.toggleOrder!=="ft"?t.trueValue:t.falseValue;return t.indeterminateValue}function _(b){(b.keyCode===13||b.keyCode===32)&&re(b)}function p(b){(b.keyCode===13||b.keyCode===32)&&U(b)}const w=a(x,T);return Object.assign(n,{toggle:U}),()=>{const b=w();t.disable!==!0&&M(b,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const I=[h("div",{class:j.value,style:s.value,"aria-hidden":"true"},b)];k.value!==null&&I.push(k.value);const se=t.label!==void 0?G(l.default,[t.label]):H(l.default);return se!==void 0&&I.push(h("div",{class:`q-${e}__label q-anchor--skip`},se)),h("div",{ref:c,class:V.value,...D.value,onClick:U,onKeydown:_,onKeyup:p},I)}}const _t=h("div",{key:"svg",class:"q-checkbox__bg absolute"},[h("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[h("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),h("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]),kt=A({name:"QCheckbox",props:bt,emits:pt,setup(e){function a(t,l){const i=r(()=>(t.value===!0?e.checkedIcon:l.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>i.value!==null?[h("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[h(z,{class:"q-checkbox__icon",name:i.value})])]:[_t]}return yt("checkbox",a)}}),xt=["top","right","bottom","left"],ye={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:e=>xt.includes(e)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function _e(e,a){return{formClass:r(()=>`q-fab--form-${e.square===!0?"square":"rounded"}`),stacked:r(()=>e.externalLabel===!1&&["top","bottom"].includes(e.labelPosition)),labelProps:r(()=>{if(e.externalLabel===!0){const t=e.hideLabel===null?a.value===!1:e.hideLabel;return{action:"push",data:{class:[e.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${e.labelPosition}`+(t===!0?" q-fab__label--external-hidden":"")],style:e.labelStyle}}}return{action:["left","top"].includes(e.labelPosition)?"unshift":"push",data:{class:[e.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${e.labelPosition}`+(e.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:e.labelStyle}}})}}const ke={start:"self-end",center:"self-center",end:"self-start"},Ct=Object.keys(ke),ee=A({name:"QFabAction",props:{...ye,icon:{type:String,default:""},anchor:{type:String,validator:e=>Ct.includes(e)},to:[String,Object],replace:Boolean},emits:["click"],setup(e,{slots:a,emit:t}){const l=le(me,()=>({showing:{value:!0},onChildClick:Le})),{formClass:i,labelProps:n}=_e(e,l.showing),o=r(()=>{const s=ke[e.anchor];return i.value+(s!==void 0?` ${s}`:"")}),f=r(()=>e.disable===!0||l.showing.value!==!0);function c(s){l.onChildClick(s),t("click",s)}function k(){const s=[];return a.icon!==void 0?s.push(a.icon()):e.icon!==""&&s.push(h(z,{name:e.icon})),(e.label!==""||a.label!==void 0)&&s[n.value.action](h("div",n.value.data,a.label!==void 0?a.label():[e.label])),G(a.default,s)}const m=Y();return Object.assign(m.proxy,{click:c}),()=>h(L,{class:o.value,...e,noWrap:!0,stack:e.stacked,icon:void 0,label:void 0,noCaps:!0,fabMini:!0,disable:f.value,onClick:c},k)}}),St=["up","right","down","left"],qt=["left","center","right"],wt=A({name:"QFab",props:{...ye,...Pe,icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{default:null},direction:{type:String,default:"right",validator:e=>St.includes(e)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:e=>qt.includes(e)}},emits:Oe,setup(e,{slots:a}){const t=q(null),l=q(e.modelValue===!0),i=je(),{proxy:{$q:n}}=Y(),{formClass:o,labelProps:f}=_e(e,l),c=r(()=>e.persistent!==!0),{hide:k,toggle:m}=Qe({showing:l,hideOnRouteChange:c}),s=r(()=>({opened:l.value})),u=r(()=>`q-fab z-fab row inline justify-center q-fab--align-${e.verticalActionsAlign} ${o.value}`+(l.value===!0?" q-fab--opened":" q-fab--closed")),v=r(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${e.direction} q-fab__actions--${l.value===!0?"opened":"closed"}`),x=r(()=>{const V={id:i,role:"menu"};return l.value!==!0&&(V["aria-hidden"]="true"),V}),C=r(()=>`q-fab__icon-holder  q-fab__icon-holder--${l.value===!0?"opened":"closed"}`);function T(V,j){const Q=a[V],M=`q-fab__${V} absolute-full`;return Q===void 0?h(z,{class:M,name:e[j]||n.iconSet.fab[j]}):h("div",{class:M},Q(s.value))}function S(){const V=[];return e.hideIcon!==!0&&V.push(h("div",{class:C.value},[T("icon","icon"),T("active-icon","activeIcon")])),(e.label!==""||a.label!==void 0)&&V[f.value.action](h("div",f.value.data,a.label!==void 0?a.label(s.value):[e.label])),G(a.tooltip,V)}return Me(me,{showing:l,onChildClick(V){k(V),t.value!==null&&t.value.$el.focus()}}),()=>h("div",{class:u.value},[h(L,{ref:t,class:o.value,...e,noWrap:!0,stack:e.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":l.value===!0?"true":"false","aria-haspopup":"true","aria-controls":i,onClick:m},S),h("div",{class:v.value,...x.value},H(a.default))])}}),Vt={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>e.length===2},expand:Boolean};function $t(){const{props:e,proxy:{$q:a}}=Y(),t=le(Ae,Z);if(t===Z)return console.error("QPageSticky needs to be child of QLayout"),Z;const l=r(()=>{const s=e.position;return{top:s.indexOf("top")>-1,right:s.indexOf("right")>-1,bottom:s.indexOf("bottom")>-1,left:s.indexOf("left")>-1,vertical:s==="top"||s==="bottom",horizontal:s==="left"||s==="right"}}),i=r(()=>t.header.offset),n=r(()=>t.right.offset),o=r(()=>t.footer.offset),f=r(()=>t.left.offset),c=r(()=>{let s=0,u=0;const v=l.value,x=a.lang.rtl===!0?-1:1;v.top===!0&&i.value!==0?u=`${i.value}px`:v.bottom===!0&&o.value!==0&&(u=`${-o.value}px`),v.left===!0&&f.value!==0?s=`${x*f.value}px`:v.right===!0&&n.value!==0&&(s=`${-x*n.value}px`);const C={transform:`translate(${s}, ${u})`};return e.offset&&(C.margin=`${e.offset[1]}px ${e.offset[0]}px`),v.vertical===!0?(f.value!==0&&(C[a.lang.rtl===!0?"right":"left"]=`${f.value}px`),n.value!==0&&(C[a.lang.rtl===!0?"left":"right"]=`${n.value}px`)):v.horizontal===!0&&(i.value!==0&&(C.top=`${i.value}px`),o.value!==0&&(C.bottom=`${o.value}px`)),C}),k=r(()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--${e.expand===!0?"expand":"shrink"}`);function m(s){const u=H(s.default);return h("div",{class:k.value,style:c.value},e.expand===!0?u:[h("div",u)])}return{$layout:t,getStickyContent:m}}const Bt=A({name:"QPageSticky",props:Vt,setup(e,{slots:a}){const{getStickyContent:t}=$t();return()=>t(a)}});function ce(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const a=parseInt(e,10);return isNaN(a)?0:a}const xe=Ue({name:"close-popup",beforeMount(e,{value:a}){const t={depth:ce(a),handler(l){t.depth!==0&&setTimeout(()=>{const i=Ee(e);i!==void 0&&ze(i,l,t.depth)})},handlerKey(l){De(l,13)===!0&&t.handler(l)}};e.__qclosepopup=t,e.addEventListener("click",t.handler),e.addEventListener("keyup",t.handlerKey)},updated(e,{value:a,oldValue:t}){a!==t&&(e.__qclosepopup.depth=ce(a))},beforeUnmount(e){const a=e.__qclosepopup;e.removeEventListener("click",a.handler),e.removeEventListener("keyup",a.handlerKey),delete e.__qclosepopup}});function Nt(){return le(Re)}const It={__name:"CameraPreview",emits:["capture","close"],setup(e,{emit:a}){const t=a,l=q(null);let i=null;const n=async()=>{try{i=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),l.value&&(l.value.srcObject=i)}catch(c){console.error("Error accessing camera:",c),t("close")}},o=()=>{i&&i.getTracks().forEach(c=>c.stop())},f=()=>{const c=document.createElement("canvas");c.width=l.value.videoWidth,c.height=l.value.videoHeight,c.getContext("2d").drawImage(l.value,0,0);const k=c.toDataURL("image/jpeg");t("capture",k),o()};return ne(()=>{n()}),ge(()=>{o()}),(c,k)=>(y(),O(X,{class:"camera-preview"},{default:$(()=>[d(F,null,{default:$(()=>[N("video",{ref_key:"videoElement",ref:l,autoplay:"",playsinline:"",class:"full-width"},null,512)]),_:1}),d(he,{align:"right"},{default:$(()=>[be(d(L,{flat:"",label:"Close",color:"primary"},null,512),[[xe]]),d(L,{flat:"",label:"Capture",color:"primary",onClick:f})]),_:1})]),_:1}))}},Tt=J(It,[["__scopeId","data-v-f84dca24"]]),Lt={class:"text-h6"},Pt={key:2,class:"q-mt-md"},Ot={class:"absolute-top-right"},jt={key:3,class:"q-mt-md"},Qt=["src"],Mt={__name:"NoteModal",props:{note:{type:Object,required:!0}},emits:["update","delete","close"],setup(e,{emit:a}){const t=e,l=a,i=Nt(),n=q(!0),o=Fe({...t.note}),f=q(null),c=q(!1),k=q(!1),m=q(null),s=q([]);ve(()=>t.note,_=>{Object.assign(o,_)});const u=()=>{v(o)?l("delete",o.id):l("update",o),l("close")},v=_=>_.title.trim()===""&&_.content.trim()===""&&!_.image&&!_.voiceMemo&&(_.type!=="todo"||_.items&&_.items.every(p=>p.text.trim()==="")),x=()=>{l("update",o),n.value=!1},C=()=>{i.dialog({title:"Confirm",message:"Are you sure you want to delete this note?",cancel:!0,persistent:!0}).onOk(()=>{l("delete",o.id),n.value=!1})},T=()=>{o.type==="todo"&&o.items.push({id:Date.now(),text:"",completed:!1})},S=(_,p)=>{o.type==="todo"&&(o.items[_].text=p)},V=()=>{f.value.click()},j=_=>{const p=_.target.files[0];if(p){const w=new FileReader;w.onload=b=>{o.image=b.target.result},w.readAsDataURL(p)}},Q=()=>{o.image=null},M=()=>{c.value=!0},D=_=>{o.image=_,c.value=!1},U=async()=>{if(k.value)g();else try{const _=await navigator.mediaDevices.getUserMedia({audio:!0});m.value=new MediaRecorder(_),m.value.ondataavailable=p=>{s.value.push(p.data)},m.value.onstop=()=>{const p=new Blob(s.value,{type:"audio/webm"});o.voiceMemo=URL.createObjectURL(p),s.value=[]},m.value.start(),k.value=!0}catch(_){console.error("Error accessing microphone:",_),i.notify({color:"negative",message:"Error accessing microphone. Please check your permissions."})}},g=()=>{m.value&&m.value.state!=="inactive"&&(m.value.stop(),k.value=!1)};return ne(()=>{window.addEventListener("beforeunload",g)}),ge(()=>{window.removeEventListener("beforeunload",g),g()}),(_,p)=>(y(),O(ue,{modelValue:n.value,"onUpdate:modelValue":p[4]||(p[4]=w=>n.value=w),onHide:u,maximized:"","transition-show":"slide-up","transition-hide":"slide-down"},{default:$(()=>[d(X,{class:"column full-height"},{default:$(()=>[d(F,{class:"row items-center q-pb-none"},{default:$(()=>[N("div",Lt,P(o.title||"Untitled"),1),d(mt),be(d(L,{icon:"close",flat:"",round:"",dense:""},null,512),[[xe]])]),_:1}),d(F,{class:"q-pa-sm flex-grow-1 overflow-auto"},{default:$(()=>[d(W,{modelValue:o.title,"onUpdate:modelValue":p[0]||(p[0]=w=>o.title=w),label:"Title",dense:"",autofocus:"",class:"q-mb-md"},null,8,["modelValue"]),o.type==="todo"?(y(),B(K,{key:0},[(y(!0),B(K,null,oe(o.items,(w,b)=>(y(),B("div",{key:w.id,class:"q-mb-sm"},[d(kt,{modelValue:w.completed,"onUpdate:modelValue":[I=>w.completed=I,I=>S(b,w.text)],label:w.text},null,8,["modelValue","onUpdate:modelValue","label"]),d(W,{modelValue:w.text,"onUpdate:modelValue":[I=>w.text=I,I=>S(b,I)],dense:"",class:"q-ml-lg"},null,8,["modelValue","onUpdate:modelValue"])]))),128)),d(L,{label:"Add Item",icon:"add",color:"primary",onClick:T,class:"q-mt-sm"})],64)):(y(),O(W,{key:1,modelValue:o.content,"onUpdate:modelValue":p[1]||(p[1]=w=>o.content=w),type:"textarea",label:"Content",autogrow:""},null,8,["modelValue"])),o.image?(y(),B("div",Pt,[d(ae,{src:o.image,"spinner-color":"primary",style:{"max-height":"600px"}},{default:$(()=>[N("div",Ot,[d(L,{round:"",color:"negative",icon:"delete",size:"sm",onClick:Q})])]),_:1},8,["src"])])):E("",!0),o.voiceMemo?(y(),B("div",jt,[N("audio",{src:o.voiceMemo,controls:"",class:"full-width"},null,8,Qt)])):E("",!0)]),_:1}),d(he,{position:"bottom-left"},{default:$(()=>[d(L,{flat:"",color:"negative",label:"Delete",onClick:C}),d(L,{flat:"",color:"primary",label:"Save",onClick:x})]),_:1}),d(Bt,{position:"bottom-right",offset:[18,18]},{default:$(()=>[d(wt,{icon:"add",direction:"up",color:"primary"},{default:$(()=>[d(ee,{color:"primary",icon:"attach_file",onClick:V}),d(ee,{color:"primary",icon:"photo_camera",onClick:M}),d(ee,{color:"primary",icon:k.value?"stop":"mic",onClick:U},null,8,["icon"])]),_:1})]),_:1})]),_:1}),N("input",{type:"file",ref_key:"fileInput",ref:f,accept:"image/*",style:{display:"none"},onChange:j},null,544),d(ue,{modelValue:c.value,"onUpdate:modelValue":p[3]||(p[3]=w=>c.value=w)},{default:$(()=>[d(Tt,{onCapture:D,onClose:p[2]||(p[2]=w=>c.value=!1)})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]))}},At=J(Mt,[["__scopeId","data-v-96bbbb7a"]]),Ut=e=>(Ke("data-v-6ba4e3e9"),e=e(),He(),e),Et={key:0,class:"row items-center"},zt=Ut(()=>N("div",{class:"text-primary q-ml-sm"},"Click to create...",-1)),Dt={key:1,class:"column q-gutter-y-sm"},Rt={__name:"QuickCreateArea",setup(e){const a=q(!1),t=pe(),l=()=>{a.value=!0},i=async n=>{const o={title:"",content:"",type:n,...n==="todo"?{items:[]}:{}};await t.addNote(o),emit("create-note",o),a.value=!1};return(n,o)=>(y(),O(X,{class:"quick-create-area cursor-pointer",onClick:l},{default:$(()=>[d(F,null,{default:$(()=>[a.value?(y(),B("div",Dt,[d(L,{flat:"",color:"primary",icon:"note_add",label:"Create a new note",onClick:o[0]||(o[0]=f=>i("note"))}),d(L,{flat:"",color:"primary",icon:"checklist",label:"Create a to-do list",onClick:o[1]||(o[1]=f=>i("todo"))})])):(y(),B("div",Et,[d(z,{name:"add",size:"sm",color:"primary"}),zt]))]),_:1})]),_:1}))}},Ft=J(Rt,[["__scopeId","data-v-6ba4e3e9"]]),Kt={class:"row q-col-gutter-md"},Ht={class:"col-12"},Wt={class:"col-12"},Gt={class:"col-12"},Xt={__name:"HomeView",setup(e){const a=pe(),t=q(""),l=q(null),i=q("grid"),n=r(()=>a.notes.filter(s=>s.title.toLowerCase().includes(t.value.toLowerCase())||s.content.toLowerCase().includes(t.value.toLowerCase()))),o=async s=>{const u={title:"",content:"",type:s,...s==="todo"?{items:[]}:{}};await a.addNote(u),l.value=u},f=async s=>{await a.updateNote(s.id,s),l.value=null},c=async s=>{await a.deleteNote(s),l.value=null},k=s=>{l.value=s},m=()=>{l.value=null};return ne(()=>{a.fetchNotes()}),(s,u)=>(y(),O(We,{padding:""},{default:$(()=>[N("div",Kt,[N("div",Ht,[d(W,{modelValue:t.value,"onUpdate:modelValue":u[0]||(u[0]=v=>t.value=v),filled:"",type:"search",label:"Search notes"},{prepend:$(()=>[d(z,{name:"search"})]),_:1},8,["modelValue"])]),N("div",Wt,[d(Je,{modelValue:i.value,"onUpdate:modelValue":u[1]||(u[1]=v=>i.value=v),spread:"","no-caps":"","toggle-color":"primary",color:"white","text-color":"primary",options:[{label:"Grid",value:"grid",icon:"grid_view"},{label:"List",value:"list",icon:"view_list"}]},null,8,["modelValue"])]),N("div",Gt,[d(Ft,{onCreateNote:o})]),(y(!0),B(K,null,oe(n.value,v=>(y(),B("div",{key:v.id,class:te({"col-12":i.value==="list","col-12 col-md-6 col-lg-4":i.value==="grid"})},[d(ft,{note:v,"is-list-view":i.value==="list",onClick:x=>k(v)},null,8,["note","is-list-view","onClick"])],2))),128))]),l.value?(y(),O(At,{key:0,note:l.value,onClose:m,onUpdate:f,onDelete:c},null,8,["note"])):E("",!0)]),_:1}))}};export{Xt as default};
