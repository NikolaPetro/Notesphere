import{i as tt,f as Ct,g as le,w as Z,o as me,a as ue,r as B,c as h,d as _t,b as Te,e as xt,s as St,n as ne,h as lt,j as qt,k as Bt,l as y,p as ge,u as nt,m as at,Q as be,q as ot,t as X,T as Se,v as Mt,x as Pe,y as te,z as Le,A as Vt,B as ae,C as it,D as $t,_ as Be,E as Et,F as Y,G as oe,H as K,I as he,J as U,K as ce,L as de,M as rt,N as I,O as st,P as ut,R as ct,S as dt,U as Rt,V as Ft,W as At,X as Tt,Y as Pt,Z as _e,$ as Ne,a0 as Nt,a1 as It,a2 as Ot,a3 as ft,a4 as Dt,a5 as Lt,a6 as jt,a7 as zt,a8 as Ut,a9 as Ht,aa as vt,ab as Qt,ac as Kt,ad as Zt,ae as Wt,af as Gt}from"./index-9_5sZUmi.js";function Yt({validate:e,resetValidation:t,requiresQForm:l}){const n=tt(Ct,!1);if(n!==!1){const{props:s,proxy:i}=le();Object.assign(i,{validate:e,resetValidation:t}),Z(()=>s.disable,a=>{a===!0?(typeof t=="function"&&t(),n.unbindComponent(i)):n.bindComponent(i)}),me(()=>{s.disable!==!0&&n.bindComponent(i)}),ue(()=>{s.disable!==!0&&n.unbindComponent(i)})}else l===!0&&console.error("Parent QForm not found on useFormChild()!")}const je=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,ze=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Ue=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,ye=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,we=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,$e={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>je.test(e),hexaColor:e=>ze.test(e),hexOrHexaColor:e=>Ue.test(e),rgbColor:e=>ye.test(e),rgbaColor:e=>we.test(e),rgbOrRgbaColor:e=>ye.test(e)||we.test(e),hexOrRgbColor:e=>je.test(e)||ye.test(e),hexaOrRgbaColor:e=>ze.test(e)||we.test(e),anyColor:e=>Ue.test(e)||ye.test(e)||we.test(e)},Jt=[!0,!1,"ondemand"],Xt={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>Jt.includes(e)}};function el(e,t){const{props:l,proxy:n}=le(),s=B(!1),i=B(null),a=B(null);Yt({validate:T,resetValidation:C});let f=0,b;const k=h(()=>l.rules!==void 0&&l.rules!==null&&l.rules.length!==0),g=h(()=>l.disable!==!0&&k.value===!0),m=h(()=>l.error===!0||s.value===!0),_=h(()=>typeof l.errorMessage=="string"&&l.errorMessage.length!==0?l.errorMessage:i.value);Z(()=>l.modelValue,()=>{D()}),Z(()=>l.reactiveRules,M=>{M===!0?b===void 0&&(b=Z(()=>l.rules,()=>{D(!0)})):b!==void 0&&(b(),b=void 0)},{immediate:!0}),Z(e,M=>{M===!0?a.value===null&&(a.value=!1):a.value===!1&&(a.value=!0,g.value===!0&&l.lazyRules!=="ondemand"&&t.value===!1&&P())});function C(){f++,t.value=!1,a.value=null,s.value=!1,i.value=null,P.cancel()}function T(M=l.modelValue){if(g.value!==!0)return!0;const S=++f,Q=t.value!==!0?()=>{a.value=!0}:()=>{},L=(R,w)=>{R===!0&&Q(),s.value=R,i.value=w||null,t.value=!1},j=[];for(let R=0;R<l.rules.length;R++){const w=l.rules[R];let v;if(typeof w=="function"?v=w(M,$e):typeof w=="string"&&$e[w]!==void 0&&(v=$e[w](M)),v===!1||typeof v=="string")return L(!0,v),!1;v!==!0&&v!==void 0&&j.push(v)}return j.length===0?(L(!1),!0):(t.value=!0,Promise.all(j).then(R=>{if(R===void 0||Array.isArray(R)===!1||R.length===0)return S===f&&L(!1),!0;const w=R.find(v=>v===!1||typeof v=="string");return S===f&&L(w!==void 0,w),w===void 0},R=>(S===f&&(console.error(R),L(!0)),!1)))}function D(M){g.value===!0&&l.lazyRules!=="ondemand"&&(a.value===!0||l.lazyRules!==!0&&M!==!0)&&P()}const P=_t(T,0);return ue(()=>{b!==void 0&&b(),P.cancel()}),Object.assign(n,{resetValidation:C,validate:T}),Te(n,"hasError",()=>m.value),{isDirtyModel:a,hasRules:k,hasError:m,errorMessage:_,validate:T,resetValidation:C}}const He=/^on[A-Z]/;function tl(e,t){const l={listeners:B({}),attributes:B({})};function n(){const s={},i={};for(const a in e)a!=="class"&&a!=="style"&&He.test(a)===!1&&(s[a]=e[a]);for(const a in t.props)He.test(a)===!0&&(i[a]=t.props[a]);l.attributes.value=s,l.listeners.value=i}return xt(n),n(),l}let Ee,ke=0;const W=new Array(256);for(let e=0;e<256;e++)W[e]=(e+256).toString(16).substring(1);const ll=(()=>{const e=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const l=new Uint8Array(t);return e.getRandomValues(l),l}}return t=>{const l=[];for(let n=t;n>0;n--)l.push(Math.floor(Math.random()*256));return l}})(),Qe=4096;function Ie(){(Ee===void 0||ke+16>Qe)&&(ke=0,Ee=ll(Qe));const e=Array.prototype.slice.call(Ee,ke,ke+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,W[e[0]]+W[e[1]]+W[e[2]]+W[e[3]]+"-"+W[e[4]]+W[e[5]]+"-"+W[e[6]]+W[e[7]]+"-"+W[e[8]]+W[e[9]]+"-"+W[e[10]]+W[e[11]]+W[e[12]]+W[e[13]]+W[e[14]]+W[e[15]]}let ie=[],pe=[];function mt(e){pe=pe.filter(t=>t!==e)}function nl(e){mt(e),pe.push(e)}function Ke(e){mt(e),pe.length===0&&ie.length!==0&&(ie[ie.length-1](),ie=[])}function Oe(e){pe.length===0?e():ie.push(e)}function al(e){ie=ie.filter(t=>t!==e)}function gt(e,t){return e===void 0?t===!0?`f_${Ie()}`:void 0:e}function Re(e){return e!=null&&(""+e).length!==0}const ol={...nt,...Xt,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},il=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function rl({requiredForAttr:e=!0,tagProp:t}={}){const{props:l,attrs:n,proxy:s,vnode:i}=le(),a=at(l,s.$q);return{requiredForAttr:e,tag:t===!0?h(()=>l.tag):{value:"label"},isDark:a,editable:h(()=>l.disable!==!0&&l.readonly!==!0),innerLoading:B(!1),focused:B(!1),hasPopupOpen:!1,splitAttrs:tl(n,i),targetUid:B(gt(l.for,e)),rootRef:B(null),targetRef:B(null),controlRef:B(null)}}function sl(e){const{props:t,emit:l,slots:n,attrs:s,proxy:i}=le(),{$q:a}=i;let f=null;e.hasValue===void 0&&(e.hasValue=h(()=>Re(t.modelValue))),e.emitValue===void 0&&(e.emitValue=u=>{l("update:modelValue",u)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:o,onFocusout:r}),Object.assign(e,{clearValue:p,onControlFocusin:o,onControlFocusout:r,focus:w}),e.computedCounter===void 0&&(e.computedCounter=h(()=>{if(t.counter!==!1){const u=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,$=t.maxlength!==void 0?t.maxlength:t.maxValues;return u+($!==void 0?" / "+$:"")}}));const{isDirtyModel:b,hasRules:k,hasError:g,errorMessage:m,resetValidation:_}=el(e.focused,e.innerLoading),C=e.floatingLabel!==void 0?h(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):h(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),T=h(()=>t.bottomSlots===!0||t.hint!==void 0||k.value===!0||t.counter===!0||t.error!==null),D=h(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),P=h(()=>`q-field row no-wrap items-start q-field--${D.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(C.value===!0?" q-field--float":"")+(S.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(g.value===!0?" q-field--error":"")+(g.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&T.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),M=h(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(g.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),S=h(()=>t.labelSlot===!0||t.label!==void 0),Q=h(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&g.value!==!0?` text-${t.labelColor}`:"")),L=h(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:C.value,modelValue:t.modelValue,emitValue:e.emitValue})),j=h(()=>{const u={for:e.targetUid.value};return t.disable===!0?u["aria-disabled"]="true":t.readonly===!0&&(u["aria-readonly"]="true"),u});Z(()=>t.for,u=>{e.targetUid.value=gt(u,e.requiredForAttr)});function R(){const u=document.activeElement;let $=e.targetRef!==void 0&&e.targetRef.value;$&&(u===null||u.id!==e.targetUid.value)&&($.hasAttribute("tabindex")===!0||($=$.querySelector("[tabindex]")),$&&$!==u&&$.focus({preventScroll:!0}))}function w(){Oe(R)}function v(){al(R);const u=document.activeElement;u!==null&&e.rootRef.value.contains(u)&&u.blur()}function o(u){f!==null&&(clearTimeout(f),f=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,l("focus",u))}function r(u,$){f!==null&&clearTimeout(f),f=setTimeout(()=>{f=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,l("blur",u)),$!==void 0&&$())})}function p(u){St(u),a.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),l("update:modelValue",null),l("clear",t.modelValue),ne(()=>{_(),a.platform.is.mobile!==!0&&(b.value=!1)})}function d(){const u=[];return n.prepend!==void 0&&u.push(y("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:ge},n.prepend())),u.push(y("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},E())),g.value===!0&&t.noErrorIcon===!1&&u.push(N("error",[y(be,{name:a.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?u.push(N("inner-loading-append",n.loading!==void 0?n.loading():[y(ot,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&u.push(N("inner-clearable-append",[y(be,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||a.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:p})])),n.append!==void 0&&u.push(y("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:ge},n.append())),e.getInnerAppend!==void 0&&u.push(N("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&u.push(e.getControlChild()),u}function E(){const u=[];return t.prefix!==void 0&&t.prefix!==null&&u.push(y("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&u.push(e.getShadowControl()),e.getControl!==void 0?u.push(e.getControl()):n.rawControl!==void 0?u.push(n.rawControl()):n.control!==void 0&&u.push(y("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},n.control(L.value))),S.value===!0&&u.push(y("div",{class:Q.value},X(n.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&u.push(y("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),u.concat(X(n.default))}function V(){let u,$;g.value===!0?m.value!==null?(u=[y("div",{role:"alert"},m.value)],$=`q--slot-error-${m.value}`):(u=X(n.error),$="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(u=[y("div",t.hint)],$=`q--slot-hint-${t.hint}`):(u=X(n.hint),$="q--slot-hint"));const G=t.counter===!0||n.counter!==void 0;if(t.hideBottomSpace===!0&&G===!1&&u===void 0)return;const F=y("div",{key:$,class:"q-field__messages col"},u);return y("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:ge},[t.hideBottomSpace===!0?F:y(Se,{name:"q-transition--field-message"},()=>F),G===!0?y("div",{class:"q-field__counter"},n.counter!==void 0?n.counter():e.computedCounter.value):null])}function N(u,$){return $===null?null:y("div",{key:u,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},$)}let q=!1;return lt(()=>{q=!0}),qt(()=>{q===!0&&t.autofocus===!0&&i.focus()}),me(()=>{Bt.value===!0&&e.requiredForAttr===!0&&t.for===void 0&&(e.targetUid.value=`f_${Ie()}`),t.autofocus===!0&&i.focus()}),ue(()=>{f!==null&&clearTimeout(f)}),Object.assign(i,{focus:w,blur:v}),function(){const $=e.getControl===void 0&&n.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...j.value}:j.value;return y(e.tag.value,{ref:e.rootRef,class:[P.value,s.class],style:s.style,...$},[n.before!==void 0?y("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:ge},n.before()):null,y("div",{class:"q-field__inner relative-position col self-stretch"},[y("div",{ref:e.controlRef,class:M.value,tabindex:-1,...e.controlEvents},d()),T.value===!0?V():null]),n.after!==void 0?y("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:ge},n.after()):null])}}const Ze={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},qe={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},ht=Object.keys(qe);ht.forEach(e=>{qe[e].regex=new RegExp(qe[e].pattern)});const ul=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+ht.join("")+"])|(.)","g"),We=/[.*+?^${}()|[\]\\]/g,H="",cl={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function dl(e,t,l,n){let s,i,a,f,b,k;const g=B(null),m=B(C());function _(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}Z(()=>e.type+e.autogrow,D),Z(()=>e.mask,o=>{if(o!==void 0)P(m.value,!0);else{const r=w(m.value);D(),e.modelValue!==r&&t("update:modelValue",r)}}),Z(()=>e.fillMask+e.reverseFillMask,()=>{g.value===!0&&P(m.value,!0)}),Z(()=>e.unmaskedValue,()=>{g.value===!0&&P(m.value)});function C(){if(D(),g.value===!0){const o=j(w(e.modelValue));return e.fillMask!==!1?v(o):o}return e.modelValue}function T(o){if(o<s.length)return s.slice(-o);let r="",p=s;const d=p.indexOf(H);if(d>-1){for(let E=o-p.length;E>0;E--)r+=H;p=p.slice(0,d)+r+p.slice(d)}return p}function D(){if(g.value=e.mask!==void 0&&e.mask.length!==0&&_(),g.value===!1){f=void 0,s="",i="";return}const o=Ze[e.mask]===void 0?e.mask:Ze[e.mask],r=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",p=r.replace(We,"\\$&"),d=[],E=[],V=[];let N=e.reverseFillMask===!0,q="",u="";o.replace(ul,(z,c,O,J,x)=>{if(J!==void 0){const A=qe[J];V.push(A),u=A.negate,N===!0&&(E.push("(?:"+u+"+)?("+A.pattern+"+)?(?:"+u+"+)?("+A.pattern+"+)?"),N=!1),E.push("(?:"+u+"+)?("+A.pattern+")?")}else if(O!==void 0)q="\\"+(O==="\\"?"":O),V.push(O),d.push("([^"+q+"]+)?"+q+"?");else{const A=c!==void 0?c:x;q=A==="\\"?"\\\\\\\\":A.replace(We,"\\\\$&"),V.push(A),d.push("([^"+q+"]+)?"+q+"?")}});const $=new RegExp("^"+d.join("")+"("+(q===""?".":"[^"+q+"]")+"+)?"+(q===""?"":"["+q+"]*")+"$"),G=E.length-1,F=E.map((z,c)=>c===0&&e.reverseFillMask===!0?new RegExp("^"+p+"*"+z):c===G?new RegExp("^"+z+"("+(u===""?".":u)+"+)?"+(e.reverseFillMask===!0?"$":p+"*")):new RegExp("^"+z));a=V,f=z=>{const c=$.exec(e.reverseFillMask===!0?z:z.slice(0,V.length+1));c!==null&&(z=c.slice(1).join(""));const O=[],J=F.length;for(let x=0,A=z;x<J;x++){const ee=F[x].exec(A);if(ee===null)break;A=A.slice(ee.shift().length),O.push(...ee)}return O.length!==0?O.join(""):z},s=V.map(z=>typeof z=="string"?z:H).join(""),i=s.split(H).join(r)}function P(o,r,p){const d=n.value,E=d.selectionEnd,V=d.value.length-E,N=w(o);r===!0&&D();const q=j(N),u=e.fillMask!==!1?v(q):q,$=m.value!==u;d.value!==u&&(d.value=u),$===!0&&(m.value=u),document.activeElement===d&&ne(()=>{if(u===i){const F=e.reverseFillMask===!0?i.length:0;d.setSelectionRange(F,F,"forward");return}if(p==="insertFromPaste"&&e.reverseFillMask!==!0){const F=d.selectionEnd;let z=E-1;for(let c=b;c<=z&&c<F;c++)s[c]!==H&&z++;S.right(d,z);return}if(["deleteContentBackward","deleteContentForward"].indexOf(p)>-1){const F=e.reverseFillMask===!0?E===0?u.length>q.length?1:0:Math.max(0,u.length-(u===i?0:Math.min(q.length,V)+1))+1:E;d.setSelectionRange(F,F,"forward");return}if(e.reverseFillMask===!0)if($===!0){const F=Math.max(0,u.length-(u===i?0:Math.min(q.length,V+1)));F===1&&E===1?d.setSelectionRange(F,F,"forward"):S.rightReverse(d,F)}else{const F=u.length-V;d.setSelectionRange(F,F,"backward")}else if($===!0){const F=Math.max(0,s.indexOf(H),Math.min(q.length,E)-1);S.right(d,F)}else{const F=E-1;S.right(d,F)}});const G=e.unmaskedValue===!0?w(u):u;String(e.modelValue)!==G&&(e.modelValue!==null||G!=="")&&l(G,!0)}function M(o,r,p){const d=j(w(o.value));r=Math.max(0,s.indexOf(H),Math.min(d.length,r)),b=r,o.setSelectionRange(r,p,"forward")}const S={left(o,r){const p=s.slice(r-1).indexOf(H)===-1;let d=Math.max(0,r-1);for(;d>=0;d--)if(s[d]===H){r=d,p===!0&&r++;break}if(d<0&&s[r]!==void 0&&s[r]!==H)return S.right(o,0);r>=0&&o.setSelectionRange(r,r,"backward")},right(o,r){const p=o.value.length;let d=Math.min(p,r+1);for(;d<=p;d++)if(s[d]===H){r=d;break}else s[d-1]===H&&(r=d);if(d>p&&s[r-1]!==void 0&&s[r-1]!==H)return S.left(o,p);o.setSelectionRange(r,r,"forward")},leftReverse(o,r){const p=T(o.value.length);let d=Math.max(0,r-1);for(;d>=0;d--)if(p[d-1]===H){r=d;break}else if(p[d]===H&&(r=d,d===0))break;if(d<0&&p[r]!==void 0&&p[r]!==H)return S.rightReverse(o,0);r>=0&&o.setSelectionRange(r,r,"backward")},rightReverse(o,r){const p=o.value.length,d=T(p),E=d.slice(0,r+1).indexOf(H)===-1;let V=Math.min(p,r+1);for(;V<=p;V++)if(d[V-1]===H){r=V,r>0&&E===!0&&r--;break}if(V>p&&d[r-1]!==void 0&&d[r-1]!==H)return S.leftReverse(o,p);o.setSelectionRange(r,r,"forward")}};function Q(o){t("click",o),k=void 0}function L(o){if(t("keydown",o),Mt(o)===!0||o.altKey===!0)return;const r=n.value,p=r.selectionStart,d=r.selectionEnd;if(o.shiftKey||(k=void 0),o.keyCode===37||o.keyCode===39){o.shiftKey&&k===void 0&&(k=r.selectionDirection==="forward"?p:d);const E=S[(o.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(o.preventDefault(),E(r,k===p?d:p),o.shiftKey){const V=r.selectionStart;r.setSelectionRange(Math.min(k,V),Math.max(k,V),"forward")}}else o.keyCode===8&&e.reverseFillMask!==!0&&p===d?(S.left(r,p),r.setSelectionRange(r.selectionStart,d,"backward")):o.keyCode===46&&e.reverseFillMask===!0&&p===d&&(S.rightReverse(r,d),r.setSelectionRange(p,r.selectionEnd,"forward"))}function j(o){if(o==null||o==="")return"";if(e.reverseFillMask===!0)return R(o);const r=a;let p=0,d="";for(let E=0;E<r.length;E++){const V=o[p],N=r[E];if(typeof N=="string")d+=N,V===N&&p++;else if(V!==void 0&&N.regex.test(V))d+=N.transform!==void 0?N.transform(V):V,p++;else return d}return d}function R(o){const r=a,p=s.indexOf(H);let d=o.length-1,E="";for(let V=r.length-1;V>=0&&d>-1;V--){const N=r[V];let q=o[d];if(typeof N=="string")E=N+E,q===N&&d--;else if(q!==void 0&&N.regex.test(q))do E=(N.transform!==void 0?N.transform(q):q)+E,d--,q=o[d];while(p===V&&q!==void 0&&N.regex.test(q));else return E}return E}function w(o){return typeof o!="string"||f===void 0?typeof o=="number"?f(""+o):o:f(o)}function v(o){return i.length-o.length<=0?o:e.reverseFillMask===!0&&o.length!==0?i.slice(0,-o.length)+o:o+i.slice(o.length)}return{innerValue:m,hasMask:g,moveCursorForPaste:M,updateMaskValue:P,onMaskedKeydown:L,onMaskedClick:Q}}const bt={name:String};function fl(e={}){return(t,l,n)=>{t[l](y("input",{class:"hidden"+(n||""),...e.value}))}}function vl(e){return h(()=>e.name||e.for)}function ml(e,t){function l(){const n=e.modelValue;try{const s="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(n)===n&&("length"in n?Array.from(n):[n]).forEach(i=>{s.items.add(i)}),{files:s.files}}catch{return{files:void 0}}}return t===!0?h(()=>{if(e.type==="file")return l()}):h(l)}const gl=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,hl=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,bl=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,pl=/[a-z0-9_ -]$/i;function yl(e){return function(l){if(l.type==="compositionend"||l.type==="change"){if(l.target.qComposing!==!0)return;l.target.qComposing=!1,e(l)}else l.type==="compositionupdate"&&l.target.qComposing!==!0&&typeof l.data=="string"&&(Pe.is.firefox===!0?pl.test(l.data)===!1:gl.test(l.data)===!0||hl.test(l.data)===!0||bl.test(l.data)===!0)===!0&&(l.target.qComposing=!0)}}const Fe=te({name:"QInput",inheritAttrs:!1,props:{...ol,...cl,...bt,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...il,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:l}){const{proxy:n}=le(),{$q:s}=n,i={};let a=NaN,f,b,k=null,g;const m=B(null),_=vl(e),{innerValue:C,hasMask:T,moveCursorForPaste:D,updateMaskValue:P,onMaskedKeydown:M,onMaskedClick:S}=dl(e,t,q,m),Q=ml(e,!0),L=h(()=>Re(C.value)),j=yl(V),R=rl(),w=h(()=>e.type==="textarea"||e.autogrow===!0),v=h(()=>w.value===!0||["text","search","url","tel","password"].includes(e.type)),o=h(()=>{const c={...R.splitAttrs.listeners.value,onInput:V,onPaste:E,onChange:$,onBlur:G,onFocus:Le};return c.onCompositionstart=c.onCompositionupdate=c.onCompositionend=j,T.value===!0&&(c.onKeydown=M,c.onClick=S),e.autogrow===!0&&(c.onAnimationend=N),c}),r=h(()=>{const c={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:_.value,...R.splitAttrs.attributes.value,id:R.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return w.value===!1&&(c.type=e.type),e.autogrow===!0&&(c.rows=1),c});Z(()=>e.type,()=>{m.value&&(m.value.value=e.modelValue)}),Z(()=>e.modelValue,c=>{if(T.value===!0){if(b===!0&&(b=!1,String(c)===a))return;P(c)}else C.value!==c&&(C.value=c,e.type==="number"&&i.hasOwnProperty("value")===!0&&(f===!0?f=!1:delete i.value));e.autogrow===!0&&ne(u)}),Z(()=>e.autogrow,c=>{c===!0?ne(u):m.value!==null&&l.rows>0&&(m.value.style.height="auto")}),Z(()=>e.dense,()=>{e.autogrow===!0&&ne(u)});function p(){Oe(()=>{const c=document.activeElement;m.value!==null&&m.value!==c&&(c===null||c.id!==R.targetUid.value)&&m.value.focus({preventScroll:!0})})}function d(){m.value!==null&&m.value.select()}function E(c){if(T.value===!0&&e.reverseFillMask!==!0){const O=c.target;D(O,O.selectionStart,O.selectionEnd)}t("paste",c)}function V(c){if(!c||!c.target)return;if(e.type==="file"){t("update:modelValue",c.target.files);return}const O=c.target.value;if(c.target.qComposing===!0){i.value=O;return}if(T.value===!0)P(O,!1,c.inputType);else if(q(O),v.value===!0&&c.target===document.activeElement){const{selectionStart:J,selectionEnd:x}=c.target;J!==void 0&&x!==void 0&&ne(()=>{c.target===document.activeElement&&O.indexOf(c.target.value)===0&&c.target.setSelectionRange(J,x)})}e.autogrow===!0&&u()}function N(c){t("animationend",c),u()}function q(c,O){g=()=>{k=null,e.type!=="number"&&i.hasOwnProperty("value")===!0&&delete i.value,e.modelValue!==c&&a!==c&&(a=c,O===!0&&(b=!0),t("update:modelValue",c),ne(()=>{a===c&&(a=NaN)})),g=void 0},e.type==="number"&&(f=!0,i.value=c),e.debounce!==void 0?(k!==null&&clearTimeout(k),i.value=c,k=setTimeout(g,e.debounce)):g()}function u(){requestAnimationFrame(()=>{const c=m.value;if(c!==null){const O=c.parentNode.style,{scrollTop:J}=c,{overflowY:x,maxHeight:A}=s.platform.is.firefox===!0?{}:window.getComputedStyle(c),ee=x!==void 0&&x!=="scroll";ee===!0&&(c.style.overflowY="hidden"),O.marginBottom=c.scrollHeight-1+"px",c.style.height="1px",c.style.height=c.scrollHeight+"px",ee===!0&&(c.style.overflowY=parseInt(A,10)<c.scrollHeight?"auto":"hidden"),O.marginBottom="",c.scrollTop=J}})}function $(c){j(c),k!==null&&(clearTimeout(k),k=null),g!==void 0&&g(),t("change",c.target.value)}function G(c){c!==void 0&&Le(c),k!==null&&(clearTimeout(k),k=null),g!==void 0&&g(),f=!1,b=!1,delete i.value,e.type!=="file"&&setTimeout(()=>{m.value!==null&&(m.value.value=C.value!==void 0?C.value:"")})}function F(){return i.hasOwnProperty("value")===!0?i.value:C.value!==void 0?C.value:""}ue(()=>{G()}),me(()=>{e.autogrow===!0&&u()}),Object.assign(R,{innerValue:C,fieldClass:h(()=>`q-${w.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:h(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:m,emitValue:q,hasValue:L,floatingLabel:h(()=>L.value===!0&&(e.type!=="number"||isNaN(C.value)===!1)||Re(e.displayValue)),getControl:()=>y(w.value===!0?"textarea":"input",{ref:m,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...r.value,...o.value,...e.type!=="file"?{value:F()}:Q.value}),getShadowControl:()=>y("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(w.value===!0?"":" text-no-wrap")},[y("span",{class:"invisible"},F()),y("span",e.shadowText)])});const z=sl(R);return Object.assign(n,{focus:p,select:d,getNativeElement:()=>m.value}),Te(n,"nativeEl",()=>m.value),z}}),wl=te({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const l=h(()=>{const n=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(s=>e[s]===!0).map(s=>`q-btn-group--${s}`).join(" ");return`q-btn-group row no-wrap${n.length!==0?" "+n:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>y("div",{class:l.value},X(t.default))}}),kl=te({name:"QBtnToggle",props:{...bt,modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(t=>("label"in t||"icon"in t||"slot"in t)&&"value"in t)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(e,{slots:t,emit:l}){const n=h(()=>e.options.find(_=>_.value===e.modelValue)!==void 0),s=h(()=>({type:"hidden",name:e.name,value:e.modelValue})),i=fl(s),a=h(()=>Vt(e)),f=h(()=>({rounded:e.rounded,dense:e.dense,...a.value})),b=h(()=>e.options.map((_,C)=>{const{attrs:T,value:D,slot:P,...M}=_;return{slot:P,props:{key:C,"aria-pressed":D===e.modelValue?"true":"false",...T,...M,...f.value,disable:e.disable===!0||M.disable===!0,color:D===e.modelValue?g(M,"toggleColor"):g(M,"color"),textColor:D===e.modelValue?g(M,"toggleTextColor"):g(M,"textColor"),noCaps:g(M,"noCaps")===!0,noWrap:g(M,"noWrap")===!0,size:g(M,"size"),padding:g(M,"padding"),ripple:g(M,"ripple"),stack:g(M,"stack")===!0,stretch:g(M,"stretch")===!0,onClick(S){k(D,_,S)}}}}));function k(_,C,T){e.readonly!==!0&&(e.modelValue===_?e.clearable===!0&&(l("update:modelValue",null,null),l("clear")):l("update:modelValue",_,C),l("click",T))}function g(_,C){return _[C]===void 0?e[C]:_[C]}function m(){const _=b.value.map(C=>y(ae,C.props,C.slot!==void 0?t[C.slot]:void 0));return e.name!==void 0&&e.disable!==!0&&n.value===!0&&i(_,"push"),it(t.default,_)}return()=>y(wl,{class:"q-btn-toggle",...a.value,rounded:e.rounded,stretch:e.stretch,glossy:e.glossy,spread:e.spread},m)}}),fe=te({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const l=h(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>y(e.tag,{class:l.value},X(t.default))}}),Me=te({name:"QCard",props:{...nt,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:l}}=le(),n=at(e,l),s=h(()=>"q-card"+(n.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>y(e.tag,{class:s.value},X(t.default))}}),Cl=$t("notesStore",()=>{const e=B([]),t=async()=>{const a=await fetch("http://localhost:3000/notes");e.value=await a.json()};return{notes:e,fetchNotes:t,addNote:async a=>{const b=await(await fetch("http://localhost:3000/notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json();e.value.push(b)},updateNote:async(a,f)=>{await fetch(`http://localhost:3000/notes/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}),await t()},deleteNote:async a=>{await fetch(`http://localhost:3000/notes/${a}`,{method:"DELETE"}),e.value=e.value.filter(f=>f.id!==a)},uploadImage:async a=>{const f=new FormData;f.append("image",a,`note-image-${Date.now()}.jpg`);try{const b=await fetch("http://localhost:3000/upload",{method:"POST",body:f});if(!b.ok)throw new Error("Failed to upload image");return(await b.json()).filePath}catch(b){return console.error("Error uploading image:",b),null}}}}),_l={ratio:[String,Number]};function xl(e,t){return h(()=>{const l=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(l)!==!0&&l>0?{paddingBottom:`${100/l}%`}:null})}const Sl=16/9,Ae=te({name:"QImg",props:{..._l,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Sl},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:l}){const n=B(e.initialRatio),s=xl(e,n);let i=null,a=!1;const f=[B(null),B(P())],b=B(0),k=B(!1),g=B(!1),m=h(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),_=h(()=>({width:e.width,height:e.height})),C=h(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),T=h(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));Z(()=>D(),M);function D(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function P(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function M(v){i!==null&&(clearTimeout(i),i=null),g.value=!1,v===null?(k.value=!1,f[b.value^1].value=P()):k.value=!0,f[b.value].value=v}function S({target:v}){a!==!0&&(i!==null&&(clearTimeout(i),i=null),n.value=v.naturalHeight===0?.5:v.naturalWidth/v.naturalHeight,Q(v,1))}function Q(v,o){a===!0||o===1e3||(v.complete===!0?L(v):i=setTimeout(()=>{i=null,Q(v,o+1)},50))}function L(v){a!==!0&&(b.value=b.value^1,f[b.value].value=null,k.value=!1,g.value=!1,l("load",v.currentSrc||v.src))}function j(v){i!==null&&(clearTimeout(i),i=null),k.value=!1,g.value=!0,f[b.value].value=null,f[b.value^1].value=P(),l("error",v)}function R(v){const o=f[v].value,r={key:"img_"+v,class:C.value,style:T.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...o};return b.value===v?(r.class+=" q-img__image--waiting",Object.assign(r,{onLoad:S,onError:j})):r.class+=" q-img__image--loaded",y("div",{class:"q-img__container absolute-full",key:"img"+v},y("img",r))}function w(){return k.value!==!0?y("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},X(t[g.value===!0?"error":"default"])):y("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[y(ot,{color:e.spinnerColor,size:e.spinnerSize})])}return M(D()),ue(()=>{a=!0,i!==null&&(clearTimeout(i),i=null)}),()=>{const v=[];return s.value!==null&&v.push(y("div",{key:"filler",style:s.value})),g.value!==!0&&(f[0].value!==null&&v.push(R(0)),f[1].value!==null&&v.push(R(1))),v.push(y(Se,{name:"q-transition--fade"},w)),y("div",{class:m.value,style:_.value,role:"img","aria-label":e.alt},v)}}}),ql={key:0,class:"row items-center q-pa-md"},Bl={class:"col"},Ml={class:"text-h6"},Vl={class:"text-caption text-muted-foreground ellipsis"},$l={class:"text-h6"},El={class:"ellipsis"},Rl={__name:"NoteCard",props:{note:Object,onClick:Function,isListView:Boolean},setup(e){return(t,l)=>{const n=Et("q-audio");return Y(),oe(Me,{onClick:e.onClick,class:st(["cursor-pointer hover-shadow-lg bg-card text-card-foreground",{"row items-center":e.isListView}])},{default:K(()=>[e.isListView?(Y(),de("div",ql,[U("div",Bl,[U("h3",Ml,he(e.note.title||"Untitled"),1),U("p",Vl,he(e.note.content),1)]),e.note.image?(Y(),oe(Ae,{key:0,src:e.note.image||"/http://localhost:3000/public/images/daily-todo.jpg",alt:"Note image",class:"col-auto q-ml-md",style:{width:"48px",height:"58px","border-radius":"4px","object-fit":"cover"}},null,8,["src"])):ce("",!0)])):(Y(),de(rt,{key:1},[I(fe,null,{default:K(()=>[U("div",$l,he(e.note.title||"Untitled"),1)]),_:1}),I(fe,null,{default:K(()=>[U("div",null,[U("p",El,he(e.note.content),1),e.note.image?(Y(),oe(Ae,{key:0,src:e.note.image||"/placeholder.svg",alt:"Note image",class:"q-mt-md",style:{width:"100%",height:"128px","border-radius":"4px","object-fit":"cover"}},null,8,["src"])):ce("",!0),e.note.voiceMemo?(Y(),oe(n,{key:1,src:e.note.voiceMemo,controls:"",class:"q-mt-md"},null,8,["src"])):ce("",!0)])]),_:1})],64))]),_:1},8,["onClick","class"])}}},Fl=Be(Rl,[["__scopeId","data-v-65f4c2e9"]]),Al=y("div",{class:"q-space"}),Tl=te({name:"QSpace",setup(){return()=>Al}}),Pl=["top","right","bottom","left"],Nl={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:e=>Pl.includes(e)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function Il(e,t){return{formClass:h(()=>`q-fab--form-${e.square===!0?"square":"rounded"}`),stacked:h(()=>e.externalLabel===!1&&["top","bottom"].includes(e.labelPosition)),labelProps:h(()=>{if(e.externalLabel===!0){const l=e.hideLabel===null?t.value===!1:e.hideLabel;return{action:"push",data:{class:[e.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${e.labelPosition}`+(l===!0?" q-fab__label--external-hidden":"")],style:e.labelStyle}}}return{action:["left","top"].includes(e.labelPosition)?"unshift":"push",data:{class:[e.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${e.labelPosition}`+(e.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:e.labelStyle}}})}}const Ol=["up","right","down","left"],Dl=["left","center","right"],Ll=te({name:"QFab",props:{...Nl,...ut,icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{default:null},direction:{type:String,default:"right",validator:e=>Ol.includes(e)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:e=>Dl.includes(e)}},emits:ct,setup(e,{slots:t}){const l=B(null),n=B(e.modelValue===!0),s=Ie(),{proxy:{$q:i}}=le(),{formClass:a,labelProps:f}=Il(e,n),b=h(()=>e.persistent!==!0),{hide:k,toggle:g}=dt({showing:n,hideOnRouteChange:b}),m=h(()=>({opened:n.value})),_=h(()=>`q-fab z-fab row inline justify-center q-fab--align-${e.verticalActionsAlign} ${a.value}`+(n.value===!0?" q-fab--opened":" q-fab--closed")),C=h(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${e.direction} q-fab__actions--${n.value===!0?"opened":"closed"}`),T=h(()=>{const S={id:s,role:"menu"};return n.value!==!0&&(S["aria-hidden"]="true"),S}),D=h(()=>`q-fab__icon-holder  q-fab__icon-holder--${n.value===!0?"opened":"closed"}`);function P(S,Q){const L=t[S],j=`q-fab__${S} absolute-full`;return L===void 0?y(be,{class:j,name:e[Q]||i.iconSet.fab[Q]}):y("div",{class:j},L(m.value))}function M(){const S=[];return e.hideIcon!==!0&&S.push(y("div",{class:D.value},[P("icon","icon"),P("active-icon","activeIcon")])),(e.label!==""||t.label!==void 0)&&S[f.value.action](y("div",f.value.data,t.label!==void 0?t.label(m.value):[e.label])),it(t.tooltip,S)}return Rt(Ft,{showing:n,onChildClick(S){k(S),l.value!==null&&l.value.$el.focus()}}),()=>y("div",{class:_.value},[y(ae,{ref:l,class:a.value,...e,noWrap:!0,stack:e.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":n.value===!0?"true":"false","aria-haspopup":"true","aria-controls":s,onClick:g},M),y("div",{class:C.value,...T.value},X(t.default))])}}),pt=te({name:"QCardActions",props:{...At,vertical:Boolean},setup(e,{slots:t}){const l=Tt(e),n=h(()=>`q-card__actions ${l.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>y("div",{class:n.value},X(t.default))}});function jl(){let e;const t=le();function l(){e=void 0}return lt(l),ue(l),{removeTick:l,registerTick(n){e=n,ne(()=>{e===n&&(Pt(t)===!1&&e(),e=void 0)})}}}const zl={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function Ul(e,t=()=>{},l=()=>{}){return{transitionProps:h(()=>{const n=`q-transition--${e.transitionShow||t()}`,s=`q-transition--${e.transitionHide||l()}`;return{appear:!0,enterFromClass:`${n}-enter-from`,enterActiveClass:`${n}-enter-active`,enterToClass:`${n}-enter-to`,leaveFromClass:`${s}-leave-from`,leaveActiveClass:`${s}-leave-active`,leaveToClass:`${s}-leave-to`}}),transitionStyle:h(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}const xe=[];function Hl(e){return xe.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function Ql(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return _e(e)}else if(e.__qPortal===!0){const l=_e(e);return l!==void 0&&l.$options.name==="QPopupProxy"?(e.hide(t),l):e}e=_e(e)}while(e!=null)}function Kl(e,t,l){for(;l!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(l--,e.$options.name==="QMenu"){e=Ql(e,t);continue}e.hide(t)}e=_e(e)}}function Zl(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function Wl(e,t,l,n){const s=B(!1),i=B(!1);let a=null;const f={},b=n==="dialog"&&Zl(e);function k(m){if(m===!0){Ke(f),i.value=!0;return}i.value=!1,s.value===!1&&(b===!1&&a===null&&(a=It(!1,n)),s.value=!0,xe.push(e.proxy),nl(f))}function g(m){if(i.value=!1,m!==!0)return;Ke(f),s.value=!1;const _=xe.indexOf(e.proxy);_!==-1&&xe.splice(_,1),a!==null&&(Ot(a),a=null)}return Ne(()=>{g(!0)}),e.proxy.__qPortal=!0,Te(e.proxy,"contentEl",()=>t.value),{showPortal:k,hidePortal:g,portalIsActive:s,portalIsAccessible:i,renderPortal:()=>b===!0?l():s.value===!0?[y(Nt,{to:a},l())]:void 0}}const re=[];let ve;function Gl(e){ve=e.keyCode===27}function Yl(){ve===!0&&(ve=!1)}function Jl(e){ve===!0&&(ve=!1,ft(e,27)===!0&&re[re.length-1](e))}function yt(e){window[e]("keydown",Gl),window[e]("blur",Yl),window[e]("keyup",Jl),ve=!1}function Xl(e){Pe.is.desktop===!0&&(re.push(e),re.length===1&&yt("addEventListener"))}function Ge(e){const t=re.indexOf(e);t>-1&&(re.splice(t,1),re.length===0&&yt("removeEventListener"))}const se=[];function wt(e){se[se.length-1](e)}function en(e){Pe.is.desktop===!0&&(se.push(e),se.length===1&&document.body.addEventListener("focusin",wt))}function Ye(e){const t=se.indexOf(e);t>-1&&(se.splice(t,1),se.length===0&&document.body.removeEventListener("focusin",wt))}let Ce=0;const tn={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Je={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},Xe=te({name:"QDialog",inheritAttrs:!1,props:{...ut,...zl,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...ct,"shake","click","escapeKey"],setup(e,{slots:t,emit:l,attrs:n}){const s=le(),i=B(null),a=B(!1),f=B(!1);let b=null,k=null,g,m;const _=h(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:C}=jt(),{registerTimeout:T}=Dt(),{registerTick:D,removeTick:P}=jl(),{transitionProps:M,transitionStyle:S}=Ul(e,()=>Je[e.position][0],()=>Je[e.position][1]),{showPortal:Q,hidePortal:L,portalIsAccessible:j,renderPortal:R}=Wl(s,i,J,"dialog"),{hide:w}=dt({showing:a,hideOnRouteChange:_,handleShow:V,handleHide:N,processOnMount:!0}),{addToHistory:v,removeFromHistory:o}=Lt(a,w,_),r=h(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${tn[e.position]}`+(f.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),p=h(()=>a.value===!0&&e.seamless!==!0),d=h(()=>e.autoClose===!0?{onClick:z}:{}),E=h(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${p.value===!0?"modal":"seamless"}`,n.class]);Z(()=>e.maximized,x=>{a.value===!0&&F(x)}),Z(p,x=>{C(x),x===!0?(en(O),Xl($)):(Ye(O),Ge($))});function V(x){v(),k=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,F(e.maximized),Q(),f.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),D(q)):P(),T(()=>{if(s.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:A,bottom:ee}=document.activeElement.getBoundingClientRect(),{innerHeight:De}=window,Ve=window.visualViewport!==void 0?window.visualViewport.height:De;A>0&&ee>Ve/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-Ve,ee>=De?1/0:Math.ceil(document.scrollingElement.scrollTop+ee-Ve/2))),document.activeElement.scrollIntoView()}m=!0,i.value.click(),m=!1}Q(!0),f.value=!1,l("show",x)},e.transitionDuration)}function N(x){P(),o(),G(!0),f.value=!0,L(),k!==null&&(((x&&x.type.indexOf("key")===0?k.closest('[tabindex]:not([tabindex^="-"])'):void 0)||k).focus(),k=null),T(()=>{L(!0),f.value=!1,l("hide",x)},e.transitionDuration)}function q(x){Oe(()=>{let A=i.value;A===null||A.contains(document.activeElement)===!0||(A=(x!==""?A.querySelector(x):null)||A.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||A.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||A.querySelector("[autofocus], [data-autofocus]")||A,A.focus({preventScroll:!0}))})}function u(x){x&&typeof x.focus=="function"?x.focus({preventScroll:!0}):q(),l("shake");const A=i.value;A!==null&&(A.classList.remove("q-animate--scale"),A.classList.add("q-animate--scale"),b!==null&&clearTimeout(b),b=setTimeout(()=>{b=null,i.value!==null&&(A.classList.remove("q-animate--scale"),q())},170))}function $(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&u():(l("escapeKey"),w()))}function G(x){b!==null&&(clearTimeout(b),b=null),(x===!0||a.value===!0)&&(F(!1),e.seamless!==!0&&(C(!1),Ye(O),Ge($))),x!==!0&&(k=null)}function F(x){x===!0?g!==!0&&(Ce<1&&document.body.classList.add("q-body--dialog"),Ce++,g=!0):g===!0&&(Ce<2&&document.body.classList.remove("q-body--dialog"),Ce--,g=!1)}function z(x){m!==!0&&(w(x),l("click",x))}function c(x){e.persistent!==!0&&e.noBackdropDismiss!==!0?w(x):e.noShake!==!0&&u()}function O(x){e.allowFocusOutside!==!0&&j.value===!0&&zt(i.value,x.target)!==!0&&q('[tabindex]:not([tabindex="-1"])')}Object.assign(s.proxy,{focus:q,shake:u,__updateRefocusTarget(x){k=x||null}}),ue(G);function J(){return y("div",{role:"dialog","aria-modal":p.value===!0?"true":"false",...n,class:E.value},[y(Se,{name:"q-transition--fade",appear:!0},()=>p.value===!0?y("div",{class:"q-dialog__backdrop fixed-full",style:S.value,"aria-hidden":"true",tabindex:-1,onClick:c}):null),y(Se,M.value,()=>a.value===!0?y("div",{ref:i,class:r.value,style:S.value,tabindex:-1,...d.value},X(t.default)):null)])}return R}});function et(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}const kt=Ut({name:"close-popup",beforeMount(e,{value:t}){const l={depth:et(t),handler(n){l.depth!==0&&setTimeout(()=>{const s=Hl(e);s!==void 0&&Kl(s,n,l.depth)})},handlerKey(n){ft(n,13)===!0&&l.handler(n)}};e.__qclosepopup=l,e.addEventListener("click",l.handler),e.addEventListener("keyup",l.handlerKey)},updated(e,{value:t,oldValue:l}){t!==l&&(e.__qclosepopup.depth=et(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});function ln(){return tt(Ht)}const nn={name:"CameraPreview",emits:["capture","close"],setup(e,{emit:t}){const l=B(null);let n=null;const s=async()=>{try{n=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),l.value&&(l.value.srcObject=n)}catch(f){console.error("Error accessing camera:",f),t("close")}},i=()=>{n&&n.getTracks().forEach(f=>f.stop())},a=()=>{const f=document.createElement("canvas");f.width=l.value.videoWidth,f.height=l.value.videoHeight,f.getContext("2d").drawImage(l.value,0,0);const b=f.toDataURL("image/jpeg");t("capture",b),i()};return me(()=>{s()}),Ne(()=>{i()}),{videoElement:l,captureImage:a}}},an={ref:"videoElement",autoplay:"",playsinline:"",class:"full-width"};function on(e,t,l,n,s,i){return Y(),oe(Me,{class:"camera-preview"},{default:K(()=>[I(fe,null,{default:K(()=>[U("video",an,null,512)]),_:1}),I(pt,{align:"right"},{default:K(()=>[vt(I(ae,{flat:"",label:"Close",color:"primary"},null,512),[[kt]]),I(ae,{flat:"",label:"Capture",color:"primary",onClick:n.captureImage},null,8,["onClick"])]),_:1})]),_:1})}const rn=Be(nn,[["render",on],["__scopeId","data-v-a46b76bb"]]),sn={class:"text-h6"},un={key:0,class:"q-mt-md"},cn={class:"absolute-top-right"},dn={key:1,class:"q-mt-md"},fn=["src"],vn={class:"q-mt-md q-mb-md q-ml-auto"},mn=["icon"],gn={__name:"NoteModal",props:{note:{type:Object,required:!0}},emits:["update","delete","close"],setup(e,{emit:t}){const l=e,n=t,s=ln(),i=B(!0),a=Qt({...l.note}),f=B(null),b=B(!1),k=B(!1),g=B(null),m=B([]);Z(()=>l.note,w=>{Object.assign(a,w)});const _=()=>{C(a)?n("delete",a.id):n("update",a),n("close")},C=w=>w.title.trim()===""&&w.content.trim()===""&&!w.image&&!w.voiceMemo&&(w.type!=="todo"||w.items&&w.items.every(v=>v.text.trim()==="")),T=()=>{n("update",a),i.value=!1},D=()=>{s.dialog({title:"Confirm",message:"Are you sure you want to delete this note?",cancel:!0,persistent:!0}).onOk(()=>{n("delete",a.id),i.value=!1})},P=()=>{f.value.click()},M=w=>{const v=w.target.files[0];if(v){const o=new FileReader;o.onload=r=>{a.image=r.target.result},o.readAsDataURL(v)}},S=()=>{a.image=null},Q=()=>{b.value=!0},L=w=>{a.image=w,b.value=!1},j=async()=>{if(k.value)R();else try{const w=await navigator.mediaDevices.getUserMedia({audio:!0});g.value=new MediaRecorder(w),g.value.ondataavailable=v=>{m.value.push(v.data)},g.value.onstop=()=>{const v=new Blob(m.value,{type:"audio/webm"});a.voiceMemo=URL.createObjectURL(v),m.value=[]},g.value.start(),k.value=!0}catch(w){console.error("Error accessing microphone:",w),s.notify({color:"negative",message:"Error accessing microphone. Please check your permissions."})}},R=()=>{g.value&&g.value.state!=="inactive"&&(g.value.stop(),k.value=!1)};return me(()=>{window.addEventListener("beforeunload",R)}),Ne(()=>{window.removeEventListener("beforeunload",R),R()}),(w,v)=>(Y(),oe(Xe,{modelValue:i.value,"onUpdate:modelValue":v[4]||(v[4]=o=>i.value=o),onHide:_,persistent:"","transition-show":"slide-up","transition-hide":"slide-down",maximized:!1,style:{width:"400px",height:"700px",maxWidth:"90%",maxHeight:"90%"}},{default:K(()=>[I(Me,{class:"column",style:{"max-width":"400px"}},{default:K(()=>[I(fe,{class:"row items-center q-pb-none"},{default:K(()=>[U("div",sn,he(a.title||"Untitled"),1),I(Tl),vt(I(ae,{icon:"close",flat:"",round:"",dense:""},null,512),[[kt]])]),_:1}),I(fe,{class:"q-pa-sm flex-grow-1 overflow-auto"},{default:K(()=>[I(Fe,{modelValue:a.title,"onUpdate:modelValue":v[0]||(v[0]=o=>a.title=o),label:"Title",dense:"",autofocus:"",class:"q-mb-md"},null,8,["modelValue"]),I(Fe,{modelValue:a.content,"onUpdate:modelValue":v[1]||(v[1]=o=>a.content=o),type:"textarea",label:"Content",autogrow:""},null,8,["modelValue"]),a.image?(Y(),de("div",un,[I(Ae,{src:a.image,"spinner-color":"primary",style:{"max-height":"1000px"}},{default:K(()=>[U("div",cn,[I(ae,{round:"",color:"negative",icon:"delete",size:"sm",onClick:S})])]),_:1},8,["src"])])):ce("",!0),a.voiceMemo?(Y(),de("div",dn,[U("audio",{src:a.voiceMemo,controls:"",class:"full-width"},null,8,fn)])):ce("",!0),I(pt,{position:"bottom"},{default:K(()=>[I(ae,{flat:"",color:"negative",label:"Delete",onClick:D}),I(ae,{flat:"",color:"primary",label:"Save",onClick:T}),U("div",vn,[I(Ll,{icon:"add",direction:"right",color:"primary"},{default:K(()=>[U("div",{color:"primary",icon:"attach_file",onClick:P}),U("div",{color:"primary",icon:"photo_camera",onClick:Q}),U("div",{color:"primary",icon:k.value?"stop":"mic",onClick:j},null,8,mn)]),_:1})])]),_:1})]),_:1})]),_:1}),U("input",{type:"file",ref_key:"fileInput",ref:f,accept:"image/*",style:{display:"none"},onChange:M},null,544),I(Xe,{modelValue:b.value,"onUpdate:modelValue":v[3]||(v[3]=o=>b.value=o)},{default:K(()=>[I(rn,{onCapture:L,onClose:v[2]||(v[2]=o=>b.value=!1)})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]))}},hn=Be(gn,[["__scopeId","data-v-4fe5d7e3"]]),bn=e=>(Wt("data-v-0940759f"),e=e(),Gt(),e),pn={class:"row q-col-gutter-md"},yn={class:"col-12"},wn={class:"col-12"},kn={class:"col-12"},Cn={class:"row items-center"},_n=bn(()=>U("div",{class:"text-primary q-ml-sm"},"Click to create...",-1)),xn={__name:"HomeView",setup(e){const t=Cl(),l=B(""),n=B(null),s=B("grid"),i=h(()=>{const m=new RegExp(l.value,"i");return t.notes.filter(_=>m.test(_.title)||m.test(_.content))}),a=async m=>{const _={title:"",content:"",type:m,...m==="todo"?{items:[]}:{}};await t.addNote(_),n.value=_},f=async m=>{await t.updateNote(m.id,m),n.value=null},b=async m=>{await t.deleteNote(m),n.value=null},k=m=>{n.value=m},g=()=>{n.value=null};return me(()=>{t.fetchNotes()}),(m,_)=>(Y(),oe(Kt,{padding:""},{default:K(()=>[U("div",pn,[U("div",yn,[I(Fe,{modelValue:l.value,"onUpdate:modelValue":_[0]||(_[0]=C=>l.value=C),filled:"",type:"search",label:"Search notes"},{prepend:K(()=>[I(be,{name:"search"})]),_:1},8,["modelValue"])]),U("div",wn,[I(kl,{modelValue:s.value,"onUpdate:modelValue":_[1]||(_[1]=C=>s.value=C),spread:"","no-caps":"","toggle-color":"primary",color:"white","text-color":"primary",options:[{label:"Grid",value:"grid",icon:"grid_view"},{label:"List",value:"list",icon:"view_list"}]},null,8,["modelValue"])]),U("div",kn,[I(Me,{class:"quick-create-area cursor-pointer",onClick:_[2]||(_[2]=C=>a("note"))},{default:K(()=>[I(fe,null,{default:K(()=>[U("div",Cn,[I(be,{name:"add",size:"sm",color:"primary"}),_n])]),_:1})]),_:1})]),(Y(!0),de(rt,null,Zt(i.value,C=>(Y(),de("div",{key:C.id,class:st({"col-12":s.value==="list","col-12 col-md-6 col-lg-4":s.value==="grid"})},[I(Fl,{note:C,"is-list-view":s.value==="list",onClick:T=>k(C)},null,8,["note","is-list-view","onClick"])],2))),128))]),n.value?(Y(),oe(hn,{key:0,note:n.value,onClose:g,onUpdate:f,onDelete:b},null,8,["note"])):ce("",!0)]),_:1}))}},qn=Be(xn,[["__scopeId","data-v-0940759f"]]);export{qn as default};
