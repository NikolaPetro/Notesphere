import{i as Pe,f as Bt,g as le,w as Z,o as me,a as ue,r as B,c as h,d as Mt,b as Ne,e as Vt,s as $t,n as ae,h as at,j as Et,k as Rt,l as p,p as he,u as ot,m as it,Q as de,q as rt,t as X,T as Se,v as Ft,x as Oe,y as ee,z as Ue,A as At,B as ne,C as Ie,D as Tt,_ as Be,E as Pt,F as Y,G as oe,H as K,I as be,J as Q,K as ce,L as fe,M as st,N as T,O as ut,P as Nt,R as ct,S as dt,U as ft,V as vt,W as Ot,X as It,Y as Dt,Z as Lt,$ as _e,a0 as De,a1 as jt,a2 as zt,a3 as Ut,a4 as gt,a5 as Qt,a6 as Ht,a7 as Kt,a8 as Zt,a9 as Wt,aa as Gt,ab as mt,ac as Yt,ad as Jt,ae as Xt,af as el,ag as tl}from"./index-hoMvVJma.js";function ll({validate:e,resetValidation:t,requiresQForm:l}){const n=Pe(Bt,!1);if(n!==!1){const{props:r,proxy:i}=le();Object.assign(i,{validate:e,resetValidation:t}),Z(()=>r.disable,a=>{a===!0?(typeof t=="function"&&t(),n.unbindComponent(i)):n.bindComponent(i)}),me(()=>{r.disable!==!0&&n.bindComponent(i)}),ue(()=>{r.disable!==!0&&n.unbindComponent(i)})}else l===!0&&console.error("Parent QForm not found on useFormChild()!")}const Qe=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,He=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Ke=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,ye=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,we=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,$e={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Qe.test(e),hexaColor:e=>He.test(e),hexOrHexaColor:e=>Ke.test(e),rgbColor:e=>ye.test(e),rgbaColor:e=>we.test(e),rgbOrRgbaColor:e=>ye.test(e)||we.test(e),hexOrRgbColor:e=>Qe.test(e)||ye.test(e),hexaOrRgbaColor:e=>He.test(e)||we.test(e),anyColor:e=>Ke.test(e)||ye.test(e)||we.test(e)},nl=[!0,!1,"ondemand"],al={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>nl.includes(e)}};function ol(e,t){const{props:l,proxy:n}=le(),r=B(!1),i=B(null),a=B(null);ll({validate:P,resetValidation:C});let v=0,b;const w=h(()=>l.rules!==void 0&&l.rules!==null&&l.rules.length!==0),m=h(()=>l.disable!==!0&&w.value===!0),d=h(()=>l.error===!0||r.value===!0),_=h(()=>typeof l.errorMessage=="string"&&l.errorMessage.length!==0?l.errorMessage:i.value);Z(()=>l.modelValue,()=>{D()}),Z(()=>l.reactiveRules,M=>{M===!0?b===void 0&&(b=Z(()=>l.rules,()=>{D(!0)})):b!==void 0&&(b(),b=void 0)},{immediate:!0}),Z(e,M=>{M===!0?a.value===null&&(a.value=!1):a.value===!1&&(a.value=!0,m.value===!0&&l.lazyRules!=="ondemand"&&t.value===!1&&N())});function C(){v++,t.value=!1,a.value=null,r.value=!1,i.value=null,N.cancel()}function P(M=l.modelValue){if(m.value!==!0)return!0;const S=++v,H=t.value!==!0?()=>{a.value=!0}:()=>{},L=(R,k)=>{R===!0&&H(),r.value=R,i.value=k||null,t.value=!1},j=[];for(let R=0;R<l.rules.length;R++){const k=l.rules[R];let g;if(typeof k=="function"?g=k(M,$e):typeof k=="string"&&$e[k]!==void 0&&(g=$e[k](M)),g===!1||typeof g=="string")return L(!0,g),!1;g!==!0&&g!==void 0&&j.push(g)}return j.length===0?(L(!1),!0):(t.value=!0,Promise.all(j).then(R=>{if(R===void 0||Array.isArray(R)===!1||R.length===0)return S===v&&L(!1),!0;const k=R.find(g=>g===!1||typeof g=="string");return S===v&&L(k!==void 0,k),k===void 0},R=>(S===v&&(console.error(R),L(!0)),!1)))}function D(M){m.value===!0&&l.lazyRules!=="ondemand"&&(a.value===!0||l.lazyRules!==!0&&M!==!0)&&N()}const N=Mt(P,0);return ue(()=>{b!==void 0&&b(),N.cancel()}),Object.assign(n,{resetValidation:C,validate:P}),Ne(n,"hasError",()=>d.value),{isDirtyModel:a,hasRules:w,hasError:d,errorMessage:_,validate:P,resetValidation:C}}const Ze=/^on[A-Z]/;function il(e,t){const l={listeners:B({}),attributes:B({})};function n(){const r={},i={};for(const a in e)a!=="class"&&a!=="style"&&Ze.test(a)===!1&&(r[a]=e[a]);for(const a in t.props)Ze.test(a)===!0&&(i[a]=t.props[a]);l.attributes.value=r,l.listeners.value=i}return Vt(n),n(),l}let Ee,ke=0;const W=new Array(256);for(let e=0;e<256;e++)W[e]=(e+256).toString(16).substring(1);const rl=(()=>{const e=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const l=new Uint8Array(t);return e.getRandomValues(l),l}}return t=>{const l=[];for(let n=t;n>0;n--)l.push(Math.floor(Math.random()*256));return l}})(),We=4096;function Le(){(Ee===void 0||ke+16>We)&&(ke=0,Ee=rl(We));const e=Array.prototype.slice.call(Ee,ke,ke+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,W[e[0]]+W[e[1]]+W[e[2]]+W[e[3]]+"-"+W[e[4]]+W[e[5]]+"-"+W[e[6]]+W[e[7]]+"-"+W[e[8]]+W[e[9]]+"-"+W[e[10]]+W[e[11]]+W[e[12]]+W[e[13]]+W[e[14]]+W[e[15]]}let ie=[],pe=[];function ht(e){pe=pe.filter(t=>t!==e)}function sl(e){ht(e),pe.push(e)}function Ge(e){ht(e),pe.length===0&&ie.length!==0&&(ie[ie.length-1](),ie=[])}function je(e){pe.length===0?e():ie.push(e)}function ul(e){ie=ie.filter(t=>t!==e)}function bt(e,t){return e===void 0?t===!0?`f_${Le()}`:void 0:e}function Fe(e){return e!=null&&(""+e).length!==0}const cl={...ot,...al,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},dl=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function fl({requiredForAttr:e=!0,tagProp:t}={}){const{props:l,attrs:n,proxy:r,vnode:i}=le(),a=it(l,r.$q);return{requiredForAttr:e,tag:t===!0?h(()=>l.tag):{value:"label"},isDark:a,editable:h(()=>l.disable!==!0&&l.readonly!==!0),innerLoading:B(!1),focused:B(!1),hasPopupOpen:!1,splitAttrs:il(n,i),targetUid:B(bt(l.for,e)),rootRef:B(null),targetRef:B(null),controlRef:B(null)}}function vl(e){const{props:t,emit:l,slots:n,attrs:r,proxy:i}=le(),{$q:a}=i;let v=null;e.hasValue===void 0&&(e.hasValue=h(()=>Fe(t.modelValue))),e.emitValue===void 0&&(e.emitValue=u=>{l("update:modelValue",u)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:o,onFocusout:s}),Object.assign(e,{clearValue:y,onControlFocusin:o,onControlFocusout:s,focus:k}),e.computedCounter===void 0&&(e.computedCounter=h(()=>{if(t.counter!==!1){const u=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,$=t.maxlength!==void 0?t.maxlength:t.maxValues;return u+($!==void 0?" / "+$:"")}}));const{isDirtyModel:b,hasRules:w,hasError:m,errorMessage:d,resetValidation:_}=ol(e.focused,e.innerLoading),C=e.floatingLabel!==void 0?h(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):h(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),P=h(()=>t.bottomSlots===!0||t.hint!==void 0||w.value===!0||t.counter===!0||t.error!==null),D=h(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),N=h(()=>`q-field row no-wrap items-start q-field--${D.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(C.value===!0?" q-field--float":"")+(S.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(m.value===!0?" q-field--error":"")+(m.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&P.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),M=h(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(m.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),S=h(()=>t.labelSlot===!0||t.label!==void 0),H=h(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&m.value!==!0?` text-${t.labelColor}`:"")),L=h(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:C.value,modelValue:t.modelValue,emitValue:e.emitValue})),j=h(()=>{const u={for:e.targetUid.value};return t.disable===!0?u["aria-disabled"]="true":t.readonly===!0&&(u["aria-readonly"]="true"),u});Z(()=>t.for,u=>{e.targetUid.value=bt(u,e.requiredForAttr)});function R(){const u=document.activeElement;let $=e.targetRef!==void 0&&e.targetRef.value;$&&(u===null||u.id!==e.targetUid.value)&&($.hasAttribute("tabindex")===!0||($=$.querySelector("[tabindex]")),$&&$!==u&&$.focus({preventScroll:!0}))}function k(){je(R)}function g(){ul(R);const u=document.activeElement;u!==null&&e.rootRef.value.contains(u)&&u.blur()}function o(u){v!==null&&(clearTimeout(v),v=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,l("focus",u))}function s(u,$){v!==null&&clearTimeout(v),v=setTimeout(()=>{v=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,l("blur",u)),$!==void 0&&$())})}function y(u){$t(u),a.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),l("update:modelValue",null),l("clear",t.modelValue),ae(()=>{_(),a.platform.is.mobile!==!0&&(b.value=!1)})}function f(){const u=[];return n.prepend!==void 0&&u.push(p("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:he},n.prepend())),u.push(p("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},E())),m.value===!0&&t.noErrorIcon===!1&&u.push(O("error",[p(de,{name:a.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?u.push(O("inner-loading-append",n.loading!==void 0?n.loading():[p(rt,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&u.push(O("inner-clearable-append",[p(de,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||a.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:y})])),n.append!==void 0&&u.push(p("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:he},n.append())),e.getInnerAppend!==void 0&&u.push(O("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&u.push(e.getControlChild()),u}function E(){const u=[];return t.prefix!==void 0&&t.prefix!==null&&u.push(p("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&u.push(e.getShadowControl()),e.getControl!==void 0?u.push(e.getControl()):n.rawControl!==void 0?u.push(n.rawControl()):n.control!==void 0&&u.push(p("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},n.control(L.value))),S.value===!0&&u.push(p("div",{class:H.value},X(n.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&u.push(p("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),u.concat(X(n.default))}function V(){let u,$;m.value===!0?d.value!==null?(u=[p("div",{role:"alert"},d.value)],$=`q--slot-error-${d.value}`):(u=X(n.error),$="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(u=[p("div",t.hint)],$=`q--slot-hint-${t.hint}`):(u=X(n.hint),$="q--slot-hint"));const G=t.counter===!0||n.counter!==void 0;if(t.hideBottomSpace===!0&&G===!1&&u===void 0)return;const F=p("div",{key:$,class:"q-field__messages col"},u);return p("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:he},[t.hideBottomSpace===!0?F:p(Se,{name:"q-transition--field-message"},()=>F),G===!0?p("div",{class:"q-field__counter"},n.counter!==void 0?n.counter():e.computedCounter.value):null])}function O(u,$){return $===null?null:p("div",{key:u,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},$)}let q=!1;return at(()=>{q=!0}),Et(()=>{q===!0&&t.autofocus===!0&&i.focus()}),me(()=>{Rt.value===!0&&e.requiredForAttr===!0&&t.for===void 0&&(e.targetUid.value=`f_${Le()}`),t.autofocus===!0&&i.focus()}),ue(()=>{v!==null&&clearTimeout(v)}),Object.assign(i,{focus:k,blur:g}),function(){const $=e.getControl===void 0&&n.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...j.value}:j.value;return p(e.tag.value,{ref:e.rootRef,class:[N.value,r.class],style:r.style,...$},[n.before!==void 0?p("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:he},n.before()):null,p("div",{class:"q-field__inner relative-position col self-stretch"},[p("div",{ref:e.controlRef,class:M.value,tabindex:-1,...e.controlEvents},f()),P.value===!0?V():null]),n.after!==void 0?p("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:he},n.after()):null])}}const Ye={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},qe={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},pt=Object.keys(qe);pt.forEach(e=>{qe[e].regex=new RegExp(qe[e].pattern)});const gl=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+pt.join("")+"])|(.)","g"),Je=/[.*+?^${}()|[\]\\]/g,U="",ml={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function hl(e,t,l,n){let r,i,a,v,b,w;const m=B(null),d=B(C());function _(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}Z(()=>e.type+e.autogrow,D),Z(()=>e.mask,o=>{if(o!==void 0)N(d.value,!0);else{const s=k(d.value);D(),e.modelValue!==s&&t("update:modelValue",s)}}),Z(()=>e.fillMask+e.reverseFillMask,()=>{m.value===!0&&N(d.value,!0)}),Z(()=>e.unmaskedValue,()=>{m.value===!0&&N(d.value)});function C(){if(D(),m.value===!0){const o=j(k(e.modelValue));return e.fillMask!==!1?g(o):o}return e.modelValue}function P(o){if(o<r.length)return r.slice(-o);let s="",y=r;const f=y.indexOf(U);if(f>-1){for(let E=o-y.length;E>0;E--)s+=U;y=y.slice(0,f)+s+y.slice(f)}return y}function D(){if(m.value=e.mask!==void 0&&e.mask.length!==0&&_(),m.value===!1){v=void 0,r="",i="";return}const o=Ye[e.mask]===void 0?e.mask:Ye[e.mask],s=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",y=s.replace(Je,"\\$&"),f=[],E=[],V=[];let O=e.reverseFillMask===!0,q="",u="";o.replace(gl,(z,c,I,J,x)=>{if(J!==void 0){const A=qe[J];V.push(A),u=A.negate,O===!0&&(E.push("(?:"+u+"+)?("+A.pattern+"+)?(?:"+u+"+)?("+A.pattern+"+)?"),O=!1),E.push("(?:"+u+"+)?("+A.pattern+")?")}else if(I!==void 0)q="\\"+(I==="\\"?"":I),V.push(I),f.push("([^"+q+"]+)?"+q+"?");else{const A=c!==void 0?c:x;q=A==="\\"?"\\\\\\\\":A.replace(Je,"\\\\$&"),V.push(A),f.push("([^"+q+"]+)?"+q+"?")}});const $=new RegExp("^"+f.join("")+"("+(q===""?".":"[^"+q+"]")+"+)?"+(q===""?"":"["+q+"]*")+"$"),G=E.length-1,F=E.map((z,c)=>c===0&&e.reverseFillMask===!0?new RegExp("^"+y+"*"+z):c===G?new RegExp("^"+z+"("+(u===""?".":u)+"+)?"+(e.reverseFillMask===!0?"$":y+"*")):new RegExp("^"+z));a=V,v=z=>{const c=$.exec(e.reverseFillMask===!0?z:z.slice(0,V.length+1));c!==null&&(z=c.slice(1).join(""));const I=[],J=F.length;for(let x=0,A=z;x<J;x++){const te=F[x].exec(A);if(te===null)break;A=A.slice(te.shift().length),I.push(...te)}return I.length!==0?I.join(""):z},r=V.map(z=>typeof z=="string"?z:U).join(""),i=r.split(U).join(s)}function N(o,s,y){const f=n.value,E=f.selectionEnd,V=f.value.length-E,O=k(o);s===!0&&D();const q=j(O),u=e.fillMask!==!1?g(q):q,$=d.value!==u;f.value!==u&&(f.value=u),$===!0&&(d.value=u),document.activeElement===f&&ae(()=>{if(u===i){const F=e.reverseFillMask===!0?i.length:0;f.setSelectionRange(F,F,"forward");return}if(y==="insertFromPaste"&&e.reverseFillMask!==!0){const F=f.selectionEnd;let z=E-1;for(let c=b;c<=z&&c<F;c++)r[c]!==U&&z++;S.right(f,z);return}if(["deleteContentBackward","deleteContentForward"].indexOf(y)>-1){const F=e.reverseFillMask===!0?E===0?u.length>q.length?1:0:Math.max(0,u.length-(u===i?0:Math.min(q.length,V)+1))+1:E;f.setSelectionRange(F,F,"forward");return}if(e.reverseFillMask===!0)if($===!0){const F=Math.max(0,u.length-(u===i?0:Math.min(q.length,V+1)));F===1&&E===1?f.setSelectionRange(F,F,"forward"):S.rightReverse(f,F)}else{const F=u.length-V;f.setSelectionRange(F,F,"backward")}else if($===!0){const F=Math.max(0,r.indexOf(U),Math.min(q.length,E)-1);S.right(f,F)}else{const F=E-1;S.right(f,F)}});const G=e.unmaskedValue===!0?k(u):u;String(e.modelValue)!==G&&(e.modelValue!==null||G!=="")&&l(G,!0)}function M(o,s,y){const f=j(k(o.value));s=Math.max(0,r.indexOf(U),Math.min(f.length,s)),b=s,o.setSelectionRange(s,y,"forward")}const S={left(o,s){const y=r.slice(s-1).indexOf(U)===-1;let f=Math.max(0,s-1);for(;f>=0;f--)if(r[f]===U){s=f,y===!0&&s++;break}if(f<0&&r[s]!==void 0&&r[s]!==U)return S.right(o,0);s>=0&&o.setSelectionRange(s,s,"backward")},right(o,s){const y=o.value.length;let f=Math.min(y,s+1);for(;f<=y;f++)if(r[f]===U){s=f;break}else r[f-1]===U&&(s=f);if(f>y&&r[s-1]!==void 0&&r[s-1]!==U)return S.left(o,y);o.setSelectionRange(s,s,"forward")},leftReverse(o,s){const y=P(o.value.length);let f=Math.max(0,s-1);for(;f>=0;f--)if(y[f-1]===U){s=f;break}else if(y[f]===U&&(s=f,f===0))break;if(f<0&&y[s]!==void 0&&y[s]!==U)return S.rightReverse(o,0);s>=0&&o.setSelectionRange(s,s,"backward")},rightReverse(o,s){const y=o.value.length,f=P(y),E=f.slice(0,s+1).indexOf(U)===-1;let V=Math.min(y,s+1);for(;V<=y;V++)if(f[V-1]===U){s=V,s>0&&E===!0&&s--;break}if(V>y&&f[s-1]!==void 0&&f[s-1]!==U)return S.leftReverse(o,y);o.setSelectionRange(s,s,"forward")}};function H(o){t("click",o),w=void 0}function L(o){if(t("keydown",o),Ft(o)===!0||o.altKey===!0)return;const s=n.value,y=s.selectionStart,f=s.selectionEnd;if(o.shiftKey||(w=void 0),o.keyCode===37||o.keyCode===39){o.shiftKey&&w===void 0&&(w=s.selectionDirection==="forward"?y:f);const E=S[(o.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(o.preventDefault(),E(s,w===y?f:y),o.shiftKey){const V=s.selectionStart;s.setSelectionRange(Math.min(w,V),Math.max(w,V),"forward")}}else o.keyCode===8&&e.reverseFillMask!==!0&&y===f?(S.left(s,y),s.setSelectionRange(s.selectionStart,f,"backward")):o.keyCode===46&&e.reverseFillMask===!0&&y===f&&(S.rightReverse(s,f),s.setSelectionRange(y,s.selectionEnd,"forward"))}function j(o){if(o==null||o==="")return"";if(e.reverseFillMask===!0)return R(o);const s=a;let y=0,f="";for(let E=0;E<s.length;E++){const V=o[y],O=s[E];if(typeof O=="string")f+=O,V===O&&y++;else if(V!==void 0&&O.regex.test(V))f+=O.transform!==void 0?O.transform(V):V,y++;else return f}return f}function R(o){const s=a,y=r.indexOf(U);let f=o.length-1,E="";for(let V=s.length-1;V>=0&&f>-1;V--){const O=s[V];let q=o[f];if(typeof O=="string")E=O+E,q===O&&f--;else if(q!==void 0&&O.regex.test(q))do E=(O.transform!==void 0?O.transform(q):q)+E,f--,q=o[f];while(y===V&&q!==void 0&&O.regex.test(q));else return E}return E}function k(o){return typeof o!="string"||v===void 0?typeof o=="number"?v(""+o):o:v(o)}function g(o){return i.length-o.length<=0?o:e.reverseFillMask===!0&&o.length!==0?i.slice(0,-o.length)+o:o+i.slice(o.length)}return{innerValue:d,hasMask:m,moveCursorForPaste:M,updateMaskValue:N,onMaskedKeydown:L,onMaskedClick:H}}const yt={name:String};function bl(e={}){return(t,l,n)=>{t[l](p("input",{class:"hidden"+(n||""),...e.value}))}}function pl(e){return h(()=>e.name||e.for)}function yl(e,t){function l(){const n=e.modelValue;try{const r="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(n)===n&&("length"in n?Array.from(n):[n]).forEach(i=>{r.items.add(i)}),{files:r.files}}catch{return{files:void 0}}}return t===!0?h(()=>{if(e.type==="file")return l()}):h(l)}const wl=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,kl=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Cl=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,_l=/[a-z0-9_ -]$/i;function xl(e){return function(l){if(l.type==="compositionend"||l.type==="change"){if(l.target.qComposing!==!0)return;l.target.qComposing=!1,e(l)}else l.type==="compositionupdate"&&l.target.qComposing!==!0&&typeof l.data=="string"&&(Oe.is.firefox===!0?_l.test(l.data)===!1:wl.test(l.data)===!0||kl.test(l.data)===!0||Cl.test(l.data)===!0)===!0&&(l.target.qComposing=!0)}}const Ae=ee({name:"QInput",inheritAttrs:!1,props:{...cl,...ml,...yt,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...dl,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:l}){const{proxy:n}=le(),{$q:r}=n,i={};let a=NaN,v,b,w=null,m;const d=B(null),_=pl(e),{innerValue:C,hasMask:P,moveCursorForPaste:D,updateMaskValue:N,onMaskedKeydown:M,onMaskedClick:S}=hl(e,t,q,d),H=yl(e,!0),L=h(()=>Fe(C.value)),j=xl(V),R=fl(),k=h(()=>e.type==="textarea"||e.autogrow===!0),g=h(()=>k.value===!0||["text","search","url","tel","password"].includes(e.type)),o=h(()=>{const c={...R.splitAttrs.listeners.value,onInput:V,onPaste:E,onChange:$,onBlur:G,onFocus:Ue};return c.onCompositionstart=c.onCompositionupdate=c.onCompositionend=j,P.value===!0&&(c.onKeydown=M,c.onClick=S),e.autogrow===!0&&(c.onAnimationend=O),c}),s=h(()=>{const c={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:_.value,...R.splitAttrs.attributes.value,id:R.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return k.value===!1&&(c.type=e.type),e.autogrow===!0&&(c.rows=1),c});Z(()=>e.type,()=>{d.value&&(d.value.value=e.modelValue)}),Z(()=>e.modelValue,c=>{if(P.value===!0){if(b===!0&&(b=!1,String(c)===a))return;N(c)}else C.value!==c&&(C.value=c,e.type==="number"&&i.hasOwnProperty("value")===!0&&(v===!0?v=!1:delete i.value));e.autogrow===!0&&ae(u)}),Z(()=>e.autogrow,c=>{c===!0?ae(u):d.value!==null&&l.rows>0&&(d.value.style.height="auto")}),Z(()=>e.dense,()=>{e.autogrow===!0&&ae(u)});function y(){je(()=>{const c=document.activeElement;d.value!==null&&d.value!==c&&(c===null||c.id!==R.targetUid.value)&&d.value.focus({preventScroll:!0})})}function f(){d.value!==null&&d.value.select()}function E(c){if(P.value===!0&&e.reverseFillMask!==!0){const I=c.target;D(I,I.selectionStart,I.selectionEnd)}t("paste",c)}function V(c){if(!c||!c.target)return;if(e.type==="file"){t("update:modelValue",c.target.files);return}const I=c.target.value;if(c.target.qComposing===!0){i.value=I;return}if(P.value===!0)N(I,!1,c.inputType);else if(q(I),g.value===!0&&c.target===document.activeElement){const{selectionStart:J,selectionEnd:x}=c.target;J!==void 0&&x!==void 0&&ae(()=>{c.target===document.activeElement&&I.indexOf(c.target.value)===0&&c.target.setSelectionRange(J,x)})}e.autogrow===!0&&u()}function O(c){t("animationend",c),u()}function q(c,I){m=()=>{w=null,e.type!=="number"&&i.hasOwnProperty("value")===!0&&delete i.value,e.modelValue!==c&&a!==c&&(a=c,I===!0&&(b=!0),t("update:modelValue",c),ae(()=>{a===c&&(a=NaN)})),m=void 0},e.type==="number"&&(v=!0,i.value=c),e.debounce!==void 0?(w!==null&&clearTimeout(w),i.value=c,w=setTimeout(m,e.debounce)):m()}function u(){requestAnimationFrame(()=>{const c=d.value;if(c!==null){const I=c.parentNode.style,{scrollTop:J}=c,{overflowY:x,maxHeight:A}=r.platform.is.firefox===!0?{}:window.getComputedStyle(c),te=x!==void 0&&x!=="scroll";te===!0&&(c.style.overflowY="hidden"),I.marginBottom=c.scrollHeight-1+"px",c.style.height="1px",c.style.height=c.scrollHeight+"px",te===!0&&(c.style.overflowY=parseInt(A,10)<c.scrollHeight?"auto":"hidden"),I.marginBottom="",c.scrollTop=J}})}function $(c){j(c),w!==null&&(clearTimeout(w),w=null),m!==void 0&&m(),t("change",c.target.value)}function G(c){c!==void 0&&Ue(c),w!==null&&(clearTimeout(w),w=null),m!==void 0&&m(),v=!1,b=!1,delete i.value,e.type!=="file"&&setTimeout(()=>{d.value!==null&&(d.value.value=C.value!==void 0?C.value:"")})}function F(){return i.hasOwnProperty("value")===!0?i.value:C.value!==void 0?C.value:""}ue(()=>{G()}),me(()=>{e.autogrow===!0&&u()}),Object.assign(R,{innerValue:C,fieldClass:h(()=>`q-${k.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:h(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:d,emitValue:q,hasValue:L,floatingLabel:h(()=>L.value===!0&&(e.type!=="number"||isNaN(C.value)===!1)||Fe(e.displayValue)),getControl:()=>p(k.value===!0?"textarea":"input",{ref:d,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...s.value,...o.value,...e.type!=="file"?{value:F()}:H.value}),getShadowControl:()=>p("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(k.value===!0?"":" text-no-wrap")},[p("span",{class:"invisible"},F()),p("span",e.shadowText)])});const z=vl(R);return Object.assign(n,{focus:y,select:f,getNativeElement:()=>d.value}),Ne(n,"nativeEl",()=>d.value),z}}),Sl=ee({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const l=h(()=>{const n=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(r=>e[r]===!0).map(r=>`q-btn-group--${r}`).join(" ");return`q-btn-group row no-wrap${n.length!==0?" "+n:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>p("div",{class:l.value},X(t.default))}}),ql=ee({name:"QBtnToggle",props:{...yt,modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(t=>("label"in t||"icon"in t||"slot"in t)&&"value"in t)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(e,{slots:t,emit:l}){const n=h(()=>e.options.find(_=>_.value===e.modelValue)!==void 0),r=h(()=>({type:"hidden",name:e.name,value:e.modelValue})),i=bl(r),a=h(()=>At(e)),v=h(()=>({rounded:e.rounded,dense:e.dense,...a.value})),b=h(()=>e.options.map((_,C)=>{const{attrs:P,value:D,slot:N,...M}=_;return{slot:N,props:{key:C,"aria-pressed":D===e.modelValue?"true":"false",...P,...M,...v.value,disable:e.disable===!0||M.disable===!0,color:D===e.modelValue?m(M,"toggleColor"):m(M,"color"),textColor:D===e.modelValue?m(M,"toggleTextColor"):m(M,"textColor"),noCaps:m(M,"noCaps")===!0,noWrap:m(M,"noWrap")===!0,size:m(M,"size"),padding:m(M,"padding"),ripple:m(M,"ripple"),stack:m(M,"stack")===!0,stretch:m(M,"stretch")===!0,onClick(S){w(D,_,S)}}}}));function w(_,C,P){e.readonly!==!0&&(e.modelValue===_?e.clearable===!0&&(l("update:modelValue",null,null),l("clear")):l("update:modelValue",_,C),l("click",P))}function m(_,C){return _[C]===void 0?e[C]:_[C]}function d(){const _=b.value.map(C=>p(ne,C.props,C.slot!==void 0?t[C.slot]:void 0));return e.name!==void 0&&e.disable!==!0&&n.value===!0&&i(_,"push"),Ie(t.default,_)}return()=>p(Sl,{class:"q-btn-toggle",...a.value,rounded:e.rounded,stretch:e.stretch,glossy:e.glossy,spread:e.spread},d)}}),ve=ee({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const l=h(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>p(e.tag,{class:l.value},X(t.default))}}),Me=ee({name:"QCard",props:{...ot,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:l}}=le(),n=it(e,l),r=h(()=>"q-card"+(n.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>p(e.tag,{class:r.value},X(t.default))}}),Bl=Tt("notesStore",()=>{const e=B([]),t=async()=>{const a=await fetch("http://localhost:3000/notes");e.value=await a.json()};return{notes:e,fetchNotes:t,addNote:async a=>{const b=await(await fetch("http://localhost:3000/notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json();e.value.push(b)},updateNote:async(a,v)=>{await fetch(`http://localhost:3000/notes/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)}),await t()},deleteNote:async a=>{await fetch(`http://localhost:3000/notes/${a}`,{method:"DELETE"}),e.value=e.value.filter(v=>v.id!==a)},uploadImage:async a=>{const v=new FormData;v.append("image",a,`note-image-${Date.now()}.jpg`);try{const b=await fetch("http://localhost:3000/upload",{method:"POST",body:v});if(!b.ok)throw new Error("Failed to upload image");return(await b.json()).filePath}catch(b){return console.error("Error uploading image:",b),null}}}}),Ml={ratio:[String,Number]};function Vl(e,t){return h(()=>{const l=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(l)!==!0&&l>0?{paddingBottom:`${100/l}%`}:null})}const $l=16/9,Te=ee({name:"QImg",props:{...Ml,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:$l},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:l}){const n=B(e.initialRatio),r=Vl(e,n);let i=null,a=!1;const v=[B(null),B(N())],b=B(0),w=B(!1),m=B(!1),d=h(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),_=h(()=>({width:e.width,height:e.height})),C=h(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),P=h(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));Z(()=>D(),M);function D(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function N(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function M(g){i!==null&&(clearTimeout(i),i=null),m.value=!1,g===null?(w.value=!1,v[b.value^1].value=N()):w.value=!0,v[b.value].value=g}function S({target:g}){a!==!0&&(i!==null&&(clearTimeout(i),i=null),n.value=g.naturalHeight===0?.5:g.naturalWidth/g.naturalHeight,H(g,1))}function H(g,o){a===!0||o===1e3||(g.complete===!0?L(g):i=setTimeout(()=>{i=null,H(g,o+1)},50))}function L(g){a!==!0&&(b.value=b.value^1,v[b.value].value=null,w.value=!1,m.value=!1,l("load",g.currentSrc||g.src))}function j(g){i!==null&&(clearTimeout(i),i=null),w.value=!1,m.value=!0,v[b.value].value=null,v[b.value^1].value=N(),l("error",g)}function R(g){const o=v[g].value,s={key:"img_"+g,class:C.value,style:P.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...o};return b.value===g?(s.class+=" q-img__image--waiting",Object.assign(s,{onLoad:S,onError:j})):s.class+=" q-img__image--loaded",p("div",{class:"q-img__container absolute-full",key:"img"+g},p("img",s))}function k(){return w.value!==!0?p("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},X(t[m.value===!0?"error":"default"])):p("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[p(rt,{color:e.spinnerColor,size:e.spinnerSize})])}return M(D()),ue(()=>{a=!0,i!==null&&(clearTimeout(i),i=null)}),()=>{const g=[];return r.value!==null&&g.push(p("div",{key:"filler",style:r.value})),m.value!==!0&&(v[0].value!==null&&g.push(R(0)),v[1].value!==null&&g.push(R(1))),g.push(p(Se,{name:"q-transition--fade"},k)),p("div",{class:d.value,style:_.value,role:"img","aria-label":e.alt},g)}}}),El={key:0,class:"row items-center q-pa-md"},Rl={class:"col"},Fl={class:"text-h6"},Al={class:"text-caption text-muted-foreground ellipsis"},Tl={class:"text-h6"},Pl={class:"ellipsis"},Nl={__name:"NoteCard",props:{note:Object,onClick:Function,isListView:Boolean},setup(e){return(t,l)=>{const n=Pt("q-audio");return Y(),oe(Me,{onClick:e.onClick,class:ut(["cursor-pointer hover-shadow-lg bg-card text-card-foreground",{"row items-center":e.isListView}])},{default:K(()=>[e.isListView?(Y(),fe("div",El,[Q("div",Rl,[Q("h3",Fl,be(e.note.title||"Untitled"),1),Q("p",Al,be(e.note.content),1)]),e.note.image?(Y(),oe(Te,{key:0,src:e.note.image||"/http://localhost:3000/public/images/daily-todo.jpg",alt:"Note image",class:"col-auto q-ml-md",style:{width:"48px",height:"58px","border-radius":"4px","object-fit":"cover"}},null,8,["src"])):ce("",!0)])):(Y(),fe(st,{key:1},[T(ve,null,{default:K(()=>[Q("div",Tl,be(e.note.title||"Untitled"),1)]),_:1}),T(ve,null,{default:K(()=>[Q("div",null,[Q("p",Pl,be(e.note.content),1),e.note.image?(Y(),oe(Te,{key:0,src:e.note.image||"/placeholder.svg",alt:"Note image",class:"q-mt-md",style:{width:"100%",height:"128px","border-radius":"4px","object-fit":"cover"}},null,8,["src"])):ce("",!0),e.note.voiceMemo?(Y(),oe(n,{key:1,src:e.note.voiceMemo,controls:"",class:"q-mt-md"},null,8,["src"])):ce("",!0)])]),_:1})],64))]),_:1},8,["onClick","class"])}}},Ol=Be(Nl,[["__scopeId","data-v-65f4c2e9"]]),Il=p("div",{class:"q-space"}),Dl=ee({name:"QSpace",setup(){return()=>Il}}),Ll=["top","right","bottom","left"],wt={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:e=>Ll.includes(e)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function kt(e,t){return{formClass:h(()=>`q-fab--form-${e.square===!0?"square":"rounded"}`),stacked:h(()=>e.externalLabel===!1&&["top","bottom"].includes(e.labelPosition)),labelProps:h(()=>{if(e.externalLabel===!0){const l=e.hideLabel===null?t.value===!1:e.hideLabel;return{action:"push",data:{class:[e.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${e.labelPosition}`+(l===!0?" q-fab__label--external-hidden":"")],style:e.labelStyle}}}return{action:["left","top"].includes(e.labelPosition)?"unshift":"push",data:{class:[e.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${e.labelPosition}`+(e.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:e.labelStyle}}})}}const Ct={start:"self-end",center:"self-center",end:"self-start"},jl=Object.keys(Ct),Re=ee({name:"QFabAction",props:{...wt,icon:{type:String,default:""},anchor:{type:String,validator:e=>jl.includes(e)},to:[String,Object],replace:Boolean},emits:["click"],setup(e,{slots:t,emit:l}){const n=Pe(ct,()=>({showing:{value:!0},onChildClick:Nt})),{formClass:r,labelProps:i}=kt(e,n.showing),a=h(()=>{const d=Ct[e.anchor];return r.value+(d!==void 0?` ${d}`:"")}),v=h(()=>e.disable===!0||n.showing.value!==!0);function b(d){n.onChildClick(d),l("click",d)}function w(){const d=[];return t.icon!==void 0?d.push(t.icon()):e.icon!==""&&d.push(p(de,{name:e.icon})),(e.label!==""||t.label!==void 0)&&d[i.value.action](p("div",i.value.data,t.label!==void 0?t.label():[e.label])),Ie(t.default,d)}const m=le();return Object.assign(m.proxy,{click:b}),()=>p(ne,{class:a.value,...e,noWrap:!0,stack:e.stacked,icon:void 0,label:void 0,noCaps:!0,fabMini:!0,disable:v.value,onClick:b},w)}}),zl=["up","right","down","left"],Ul=["left","center","right"],Ql=ee({name:"QFab",props:{...wt,...dt,icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{default:null},direction:{type:String,default:"right",validator:e=>zl.includes(e)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:e=>Ul.includes(e)}},emits:ft,setup(e,{slots:t}){const l=B(null),n=B(e.modelValue===!0),r=Le(),{proxy:{$q:i}}=le(),{formClass:a,labelProps:v}=kt(e,n),b=h(()=>e.persistent!==!0),{hide:w,toggle:m}=vt({showing:n,hideOnRouteChange:b}),d=h(()=>({opened:n.value})),_=h(()=>`q-fab z-fab row inline justify-center q-fab--align-${e.verticalActionsAlign} ${a.value}`+(n.value===!0?" q-fab--opened":" q-fab--closed")),C=h(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${e.direction} q-fab__actions--${n.value===!0?"opened":"closed"}`),P=h(()=>{const S={id:r,role:"menu"};return n.value!==!0&&(S["aria-hidden"]="true"),S}),D=h(()=>`q-fab__icon-holder  q-fab__icon-holder--${n.value===!0?"opened":"closed"}`);function N(S,H){const L=t[S],j=`q-fab__${S} absolute-full`;return L===void 0?p(de,{class:j,name:e[H]||i.iconSet.fab[H]}):p("div",{class:j},L(d.value))}function M(){const S=[];return e.hideIcon!==!0&&S.push(p("div",{class:D.value},[N("icon","icon"),N("active-icon","activeIcon")])),(e.label!==""||t.label!==void 0)&&S[v.value.action](p("div",v.value.data,t.label!==void 0?t.label(d.value):[e.label])),Ie(t.tooltip,S)}return Ot(ct,{showing:n,onChildClick(S){w(S),l.value!==null&&l.value.$el.focus()}}),()=>p("div",{class:_.value},[p(ne,{ref:l,class:a.value,...e,noWrap:!0,stack:e.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":n.value===!0?"true":"false","aria-haspopup":"true","aria-controls":r,onClick:m},M),p("div",{class:C.value,...P.value},X(t.default))])}}),_t=ee({name:"QCardActions",props:{...It,vertical:Boolean},setup(e,{slots:t}){const l=Dt(e),n=h(()=>`q-card__actions ${l.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>p("div",{class:n.value},X(t.default))}});function Hl(){let e;const t=le();function l(){e=void 0}return at(l),ue(l),{removeTick:l,registerTick(n){e=n,ae(()=>{e===n&&(Lt(t)===!1&&e(),e=void 0)})}}}const Kl={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function Zl(e,t=()=>{},l=()=>{}){return{transitionProps:h(()=>{const n=`q-transition--${e.transitionShow||t()}`,r=`q-transition--${e.transitionHide||l()}`;return{appear:!0,enterFromClass:`${n}-enter-from`,enterActiveClass:`${n}-enter-active`,enterToClass:`${n}-enter-to`,leaveFromClass:`${r}-leave-from`,leaveActiveClass:`${r}-leave-active`,leaveToClass:`${r}-leave-to`}}),transitionStyle:h(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}const xe=[];function Wl(e){return xe.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function Gl(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return _e(e)}else if(e.__qPortal===!0){const l=_e(e);return l!==void 0&&l.$options.name==="QPopupProxy"?(e.hide(t),l):e}e=_e(e)}while(e!=null)}function Yl(e,t,l){for(;l!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(l--,e.$options.name==="QMenu"){e=Gl(e,t);continue}e.hide(t)}e=_e(e)}}function Jl(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function Xl(e,t,l,n){const r=B(!1),i=B(!1);let a=null;const v={},b=n==="dialog"&&Jl(e);function w(d){if(d===!0){Ge(v),i.value=!0;return}i.value=!1,r.value===!1&&(b===!1&&a===null&&(a=zt(!1,n)),r.value=!0,xe.push(e.proxy),sl(v))}function m(d){if(i.value=!1,d!==!0)return;Ge(v),r.value=!1;const _=xe.indexOf(e.proxy);_!==-1&&xe.splice(_,1),a!==null&&(Ut(a),a=null)}return De(()=>{m(!0)}),e.proxy.__qPortal=!0,Ne(e.proxy,"contentEl",()=>t.value),{showPortal:w,hidePortal:m,portalIsActive:r,portalIsAccessible:i,renderPortal:()=>b===!0?l():r.value===!0?[p(jt,{to:a},l())]:void 0}}const re=[];let ge;function en(e){ge=e.keyCode===27}function tn(){ge===!0&&(ge=!1)}function ln(e){ge===!0&&(ge=!1,gt(e,27)===!0&&re[re.length-1](e))}function xt(e){window[e]("keydown",en),window[e]("blur",tn),window[e]("keyup",ln),ge=!1}function nn(e){Oe.is.desktop===!0&&(re.push(e),re.length===1&&xt("addEventListener"))}function Xe(e){const t=re.indexOf(e);t>-1&&(re.splice(t,1),re.length===0&&xt("removeEventListener"))}const se=[];function St(e){se[se.length-1](e)}function an(e){Oe.is.desktop===!0&&(se.push(e),se.length===1&&document.body.addEventListener("focusin",St))}function et(e){const t=se.indexOf(e);t>-1&&(se.splice(t,1),se.length===0&&document.body.removeEventListener("focusin",St))}let Ce=0;const on={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},tt={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},lt=ee({name:"QDialog",inheritAttrs:!1,props:{...dt,...Kl,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...ft,"shake","click","escapeKey"],setup(e,{slots:t,emit:l,attrs:n}){const r=le(),i=B(null),a=B(!1),v=B(!1);let b=null,w=null,m,d;const _=h(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:C}=Kt(),{registerTimeout:P}=Qt(),{registerTick:D,removeTick:N}=Hl(),{transitionProps:M,transitionStyle:S}=Zl(e,()=>tt[e.position][0],()=>tt[e.position][1]),{showPortal:H,hidePortal:L,portalIsAccessible:j,renderPortal:R}=Xl(r,i,J,"dialog"),{hide:k}=vt({showing:a,hideOnRouteChange:_,handleShow:V,handleHide:O,processOnMount:!0}),{addToHistory:g,removeFromHistory:o}=Ht(a,k,_),s=h(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${on[e.position]}`+(v.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),y=h(()=>a.value===!0&&e.seamless!==!0),f=h(()=>e.autoClose===!0?{onClick:z}:{}),E=h(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${y.value===!0?"modal":"seamless"}`,n.class]);Z(()=>e.maximized,x=>{a.value===!0&&F(x)}),Z(y,x=>{C(x),x===!0?(an(I),nn($)):(et(I),Xe($))});function V(x){g(),w=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,F(e.maximized),H(),v.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),D(q)):N(),P(()=>{if(r.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:A,bottom:te}=document.activeElement.getBoundingClientRect(),{innerHeight:ze}=window,Ve=window.visualViewport!==void 0?window.visualViewport.height:ze;A>0&&te>Ve/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-Ve,te>=ze?1/0:Math.ceil(document.scrollingElement.scrollTop+te-Ve/2))),document.activeElement.scrollIntoView()}d=!0,i.value.click(),d=!1}H(!0),v.value=!1,l("show",x)},e.transitionDuration)}function O(x){N(),o(),G(!0),v.value=!0,L(),w!==null&&(((x&&x.type.indexOf("key")===0?w.closest('[tabindex]:not([tabindex^="-"])'):void 0)||w).focus(),w=null),P(()=>{L(!0),v.value=!1,l("hide",x)},e.transitionDuration)}function q(x){je(()=>{let A=i.value;A===null||A.contains(document.activeElement)===!0||(A=(x!==""?A.querySelector(x):null)||A.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||A.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||A.querySelector("[autofocus], [data-autofocus]")||A,A.focus({preventScroll:!0}))})}function u(x){x&&typeof x.focus=="function"?x.focus({preventScroll:!0}):q(),l("shake");const A=i.value;A!==null&&(A.classList.remove("q-animate--scale"),A.classList.add("q-animate--scale"),b!==null&&clearTimeout(b),b=setTimeout(()=>{b=null,i.value!==null&&(A.classList.remove("q-animate--scale"),q())},170))}function $(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&u():(l("escapeKey"),k()))}function G(x){b!==null&&(clearTimeout(b),b=null),(x===!0||a.value===!0)&&(F(!1),e.seamless!==!0&&(C(!1),et(I),Xe($))),x!==!0&&(w=null)}function F(x){x===!0?m!==!0&&(Ce<1&&document.body.classList.add("q-body--dialog"),Ce++,m=!0):m===!0&&(Ce<2&&document.body.classList.remove("q-body--dialog"),Ce--,m=!1)}function z(x){d!==!0&&(k(x),l("click",x))}function c(x){e.persistent!==!0&&e.noBackdropDismiss!==!0?k(x):e.noShake!==!0&&u()}function I(x){e.allowFocusOutside!==!0&&j.value===!0&&Zt(i.value,x.target)!==!0&&q('[tabindex]:not([tabindex="-1"])')}Object.assign(r.proxy,{focus:q,shake:u,__updateRefocusTarget(x){w=x||null}}),ue(G);function J(){return p("div",{role:"dialog","aria-modal":y.value===!0?"true":"false",...n,class:E.value},[p(Se,{name:"q-transition--fade",appear:!0},()=>y.value===!0?p("div",{class:"q-dialog__backdrop fixed-full",style:S.value,"aria-hidden":"true",tabindex:-1,onClick:c}):null),p(Se,M.value,()=>a.value===!0?p("div",{ref:i,class:s.value,style:S.value,tabindex:-1,...f.value},X(t.default)):null)])}return R}});function nt(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}const qt=Wt({name:"close-popup",beforeMount(e,{value:t}){const l={depth:nt(t),handler(n){l.depth!==0&&setTimeout(()=>{const r=Wl(e);r!==void 0&&Yl(r,n,l.depth)})},handlerKey(n){gt(n,13)===!0&&l.handler(n)}};e.__qclosepopup=l,e.addEventListener("click",l.handler),e.addEventListener("keyup",l.handlerKey)},updated(e,{value:t,oldValue:l}){t!==l&&(e.__qclosepopup.depth=nt(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});function rn(){return Pe(Gt)}const sn={name:"CameraPreview",emits:["capture","close"],setup(e,{emit:t}){const l=B(null);let n=null;const r=async()=>{try{n=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),l.value&&(l.value.srcObject=n)}catch(v){console.error("Error accessing camera:",v),t("close")}},i=()=>{n&&n.getTracks().forEach(v=>v.stop())},a=()=>{const v=document.createElement("canvas");v.width=l.value.videoWidth,v.height=l.value.videoHeight,v.getContext("2d").drawImage(l.value,0,0);const b=v.toDataURL("image/jpeg");t("capture",b),i()};return me(()=>{r()}),De(()=>{i()}),{videoElement:l,captureImage:a}}},un={ref:"videoElement",autoplay:"",playsinline:"",class:"full-width"};function cn(e,t,l,n,r,i){return Y(),oe(Me,{class:"camera-preview"},{default:K(()=>[T(ve,null,{default:K(()=>[Q("video",un,null,512)]),_:1}),T(_t,{align:"right"},{default:K(()=>[mt(T(ne,{flat:"",label:"Close",color:"primary"},null,512),[[qt]]),T(ne,{flat:"",label:"Capture",color:"primary",onClick:n.captureImage},null,8,["onClick"])]),_:1})]),_:1})}const dn=Be(sn,[["render",cn],["__scopeId","data-v-a46b76bb"]]),fn={class:"text-h6"},vn={key:0,class:"q-mt-md"},gn={class:"absolute-top-right"},mn={key:1,class:"q-mt-md"},hn=["src"],bn={class:"q-gutter-md flex items-center"},pn={class:"q-ml-auto"},yn={__name:"NoteModal",props:{note:{type:Object,required:!0}},emits:["update","delete","close"],setup(e,{emit:t}){const l=e,n=t,r=rn(),i=B(!0),a=Yt({...l.note}),v=B(null),b=B(!1),w=B(!1),m=B(null),d=B([]);Z(()=>l.note,k=>{Object.assign(a,k)});const _=()=>{C(a)?n("delete",a.id):n("update",a),n("close")},C=k=>k.title.trim()===""&&k.content.trim()===""&&!k.image&&!k.voiceMemo&&(k.type!=="todo"||k.items&&k.items.every(g=>g.text.trim()==="")),P=()=>{n("update",a),i.value=!1},D=()=>{r.dialog({title:"Confirm",message:"Are you sure you want to delete this note?",cancel:!0,persistent:!0}).onOk(()=>{n("delete",a.id),i.value=!1})},N=()=>{v.value.click()},M=k=>{const g=k.target.files[0];if(g){const o=new FileReader;o.onload=s=>{a.image=s.target.result},o.readAsDataURL(g)}},S=()=>{a.image=null},H=()=>{b.value=!0},L=k=>{a.image=k,b.value=!1},j=async()=>{if(w.value)R();else try{const k=await navigator.mediaDevices.getUserMedia({audio:!0});m.value=new MediaRecorder(k),m.value.ondataavailable=g=>{d.value.push(g.data)},m.value.onstop=()=>{const g=new Blob(d.value,{type:"audio/webm"});a.voiceMemo=URL.createObjectURL(g),d.value=[]},m.value.start(),w.value=!0}catch(k){console.error("Error accessing microphone:",k),r.notify({color:"negative",message:"Error accessing microphone. Please check your permissions."})}},R=()=>{m.value&&m.value.state!=="inactive"&&(m.value.stop(),w.value=!1)};return me(()=>{window.addEventListener("beforeunload",R)}),De(()=>{window.removeEventListener("beforeunload",R),R()}),(k,g)=>(Y(),oe(lt,{modelValue:i.value,"onUpdate:modelValue":g[4]||(g[4]=o=>i.value=o),onHide:_,persistent:"","transition-show":"slide-up","transition-hide":"slide-down",maximized:!1,style:{width:"400px",height:"700px",maxWidth:"90%",maxHeight:"90%"}},{default:K(()=>[T(Me,{class:"column",style:{"max-width":"400px"}},{default:K(()=>[T(ve,{class:"row items-center q-pb-none"},{default:K(()=>[Q("div",fn,be(a.title||"Untitled"),1),T(Dl),mt(T(ne,{icon:"close",flat:"",round:"",dense:""},null,512),[[qt]])]),_:1}),T(ve,{class:"q-pa-sm flex-grow-1 overflow-auto"},{default:K(()=>[T(Ae,{modelValue:a.title,"onUpdate:modelValue":g[0]||(g[0]=o=>a.title=o),label:"Title",dense:"",autofocus:"",class:"q-mb-md"},null,8,["modelValue"]),T(Ae,{modelValue:a.content,"onUpdate:modelValue":g[1]||(g[1]=o=>a.content=o),type:"textarea",label:"Content",autogrow:""},null,8,["modelValue"]),a.image?(Y(),fe("div",vn,[T(Te,{src:a.image,"spinner-color":"primary",style:{"max-height":"1000px"}},{default:K(()=>[Q("div",gn,[T(ne,{round:"",color:"negative",icon:"delete",size:"sm",onClick:S})])]),_:1},8,["src"])])):ce("",!0),a.voiceMemo?(Y(),fe("div",mn,[Q("audio",{src:a.voiceMemo,controls:"",class:"full-width"},null,8,hn)])):ce("",!0),T(_t,{position:"bottom",class:"q-gutter-md"},{default:K(()=>[Q("div",bn,[T(Ql,{icon:"add",direction:"up",color:"primary"},{default:K(()=>[T(Re,{color:"primary",icon:"attach_file",onClick:N}),T(Re,{color:"primary",icon:"photo_camera",onClick:H}),T(Re,{color:"primary",icon:w.value?"stop":"mic",onClick:j},null,8,["icon"])]),_:1})]),Q("div",pn,[T(ne,{flat:"",color:"negative",label:"Delete",onClick:D}),T(ne,{flat:"",color:"primary",label:"Save",onClick:P})])]),_:1})]),_:1})]),_:1}),Q("input",{type:"file",ref_key:"fileInput",ref:v,accept:"image/*",style:{display:"none"},onChange:M},null,544),T(lt,{modelValue:b.value,"onUpdate:modelValue":g[3]||(g[3]=o=>b.value=o)},{default:K(()=>[T(dn,{onCapture:L,onClose:g[2]||(g[2]=o=>b.value=!1)})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]))}},wn=Be(yn,[["__scopeId","data-v-dece9e6b"]]),kn=e=>(el("data-v-0940759f"),e=e(),tl(),e),Cn={class:"row q-col-gutter-md"},_n={class:"col-12"},xn={class:"col-12"},Sn={class:"col-12"},qn={class:"row items-center"},Bn=kn(()=>Q("div",{class:"text-primary q-ml-sm"},"Click to create...",-1)),Mn={__name:"HomeView",setup(e){const t=Bl(),l=B(""),n=B(null),r=B("grid"),i=h(()=>{const d=new RegExp(l.value,"i");return t.notes.filter(_=>d.test(_.title)||d.test(_.content))}),a=async d=>{const _={title:"",content:"",type:d,...d==="todo"?{items:[]}:{}};await t.addNote(_),n.value=_},v=async d=>{await t.updateNote(d.id,d),n.value=null},b=async d=>{await t.deleteNote(d),n.value=null},w=d=>{n.value=d},m=()=>{n.value=null};return me(()=>{t.fetchNotes()}),(d,_)=>(Y(),oe(Jt,{padding:""},{default:K(()=>[Q("div",Cn,[Q("div",_n,[T(Ae,{modelValue:l.value,"onUpdate:modelValue":_[0]||(_[0]=C=>l.value=C),filled:"",type:"search",label:"Search notes"},{prepend:K(()=>[T(de,{name:"search"})]),_:1},8,["modelValue"])]),Q("div",xn,[T(ql,{modelValue:r.value,"onUpdate:modelValue":_[1]||(_[1]=C=>r.value=C),spread:"","no-caps":"","toggle-color":"primary",color:"white","text-color":"primary",options:[{label:"Grid",value:"grid",icon:"grid_view"},{label:"List",value:"list",icon:"view_list"}]},null,8,["modelValue"])]),Q("div",Sn,[T(Me,{class:"quick-create-area cursor-pointer",onClick:_[2]||(_[2]=C=>a("note"))},{default:K(()=>[T(ve,null,{default:K(()=>[Q("div",qn,[T(de,{name:"add",size:"sm",color:"primary"}),Bn])]),_:1})]),_:1})]),(Y(!0),fe(st,null,Xt(i.value,C=>(Y(),fe("div",{key:C.id,class:ut({"col-12":r.value==="list","col-12 col-md-6 col-lg-4":r.value==="grid"})},[T(Ol,{note:C,"is-list-view":r.value==="list",onClick:P=>w(C)},null,8,["note","is-list-view","onClick"])],2))),128))]),n.value?(Y(),oe(wn,{key:0,note:n.value,onClose:m,onUpdate:v,onDelete:b},null,8,["note"])):ce("",!0)]),_:1}))}},$n=Be(Mn,[["__scopeId","data-v-0940759f"]]);export{$n as default};
