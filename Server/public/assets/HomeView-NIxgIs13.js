import{c as ee,a as v,h as p,b as X,g as Nt,Q as te,d as Ee,e as It,r as V,w as W,o as ve,T as Me,f as gt,u as Ue,i as oe,j as Qe,_ as xe,k as ye,l as D,m as ie,n as K,p as Z,q as J,t as le,s as N,v as se,x as et,y as ue,F as ke,z as He,A as De,B as Fe,C as Pt,D as be,E as $t,G as Ke,H as Ot,I as Le,J as re,K as ht,L as Dt,M as Lt,N as pe,O as zt,P as Ze,R as tt,S as jt,U as me,V as Ut,W as Qt,X as Ht,Y as Kt,Z as bt,$ as pt,a0 as yt,a1 as kt,a2 as Zt,a3 as Ne,a4 as Wt,a5 as Gt,a6 as Be,a7 as We,a8 as Yt,a9 as Jt,aa as Xt,ab as _t,ac as eo,ad as to,ae as oo,af as no,ag as lo,ah as ao,ai as xt,aj as io,ak as ro,al as so,am as uo}from"./index-lB4fko9b.js";const co=ee({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const o=v(()=>{const n=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(l=>e[l]===!0).map(l=>`q-btn-group--${l}`).join(" ");return`q-btn-group row no-wrap${n.length!==0?" "+n:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>p("div",{class:o.value},X(t.default))}}),Ge={name:String};function Ct(e={}){return(t,o,n)=>{t[o](p("input",{class:"hidden"+(n||""),...e.value}))}}function fo(e){return v(()=>e.name||e.for)}const vo=ee({name:"QBtnToggle",props:{...Ge,modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(t=>("label"in t||"icon"in t||"slot"in t)&&"value"in t)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(e,{slots:t,emit:o}){const n=v(()=>e.options.find(C=>C.value===e.modelValue)!==void 0),l=v(()=>({type:"hidden",name:e.name,value:e.modelValue})),i=Ct(l),r=v(()=>Nt(e)),a=v(()=>({rounded:e.rounded,dense:e.dense,...r.value})),h=v(()=>e.options.map((C,x)=>{const{attrs:B,value:F,slot:$,...A}=C;return{slot:$,props:{key:x,"aria-pressed":F===e.modelValue?"true":"false",...B,...A,...a.value,disable:e.disable===!0||A.disable===!0,color:F===e.modelValue?g(A,"toggleColor"):g(A,"color"),textColor:F===e.modelValue?g(A,"toggleTextColor"):g(A,"textColor"),noCaps:g(A,"noCaps")===!0,noWrap:g(A,"noWrap")===!0,size:g(A,"size"),padding:g(A,"padding"),ripple:g(A,"ripple"),stack:g(A,"stack")===!0,stretch:g(A,"stretch")===!0,onClick(q){b(F,C,q)}}}}));function b(C,x,B){e.readonly!==!0&&(e.modelValue===C?e.clearable===!0&&(o("update:modelValue",null,null),o("clear")):o("update:modelValue",C,x),o("click",B))}function g(C,x){return C[x]===void 0?e[x]:C[x]}function m(){const C=h.value.map(x=>p(te,x.props,x.slot!==void 0?t[x.slot]:void 0));return e.name!==void 0&&e.disable!==!0&&n.value===!0&&i(C,"push"),Ee(t.default,C)}return()=>p(co,{class:"q-btn-toggle",...r.value,rounded:e.rounded,stretch:e.stretch,glossy:e.glossy,spread:e.spread},m)}}),wt=It("notesStore",()=>{const e=V([]),t=async()=>{const r=await fetch("http://localhost:3000/notes");e.value=await r.json()};return{notes:e,fetchNotes:t,addNote:async r=>{const h=await(await fetch("http://localhost:3000/notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();e.value.push(h)},updateNote:async(r,a)=>{await fetch(`http://localhost:3000/notes/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),await t()},deleteNote:async r=>{await fetch(`http://localhost:3000/notes/${r}`,{method:"DELETE"}),e.value=e.value.filter(a=>a.id!==r)},uploadImage:async r=>{const a=new FormData;a.append("image",r,`note-image-${Date.now()}.jpg`);try{const h=await fetch("http://localhost:3000/upload",{method:"POST",body:a});if(!h.ok)throw new Error("Failed to upload image");return(await h.json()).filePath}catch(h){return console.error("Error uploading image:",h),null}}}}),mo={ratio:[String,Number]};function go(e,t){return v(()=>{const o=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(o)!==!0&&o>0?{paddingBottom:`${100/o}%`}:null})}const ho=16/9,ze=ee({name:"QImg",props:{...mo,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:ho},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:o}){const n=V(e.initialRatio),l=go(e,n);let i=null,r=!1;const a=[V(null),V($())],h=V(0),b=V(!1),g=V(!1),m=v(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),C=v(()=>({width:e.width,height:e.height})),x=v(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),B=v(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));W(()=>F(),A);function F(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function $(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function A(y){i!==null&&(clearTimeout(i),i=null),g.value=!1,y===null?(b.value=!1,a[h.value^1].value=$()):b.value=!0,a[h.value].value=y}function q({target:y}){r!==!0&&(i!==null&&(clearTimeout(i),i=null),n.value=y.naturalHeight===0?.5:y.naturalWidth/y.naturalHeight,Q(y,1))}function Q(y,c){r===!0||c===1e3||(y.complete===!0?z(y):i=setTimeout(()=>{i=null,Q(y,c+1)},50))}function z(y){r!==!0&&(h.value=h.value^1,a[h.value].value=null,b.value=!1,g.value=!1,o("load",y.currentSrc||y.src))}function j(y){i!==null&&(clearTimeout(i),i=null),b.value=!1,g.value=!0,a[h.value].value=null,a[h.value^1].value=$(),o("error",y)}function T(y){const c=a[y].value,u={key:"img_"+y,class:x.value,style:B.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...c};return h.value===y?(u.class+=" q-img__image--waiting",Object.assign(u,{onLoad:q,onError:j})):u.class+=" q-img__image--loaded",p("div",{class:"q-img__container absolute-full",key:"img"+y},p("img",u))}function _(){return b.value!==!0?p("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},X(t[g.value===!0?"error":"default"])):p("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[p(gt,{color:e.spinnerColor,size:e.spinnerSize})])}return A(F()),ve(()=>{r=!0,i!==null&&(clearTimeout(i),i=null)}),()=>{const y=[];return l.value!==null&&y.push(p("div",{key:"filler",style:l.value})),g.value!==!0&&(a[0].value!==null&&y.push(T(0)),a[1].value!==null&&y.push(T(1))),y.push(p(Me,{name:"q-transition--fade"},_)),p("div",{class:m.value,style:C.value,role:"img","aria-label":e.alt},y)}}}),ge=ee({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const o=v(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>p(e.tag,{class:o.value},X(t.default))}}),Te=ee({name:"QCard",props:{...Ue,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:o}}=oe(),n=Qe(e,o),l=v(()=>"q-card"+(n.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>p(e.tag,{class:l.value},X(t.default))}}),bo={props:{note:Object,onClick:Function,isListView:Boolean},computed:{completedTodos(){return this.note.type==="todo"?this.note.items.filter(e=>e.completed).length:0},totalTodos(){return this.note.type==="todo"?this.note.items.length:0}}},po={key:0,class:"row items-center q-pa-md"},yo={class:"col"},ko={class:"text-h6"},_o={key:0,class:"text-caption text-muted-foreground row items-center"},xo={key:1,class:"text-caption text-muted-foreground ellipsis"},Co={class:"text-h6"},wo={key:0},qo={key:0,class:"text-caption text-muted-foreground"},So={class:"text-caption text-muted-foreground row items-center"},Bo={key:1},Vo={class:"ellipsis"};function Mo(e,t,o,n,l,i){const r=ye("q-audio");return D(),ie(Te,{onClick:o.onClick,class:De(["cursor-pointer hover-shadow-lg bg-card text-card-foreground",{"row items-center":o.isListView}])},{default:K(()=>[o.isListView?(D(),Z("div",po,[J("div",yo,[J("h3",ko,le(o.note.title||"Untitled"),1),o.note.type==="todo"?(D(),Z("p",_o,[N(se,{name:"check_square",size:"16px",class:"q-mr-xs"}),et(" "+le(i.completedTodos)+"/"+le(i.totalTodos)+" completed ",1)])):(D(),Z("p",xo,le(o.note.content),1))]),o.note.image?(D(),ie(ze,{key:0,src:o.note.image||"/placeholder.svg",alt:"Note image",class:"col-auto q-ml-md",style:{width:"48px",height:"48px","border-radius":"4px","object-fit":"cover"}},null,8,["src"])):ue("",!0)])):(D(),Z(ke,{key:1},[N(ge,null,{default:K(()=>[J("div",Co,le(o.note.title||"Untitled"),1)]),_:1}),N(ge,null,{default:K(()=>[o.note.type==="todo"?(D(),Z("div",wo,[(D(!0),Z(ke,null,He(o.note.items.slice(0,3),(a,h)=>(D(),Z("div",{key:a.id,class:De(["text-body2",{"text-strike text-muted-foreground":a.completed}])},le(a.text||"Untitled item"),3))),128)),o.note.items.length>3?(D(),Z("p",qo," +"+le(o.note.items.length-3)+" more items ",1)):ue("",!0),J("p",So,[N(se,{name:"check_square",size:"16px",class:"q-mr-xs"}),et(" "+le(i.completedTodos)+"/"+le(i.totalTodos)+" completed ",1)])])):(D(),Z("div",Bo,[J("p",Vo,le(o.note.content),1),o.note.image?(D(),ie(ze,{key:0,src:o.note.image||"/placeholder.svg",alt:"Note image",class:"q-mt-md",style:{width:"100%",height:"128px","border-radius":"4px","object-fit":"cover"}},null,8,["src"])):ue("",!0),o.note.voiceMemo?(D(),ie(r,{key:1,src:o.note.voiceMemo,controls:"",class:"q-mt-md"},null,8,["src"])):ue("",!0)]))]),_:1})],64))]),_:1},8,["onClick","class"])}const Ao=xe(bo,[["render",Mo],["__scopeId","data-v-1e2132e1"]]),Eo=p("div",{class:"q-space"}),Fo=ee({name:"QSpace",setup(){return()=>Eo}});function To({validate:e,resetValidation:t,requiresQForm:o}){const n=Fe(Pt,!1);if(n!==!1){const{props:l,proxy:i}=oe();Object.assign(i,{validate:e,resetValidation:t}),W(()=>l.disable,r=>{r===!0?(typeof t=="function"&&t(),n.unbindComponent(i)):n.bindComponent(i)}),be(()=>{l.disable!==!0&&n.bindComponent(i)}),ve(()=>{l.disable!==!0&&n.unbindComponent(i)})}else o===!0&&console.error("Parent QForm not found on useFormChild()!")}const ot=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,nt=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,lt=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,Ce=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,we=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Ie={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>ot.test(e),hexaColor:e=>nt.test(e),hexOrHexaColor:e=>lt.test(e),rgbColor:e=>Ce.test(e),rgbaColor:e=>we.test(e),rgbOrRgbaColor:e=>Ce.test(e)||we.test(e),hexOrRgbColor:e=>ot.test(e)||Ce.test(e),hexaOrRgbaColor:e=>nt.test(e)||we.test(e),anyColor:e=>lt.test(e)||Ce.test(e)||we.test(e)},Ro=[!0,!1,"ondemand"],No={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>Ro.includes(e)}};function Io(e,t){const{props:o,proxy:n}=oe(),l=V(!1),i=V(null),r=V(null);To({validate:B,resetValidation:x});let a=0,h;const b=v(()=>o.rules!==void 0&&o.rules!==null&&o.rules.length!==0),g=v(()=>o.disable!==!0&&b.value===!0),m=v(()=>o.error===!0||l.value===!0),C=v(()=>typeof o.errorMessage=="string"&&o.errorMessage.length!==0?o.errorMessage:i.value);W(()=>o.modelValue,()=>{F()}),W(()=>o.reactiveRules,A=>{A===!0?h===void 0&&(h=W(()=>o.rules,()=>{F(!0)})):h!==void 0&&(h(),h=void 0)},{immediate:!0}),W(e,A=>{A===!0?r.value===null&&(r.value=!1):r.value===!1&&(r.value=!0,g.value===!0&&o.lazyRules!=="ondemand"&&t.value===!1&&$())});function x(){a++,t.value=!1,r.value=null,l.value=!1,i.value=null,$.cancel()}function B(A=o.modelValue){if(g.value!==!0)return!0;const q=++a,Q=t.value!==!0?()=>{r.value=!0}:()=>{},z=(T,_)=>{T===!0&&Q(),l.value=T,i.value=_||null,t.value=!1},j=[];for(let T=0;T<o.rules.length;T++){const _=o.rules[T];let y;if(typeof _=="function"?y=_(A,Ie):typeof _=="string"&&Ie[_]!==void 0&&(y=Ie[_](A)),y===!1||typeof y=="string")return z(!0,y),!1;y!==!0&&y!==void 0&&j.push(y)}return j.length===0?(z(!1),!0):(t.value=!0,Promise.all(j).then(T=>{if(T===void 0||Array.isArray(T)===!1||T.length===0)return q===a&&z(!1),!0;const _=T.find(y=>y===!1||typeof y=="string");return q===a&&z(_!==void 0,_),_===void 0},T=>(q===a&&(console.error(T),z(!0)),!1)))}function F(A){g.value===!0&&o.lazyRules!=="ondemand"&&(r.value===!0||o.lazyRules!==!0&&A!==!0)&&$()}const $=$t(B,0);return ve(()=>{h!==void 0&&h(),$.cancel()}),Object.assign(n,{resetValidation:x,validate:B}),Ke(n,"hasError",()=>m.value),{isDirtyModel:r,hasRules:b,hasError:m,errorMessage:C,validate:B,resetValidation:x}}const at=/^on[A-Z]/;function Po(e,t){const o={listeners:V({}),attributes:V({})};function n(){const l={},i={};for(const r in e)r!=="class"&&r!=="style"&&at.test(r)===!1&&(l[r]=e[r]);for(const r in t.props)at.test(r)===!0&&(i[r]=t.props[r]);o.attributes.value=l,o.listeners.value=i}return Ot(n),n(),o}let Pe,qe=0;const G=new Array(256);for(let e=0;e<256;e++)G[e]=(e+256).toString(16).substring(1);const $o=(()=>{const e=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const o=new Uint8Array(t);return e.getRandomValues(o),o}}return t=>{const o=[];for(let n=t;n>0;n--)o.push(Math.floor(Math.random()*256));return o}})(),it=4096;function Ye(){(Pe===void 0||qe+16>it)&&(qe=0,Pe=$o(it));const e=Array.prototype.slice.call(Pe,qe,qe+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,G[e[0]]+G[e[1]]+G[e[2]]+G[e[3]]+"-"+G[e[4]]+G[e[5]]+"-"+G[e[6]]+G[e[7]]+"-"+G[e[8]]+G[e[9]]+"-"+G[e[10]]+G[e[11]]+G[e[12]]+G[e[13]]+G[e[14]]+G[e[15]]}let ce=[],_e=[];function qt(e){_e=_e.filter(t=>t!==e)}function Oo(e){qt(e),_e.push(e)}function rt(e){qt(e),_e.length===0&&ce.length!==0&&(ce[ce.length-1](),ce=[])}function Je(e){_e.length===0?e():ce.push(e)}function Do(e){ce=ce.filter(t=>t!==e)}function St(e,t){return e===void 0?t===!0?`f_${Ye()}`:void 0:e}function je(e){return e!=null&&(""+e).length!==0}const Lo={...Ue,...No,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},zo=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function jo({requiredForAttr:e=!0,tagProp:t}={}){const{props:o,attrs:n,proxy:l,vnode:i}=oe(),r=Qe(o,l.$q);return{requiredForAttr:e,tag:t===!0?v(()=>o.tag):{value:"label"},isDark:r,editable:v(()=>o.disable!==!0&&o.readonly!==!0),innerLoading:V(!1),focused:V(!1),hasPopupOpen:!1,splitAttrs:Po(n,i),targetUid:V(St(o.for,e)),rootRef:V(null),targetRef:V(null),controlRef:V(null)}}function Uo(e){const{props:t,emit:o,slots:n,attrs:l,proxy:i}=oe(),{$q:r}=i;let a=null;e.hasValue===void 0&&(e.hasValue=v(()=>je(t.modelValue))),e.emitValue===void 0&&(e.emitValue=d=>{o("update:modelValue",d)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:c,onFocusout:u}),Object.assign(e,{clearValue:k,onControlFocusin:c,onControlFocusout:u,focus:_}),e.computedCounter===void 0&&(e.computedCounter=v(()=>{if(t.counter!==!1){const d=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,R=t.maxlength!==void 0?t.maxlength:t.maxValues;return d+(R!==void 0?" / "+R:"")}}));const{isDirtyModel:h,hasRules:b,hasError:g,errorMessage:m,resetValidation:C}=Io(e.focused,e.innerLoading),x=e.floatingLabel!==void 0?v(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):v(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),B=v(()=>t.bottomSlots===!0||t.hint!==void 0||b.value===!0||t.counter===!0||t.error!==null),F=v(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),$=v(()=>`q-field row no-wrap items-start q-field--${F.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(x.value===!0?" q-field--float":"")+(q.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(g.value===!0?" q-field--error":"")+(g.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&B.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),A=v(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(g.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),q=v(()=>t.labelSlot===!0||t.label!==void 0),Q=v(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&g.value!==!0?` text-${t.labelColor}`:"")),z=v(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:x.value,modelValue:t.modelValue,emitValue:e.emitValue})),j=v(()=>{const d={for:e.targetUid.value};return t.disable===!0?d["aria-disabled"]="true":t.readonly===!0&&(d["aria-readonly"]="true"),d});W(()=>t.for,d=>{e.targetUid.value=St(d,e.requiredForAttr)});function T(){const d=document.activeElement;let R=e.targetRef!==void 0&&e.targetRef.value;R&&(d===null||d.id!==e.targetUid.value)&&(R.hasAttribute("tabindex")===!0||(R=R.querySelector("[tabindex]")),R&&R!==d&&R.focus({preventScroll:!0}))}function _(){Je(T)}function y(){Do(T);const d=document.activeElement;d!==null&&e.rootRef.value.contains(d)&&d.blur()}function c(d){a!==null&&(clearTimeout(a),a=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,o("focus",d))}function u(d,R){a!==null&&clearTimeout(a),a=setTimeout(()=>{a=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,o("blur",d)),R!==void 0&&R())})}function k(d){Le(d),r.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),o("update:modelValue",null),o("clear",t.modelValue),re(()=>{C(),r.platform.is.mobile!==!0&&(h.value=!1)})}function s(){const d=[];return n.prepend!==void 0&&d.push(p("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:pe},n.prepend())),d.push(p("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},w())),g.value===!0&&t.noErrorIcon===!1&&d.push(O("error",[p(se,{name:r.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?d.push(O("inner-loading-append",n.loading!==void 0?n.loading():[p(gt,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&d.push(O("inner-clearable-append",[p(se,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||r.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:k})])),n.append!==void 0&&d.push(p("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:pe},n.append())),e.getInnerAppend!==void 0&&d.push(O("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&d.push(e.getControlChild()),d}function w(){const d=[];return t.prefix!==void 0&&t.prefix!==null&&d.push(p("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&d.push(e.getShadowControl()),e.getControl!==void 0?d.push(e.getControl()):n.rawControl!==void 0?d.push(n.rawControl()):n.control!==void 0&&d.push(p("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},n.control(z.value))),q.value===!0&&d.push(p("div",{class:Q.value},X(n.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&d.push(p("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),d.concat(X(n.default))}function M(){let d,R;g.value===!0?m.value!==null?(d=[p("div",{role:"alert"},m.value)],R=`q--slot-error-${m.value}`):(d=X(n.error),R="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(d=[p("div",t.hint)],R=`q--slot-hint-${t.hint}`):(d=X(n.hint),R="q--slot-hint"));const Y=t.counter===!0||n.counter!==void 0;if(t.hideBottomSpace===!0&&Y===!1&&d===void 0)return;const I=p("div",{key:R,class:"q-field__messages col"},d);return p("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:pe},[t.hideBottomSpace===!0?I:p(Me,{name:"q-transition--field-message"},()=>I),Y===!0?p("div",{class:"q-field__counter"},n.counter!==void 0?n.counter():e.computedCounter.value):null])}function O(d,R){return R===null?null:p("div",{key:d,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},R)}let E=!1;return ht(()=>{E=!0}),Dt(()=>{E===!0&&t.autofocus===!0&&i.focus()}),be(()=>{Lt.value===!0&&e.requiredForAttr===!0&&t.for===void 0&&(e.targetUid.value=`f_${Ye()}`),t.autofocus===!0&&i.focus()}),ve(()=>{a!==null&&clearTimeout(a)}),Object.assign(i,{focus:_,blur:y}),function(){const R=e.getControl===void 0&&n.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...j.value}:j.value;return p(e.tag.value,{ref:e.rootRef,class:[$.value,l.class],style:l.style,...R},[n.before!==void 0?p("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:pe},n.before()):null,p("div",{class:"q-field__inner relative-position col self-stretch"},[p("div",{ref:e.controlRef,class:A.value,tabindex:-1,...e.controlEvents},s()),B.value===!0?M():null]),n.after!==void 0?p("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:pe},n.after()):null])}}const st={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Ae={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Bt=Object.keys(Ae);Bt.forEach(e=>{Ae[e].regex=new RegExp(Ae[e].pattern)});const Qo=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Bt.join("")+"])|(.)","g"),ut=/[.*+?^${}()|[\]\\]/g,H="",Ho={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Ko(e,t,o,n){let l,i,r,a,h,b;const g=V(null),m=V(x());function C(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}W(()=>e.type+e.autogrow,F),W(()=>e.mask,c=>{if(c!==void 0)$(m.value,!0);else{const u=_(m.value);F(),e.modelValue!==u&&t("update:modelValue",u)}}),W(()=>e.fillMask+e.reverseFillMask,()=>{g.value===!0&&$(m.value,!0)}),W(()=>e.unmaskedValue,()=>{g.value===!0&&$(m.value)});function x(){if(F(),g.value===!0){const c=j(_(e.modelValue));return e.fillMask!==!1?y(c):c}return e.modelValue}function B(c){if(c<l.length)return l.slice(-c);let u="",k=l;const s=k.indexOf(H);if(s>-1){for(let w=c-k.length;w>0;w--)u+=H;k=k.slice(0,s)+u+k.slice(s)}return k}function F(){if(g.value=e.mask!==void 0&&e.mask.length!==0&&C(),g.value===!1){a=void 0,l="",i="";return}const c=st[e.mask]===void 0?e.mask:st[e.mask],u=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",k=u.replace(ut,"\\$&"),s=[],w=[],M=[];let O=e.reverseFillMask===!0,E="",d="";c.replace(Qo,(U,f,L,ne,S)=>{if(ne!==void 0){const P=Ae[ne];M.push(P),d=P.negate,O===!0&&(w.push("(?:"+d+"+)?("+P.pattern+"+)?(?:"+d+"+)?("+P.pattern+"+)?"),O=!1),w.push("(?:"+d+"+)?("+P.pattern+")?")}else if(L!==void 0)E="\\"+(L==="\\"?"":L),M.push(L),s.push("([^"+E+"]+)?"+E+"?");else{const P=f!==void 0?f:S;E=P==="\\"?"\\\\\\\\":P.replace(ut,"\\\\$&"),M.push(P),s.push("([^"+E+"]+)?"+E+"?")}});const R=new RegExp("^"+s.join("")+"("+(E===""?".":"[^"+E+"]")+"+)?"+(E===""?"":"["+E+"]*")+"$"),Y=w.length-1,I=w.map((U,f)=>f===0&&e.reverseFillMask===!0?new RegExp("^"+k+"*"+U):f===Y?new RegExp("^"+U+"("+(d===""?".":d)+"+)?"+(e.reverseFillMask===!0?"$":k+"*")):new RegExp("^"+U));r=M,a=U=>{const f=R.exec(e.reverseFillMask===!0?U:U.slice(0,M.length+1));f!==null&&(U=f.slice(1).join(""));const L=[],ne=I.length;for(let S=0,P=U;S<ne;S++){const ae=I[S].exec(P);if(ae===null)break;P=P.slice(ae.shift().length),L.push(...ae)}return L.length!==0?L.join(""):U},l=M.map(U=>typeof U=="string"?U:H).join(""),i=l.split(H).join(u)}function $(c,u,k){const s=n.value,w=s.selectionEnd,M=s.value.length-w,O=_(c);u===!0&&F();const E=j(O),d=e.fillMask!==!1?y(E):E,R=m.value!==d;s.value!==d&&(s.value=d),R===!0&&(m.value=d),document.activeElement===s&&re(()=>{if(d===i){const I=e.reverseFillMask===!0?i.length:0;s.setSelectionRange(I,I,"forward");return}if(k==="insertFromPaste"&&e.reverseFillMask!==!0){const I=s.selectionEnd;let U=w-1;for(let f=h;f<=U&&f<I;f++)l[f]!==H&&U++;q.right(s,U);return}if(["deleteContentBackward","deleteContentForward"].indexOf(k)>-1){const I=e.reverseFillMask===!0?w===0?d.length>E.length?1:0:Math.max(0,d.length-(d===i?0:Math.min(E.length,M)+1))+1:w;s.setSelectionRange(I,I,"forward");return}if(e.reverseFillMask===!0)if(R===!0){const I=Math.max(0,d.length-(d===i?0:Math.min(E.length,M+1)));I===1&&w===1?s.setSelectionRange(I,I,"forward"):q.rightReverse(s,I)}else{const I=d.length-M;s.setSelectionRange(I,I,"backward")}else if(R===!0){const I=Math.max(0,l.indexOf(H),Math.min(E.length,w)-1);q.right(s,I)}else{const I=w-1;q.right(s,I)}});const Y=e.unmaskedValue===!0?_(d):d;String(e.modelValue)!==Y&&(e.modelValue!==null||Y!=="")&&o(Y,!0)}function A(c,u,k){const s=j(_(c.value));u=Math.max(0,l.indexOf(H),Math.min(s.length,u)),h=u,c.setSelectionRange(u,k,"forward")}const q={left(c,u){const k=l.slice(u-1).indexOf(H)===-1;let s=Math.max(0,u-1);for(;s>=0;s--)if(l[s]===H){u=s,k===!0&&u++;break}if(s<0&&l[u]!==void 0&&l[u]!==H)return q.right(c,0);u>=0&&c.setSelectionRange(u,u,"backward")},right(c,u){const k=c.value.length;let s=Math.min(k,u+1);for(;s<=k;s++)if(l[s]===H){u=s;break}else l[s-1]===H&&(u=s);if(s>k&&l[u-1]!==void 0&&l[u-1]!==H)return q.left(c,k);c.setSelectionRange(u,u,"forward")},leftReverse(c,u){const k=B(c.value.length);let s=Math.max(0,u-1);for(;s>=0;s--)if(k[s-1]===H){u=s;break}else if(k[s]===H&&(u=s,s===0))break;if(s<0&&k[u]!==void 0&&k[u]!==H)return q.rightReverse(c,0);u>=0&&c.setSelectionRange(u,u,"backward")},rightReverse(c,u){const k=c.value.length,s=B(k),w=s.slice(0,u+1).indexOf(H)===-1;let M=Math.min(k,u+1);for(;M<=k;M++)if(s[M-1]===H){u=M,u>0&&w===!0&&u--;break}if(M>k&&s[u-1]!==void 0&&s[u-1]!==H)return q.leftReverse(c,k);c.setSelectionRange(u,u,"forward")}};function Q(c){t("click",c),b=void 0}function z(c){if(t("keydown",c),zt(c)===!0||c.altKey===!0)return;const u=n.value,k=u.selectionStart,s=u.selectionEnd;if(c.shiftKey||(b=void 0),c.keyCode===37||c.keyCode===39){c.shiftKey&&b===void 0&&(b=u.selectionDirection==="forward"?k:s);const w=q[(c.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(c.preventDefault(),w(u,b===k?s:k),c.shiftKey){const M=u.selectionStart;u.setSelectionRange(Math.min(b,M),Math.max(b,M),"forward")}}else c.keyCode===8&&e.reverseFillMask!==!0&&k===s?(q.left(u,k),u.setSelectionRange(u.selectionStart,s,"backward")):c.keyCode===46&&e.reverseFillMask===!0&&k===s&&(q.rightReverse(u,s),u.setSelectionRange(k,u.selectionEnd,"forward"))}function j(c){if(c==null||c==="")return"";if(e.reverseFillMask===!0)return T(c);const u=r;let k=0,s="";for(let w=0;w<u.length;w++){const M=c[k],O=u[w];if(typeof O=="string")s+=O,M===O&&k++;else if(M!==void 0&&O.regex.test(M))s+=O.transform!==void 0?O.transform(M):M,k++;else return s}return s}function T(c){const u=r,k=l.indexOf(H);let s=c.length-1,w="";for(let M=u.length-1;M>=0&&s>-1;M--){const O=u[M];let E=c[s];if(typeof O=="string")w=O+w,E===O&&s--;else if(E!==void 0&&O.regex.test(E))do w=(O.transform!==void 0?O.transform(E):E)+w,s--,E=c[s];while(k===M&&E!==void 0&&O.regex.test(E));else return w}return w}function _(c){return typeof c!="string"||a===void 0?typeof c=="number"?a(""+c):c:a(c)}function y(c){return i.length-c.length<=0?c:e.reverseFillMask===!0&&c.length!==0?i.slice(0,-c.length)+c:c+i.slice(c.length)}return{innerValue:m,hasMask:g,moveCursorForPaste:A,updateMaskValue:$,onMaskedKeydown:z,onMaskedClick:Q}}function Zo(e,t){function o(){const n=e.modelValue;try{const l="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(n)===n&&("length"in n?Array.from(n):[n]).forEach(i=>{l.items.add(i)}),{files:l.files}}catch{return{files:void 0}}}return t===!0?v(()=>{if(e.type==="file")return o()}):v(o)}const Wo=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Go=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Yo=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Jo=/[a-z0-9_ -]$/i;function Xo(e){return function(o){if(o.type==="compositionend"||o.type==="change"){if(o.target.qComposing!==!0)return;o.target.qComposing=!1,e(o)}else o.type==="compositionupdate"&&o.target.qComposing!==!0&&typeof o.data=="string"&&(Ze.is.firefox===!0?Jo.test(o.data)===!1:Wo.test(o.data)===!0||Go.test(o.data)===!0||Yo.test(o.data)===!0)===!0&&(o.target.qComposing=!0)}}const $e=ee({name:"QInput",inheritAttrs:!1,props:{...Lo,...Ho,...Ge,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...zo,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:o}){const{proxy:n}=oe(),{$q:l}=n,i={};let r=NaN,a,h,b=null,g;const m=V(null),C=fo(e),{innerValue:x,hasMask:B,moveCursorForPaste:F,updateMaskValue:$,onMaskedKeydown:A,onMaskedClick:q}=Ko(e,t,E,m),Q=Zo(e,!0),z=v(()=>je(x.value)),j=Xo(M),T=jo(),_=v(()=>e.type==="textarea"||e.autogrow===!0),y=v(()=>_.value===!0||["text","search","url","tel","password"].includes(e.type)),c=v(()=>{const f={...T.splitAttrs.listeners.value,onInput:M,onPaste:w,onChange:R,onBlur:Y,onFocus:tt};return f.onCompositionstart=f.onCompositionupdate=f.onCompositionend=j,B.value===!0&&(f.onKeydown=A,f.onClick=q),e.autogrow===!0&&(f.onAnimationend=O),f}),u=v(()=>{const f={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:C.value,...T.splitAttrs.attributes.value,id:T.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return _.value===!1&&(f.type=e.type),e.autogrow===!0&&(f.rows=1),f});W(()=>e.type,()=>{m.value&&(m.value.value=e.modelValue)}),W(()=>e.modelValue,f=>{if(B.value===!0){if(h===!0&&(h=!1,String(f)===r))return;$(f)}else x.value!==f&&(x.value=f,e.type==="number"&&i.hasOwnProperty("value")===!0&&(a===!0?a=!1:delete i.value));e.autogrow===!0&&re(d)}),W(()=>e.autogrow,f=>{f===!0?re(d):m.value!==null&&o.rows>0&&(m.value.style.height="auto")}),W(()=>e.dense,()=>{e.autogrow===!0&&re(d)});function k(){Je(()=>{const f=document.activeElement;m.value!==null&&m.value!==f&&(f===null||f.id!==T.targetUid.value)&&m.value.focus({preventScroll:!0})})}function s(){m.value!==null&&m.value.select()}function w(f){if(B.value===!0&&e.reverseFillMask!==!0){const L=f.target;F(L,L.selectionStart,L.selectionEnd)}t("paste",f)}function M(f){if(!f||!f.target)return;if(e.type==="file"){t("update:modelValue",f.target.files);return}const L=f.target.value;if(f.target.qComposing===!0){i.value=L;return}if(B.value===!0)$(L,!1,f.inputType);else if(E(L),y.value===!0&&f.target===document.activeElement){const{selectionStart:ne,selectionEnd:S}=f.target;ne!==void 0&&S!==void 0&&re(()=>{f.target===document.activeElement&&L.indexOf(f.target.value)===0&&f.target.setSelectionRange(ne,S)})}e.autogrow===!0&&d()}function O(f){t("animationend",f),d()}function E(f,L){g=()=>{b=null,e.type!=="number"&&i.hasOwnProperty("value")===!0&&delete i.value,e.modelValue!==f&&r!==f&&(r=f,L===!0&&(h=!0),t("update:modelValue",f),re(()=>{r===f&&(r=NaN)})),g=void 0},e.type==="number"&&(a=!0,i.value=f),e.debounce!==void 0?(b!==null&&clearTimeout(b),i.value=f,b=setTimeout(g,e.debounce)):g()}function d(){requestAnimationFrame(()=>{const f=m.value;if(f!==null){const L=f.parentNode.style,{scrollTop:ne}=f,{overflowY:S,maxHeight:P}=l.platform.is.firefox===!0?{}:window.getComputedStyle(f),ae=S!==void 0&&S!=="scroll";ae===!0&&(f.style.overflowY="hidden"),L.marginBottom=f.scrollHeight-1+"px",f.style.height="1px",f.style.height=f.scrollHeight+"px",ae===!0&&(f.style.overflowY=parseInt(P,10)<f.scrollHeight?"auto":"hidden"),L.marginBottom="",f.scrollTop=ne}})}function R(f){j(f),b!==null&&(clearTimeout(b),b=null),g!==void 0&&g(),t("change",f.target.value)}function Y(f){f!==void 0&&tt(f),b!==null&&(clearTimeout(b),b=null),g!==void 0&&g(),a=!1,h=!1,delete i.value,e.type!=="file"&&setTimeout(()=>{m.value!==null&&(m.value.value=x.value!==void 0?x.value:"")})}function I(){return i.hasOwnProperty("value")===!0?i.value:x.value!==void 0?x.value:""}ve(()=>{Y()}),be(()=>{e.autogrow===!0&&d()}),Object.assign(T,{innerValue:x,fieldClass:v(()=>`q-${_.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:v(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:m,emitValue:E,hasValue:z,floatingLabel:v(()=>z.value===!0&&(e.type!=="number"||isNaN(x.value)===!1)||je(e.displayValue)),getControl:()=>p(_.value===!0?"textarea":"input",{ref:m,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...u.value,...c.value,...e.type!=="file"?{value:I()}:Q.value}),getShadowControl:()=>p("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(_.value===!0?"":" text-no-wrap")},[p("span",{class:"invisible"},I()),p("span",e.shadowText)])});const U=Uo(T);return Object.assign(n,{focus:k,select:s,getNativeElement:()=>m.value}),Ke(n,"nativeEl",()=>m.value),U}});function en(e,t){const o=V(null),n=v(()=>e.disable===!0?null:p("span",{ref:o,class:"no-outline",tabindex:-1}));function l(i){const r=t.value;i!==void 0&&i.type.indexOf("key")===0?r!==null&&document.activeElement!==r&&r.contains(document.activeElement)===!0&&r.focus():o.value!==null&&(i===void 0||r!==null&&r.contains(i.target)===!0)&&o.value.focus()}return{refocusTargetEl:n,refocusTarget:l}}const tn={xs:30,sm:35,md:40,lg:50,xl:60},on={...Ue,...Ut,...Ge,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},nn=["update:modelValue"];function ln(e,t){const{props:o,slots:n,emit:l,proxy:i}=oe(),{$q:r}=i,a=Qe(o,r),h=V(null),{refocusTargetEl:b,refocusTarget:g}=en(o,h),m=jt(o,tn),C=v(()=>o.val!==void 0&&Array.isArray(o.modelValue)),x=v(()=>{const s=me(o.val);return C.value===!0?o.modelValue.findIndex(w=>me(w)===s):-1}),B=v(()=>C.value===!0?x.value>-1:me(o.modelValue)===me(o.trueValue)),F=v(()=>C.value===!0?x.value===-1:me(o.modelValue)===me(o.falseValue)),$=v(()=>B.value===!1&&F.value===!1),A=v(()=>o.disable===!0?-1:o.tabindex||0),q=v(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(o.disable===!0?" disabled":"")+(a.value===!0?` q-${e}--dark`:"")+(o.dense===!0?` q-${e}--dense`:"")+(o.leftLabel===!0?" reverse":"")),Q=v(()=>{const s=B.value===!0?"truthy":F.value===!0?"falsy":"indet",w=o.color!==void 0&&(o.keepColor===!0||(e==="toggle"?B.value===!0:F.value!==!0))?` text-${o.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${s}${w}`}),z=v(()=>{const s={type:"checkbox"};return o.name!==void 0&&Object.assign(s,{".checked":B.value,"^checked":B.value===!0?"checked":void 0,name:o.name,value:C.value===!0?o.val:o.trueValue}),s}),j=Ct(z),T=v(()=>{const s={tabindex:A.value,role:e==="toggle"?"switch":"checkbox","aria-label":o.label,"aria-checked":$.value===!0?"mixed":B.value===!0?"true":"false"};return o.disable===!0&&(s["aria-disabled"]="true"),s});function _(s){s!==void 0&&(Le(s),g(s)),o.disable!==!0&&l("update:modelValue",y(),s)}function y(){if(C.value===!0){if(B.value===!0){const s=o.modelValue.slice();return s.splice(x.value,1),s}return o.modelValue.concat([o.val])}if(B.value===!0){if(o.toggleOrder!=="ft"||o.toggleIndeterminate===!1)return o.falseValue}else if(F.value===!0){if(o.toggleOrder==="ft"||o.toggleIndeterminate===!1)return o.trueValue}else return o.toggleOrder!=="ft"?o.trueValue:o.falseValue;return o.indeterminateValue}function c(s){(s.keyCode===13||s.keyCode===32)&&Le(s)}function u(s){(s.keyCode===13||s.keyCode===32)&&_(s)}const k=t(B,$);return Object.assign(i,{toggle:_}),()=>{const s=k();o.disable!==!0&&j(s,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const w=[p("div",{class:Q.value,style:m.value,"aria-hidden":"true"},s)];b.value!==null&&w.push(b.value);const M=o.label!==void 0?Ee(n.default,[o.label]):X(n.default);return M!==void 0&&w.push(p("div",{class:`q-${e}__label q-anchor--skip`},M)),p("div",{ref:h,class:q.value,...T.value,onClick:_,onKeydown:c,onKeyup:u},w)}}const an=p("div",{key:"svg",class:"q-checkbox__bg absolute"},[p("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[p("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),p("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]),rn=ee({name:"QCheckbox",props:on,emits:nn,setup(e){function t(o,n){const l=v(()=>(o.value===!0?e.checkedIcon:n.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>l.value!==null?[p("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[p(se,{class:"q-checkbox__icon",name:l.value})])]:[an]}return ln("checkbox",t)}}),Vt=ee({name:"QCardActions",props:{...Qt,vertical:Boolean},setup(e,{slots:t}){const o=Ht(e),n=v(()=>`q-card__actions ${o.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>p("div",{class:n.value},X(t.default))}}),sn=["top","right","bottom","left"],Mt={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:e=>sn.includes(e)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function At(e,t){return{formClass:v(()=>`q-fab--form-${e.square===!0?"square":"rounded"}`),stacked:v(()=>e.externalLabel===!1&&["top","bottom"].includes(e.labelPosition)),labelProps:v(()=>{if(e.externalLabel===!0){const o=e.hideLabel===null?t.value===!1:e.hideLabel;return{action:"push",data:{class:[e.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${e.labelPosition}`+(o===!0?" q-fab__label--external-hidden":"")],style:e.labelStyle}}}return{action:["left","top"].includes(e.labelPosition)?"unshift":"push",data:{class:[e.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${e.labelPosition}`+(e.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:e.labelStyle}}})}}const Et={start:"self-end",center:"self-center",end:"self-start"},un=Object.keys(Et),Oe=ee({name:"QFabAction",props:{...Mt,icon:{type:String,default:""},anchor:{type:String,validator:e=>un.includes(e)},to:[String,Object],replace:Boolean},emits:["click"],setup(e,{slots:t,emit:o}){const n=Fe(bt,()=>({showing:{value:!0},onChildClick:Kt})),{formClass:l,labelProps:i}=At(e,n.showing),r=v(()=>{const m=Et[e.anchor];return l.value+(m!==void 0?` ${m}`:"")}),a=v(()=>e.disable===!0||n.showing.value!==!0);function h(m){n.onChildClick(m),o("click",m)}function b(){const m=[];return t.icon!==void 0?m.push(t.icon()):e.icon!==""&&m.push(p(se,{name:e.icon})),(e.label!==""||t.label!==void 0)&&m[i.value.action](p("div",i.value.data,t.label!==void 0?t.label():[e.label])),Ee(t.default,m)}const g=oe();return Object.assign(g.proxy,{click:h}),()=>p(te,{class:r.value,...e,noWrap:!0,stack:e.stacked,icon:void 0,label:void 0,noCaps:!0,fabMini:!0,disable:a.value,onClick:h},b)}}),cn=["up","right","down","left"],dn=["left","center","right"],fn=ee({name:"QFab",props:{...Mt,...pt,icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{default:null},direction:{type:String,default:"right",validator:e=>cn.includes(e)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:e=>dn.includes(e)}},emits:yt,setup(e,{slots:t}){const o=V(null),n=V(e.modelValue===!0),l=Ye(),{proxy:{$q:i}}=oe(),{formClass:r,labelProps:a}=At(e,n),h=v(()=>e.persistent!==!0),{hide:b,toggle:g}=kt({showing:n,hideOnRouteChange:h}),m=v(()=>({opened:n.value})),C=v(()=>`q-fab z-fab row inline justify-center q-fab--align-${e.verticalActionsAlign} ${r.value}`+(n.value===!0?" q-fab--opened":" q-fab--closed")),x=v(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${e.direction} q-fab__actions--${n.value===!0?"opened":"closed"}`),B=v(()=>{const q={id:l,role:"menu"};return n.value!==!0&&(q["aria-hidden"]="true"),q}),F=v(()=>`q-fab__icon-holder  q-fab__icon-holder--${n.value===!0?"opened":"closed"}`);function $(q,Q){const z=t[q],j=`q-fab__${q} absolute-full`;return z===void 0?p(se,{class:j,name:e[Q]||i.iconSet.fab[Q]}):p("div",{class:j},z(m.value))}function A(){const q=[];return e.hideIcon!==!0&&q.push(p("div",{class:F.value},[$("icon","icon"),$("active-icon","activeIcon")])),(e.label!==""||t.label!==void 0)&&q[a.value.action](p("div",a.value.data,t.label!==void 0?t.label(m.value):[e.label])),Ee(t.tooltip,q)}return Zt(bt,{showing:n,onChildClick(q){b(q),o.value!==null&&o.value.$el.focus()}}),()=>p("div",{class:C.value},[p(te,{ref:o,class:r.value,...e,noWrap:!0,stack:e.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":n.value===!0?"true":"false","aria-haspopup":"true","aria-controls":l,onClick:g},A),p("div",{class:x.value,...B.value},X(t.default))])}}),vn={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>e.length===2},expand:Boolean};function mn(){const{props:e,proxy:{$q:t}}=oe(),o=Fe(Wt,Ne);if(o===Ne)return console.error("QPageSticky needs to be child of QLayout"),Ne;const n=v(()=>{const m=e.position;return{top:m.indexOf("top")>-1,right:m.indexOf("right")>-1,bottom:m.indexOf("bottom")>-1,left:m.indexOf("left")>-1,vertical:m==="top"||m==="bottom",horizontal:m==="left"||m==="right"}}),l=v(()=>o.header.offset),i=v(()=>o.right.offset),r=v(()=>o.footer.offset),a=v(()=>o.left.offset),h=v(()=>{let m=0,C=0;const x=n.value,B=t.lang.rtl===!0?-1:1;x.top===!0&&l.value!==0?C=`${l.value}px`:x.bottom===!0&&r.value!==0&&(C=`${-r.value}px`),x.left===!0&&a.value!==0?m=`${B*a.value}px`:x.right===!0&&i.value!==0&&(m=`${-B*i.value}px`);const F={transform:`translate(${m}, ${C})`};return e.offset&&(F.margin=`${e.offset[1]}px ${e.offset[0]}px`),x.vertical===!0?(a.value!==0&&(F[t.lang.rtl===!0?"right":"left"]=`${a.value}px`),i.value!==0&&(F[t.lang.rtl===!0?"left":"right"]=`${i.value}px`)):x.horizontal===!0&&(l.value!==0&&(F.top=`${l.value}px`),r.value!==0&&(F.bottom=`${r.value}px`)),F}),b=v(()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--${e.expand===!0?"expand":"shrink"}`);function g(m){const C=X(m.default);return p("div",{class:b.value,style:h.value},e.expand===!0?C:[p("div",C)])}return{$layout:o,getStickyContent:g}}const gn=ee({name:"QPageSticky",props:vn,setup(e,{slots:t}){const{getStickyContent:o}=mn();return()=>o(t)}});function hn(){let e;const t=oe();function o(){e=void 0}return ht(o),ve(o),{removeTick:o,registerTick(n){e=n,re(()=>{e===n&&(Gt(t)===!1&&e(),e=void 0)})}}}const bn={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function pn(e,t=()=>{},o=()=>{}){return{transitionProps:v(()=>{const n=`q-transition--${e.transitionShow||t()}`,l=`q-transition--${e.transitionHide||o()}`;return{appear:!0,enterFromClass:`${n}-enter-from`,enterActiveClass:`${n}-enter-active`,enterToClass:`${n}-enter-to`,leaveFromClass:`${l}-leave-from`,leaveActiveClass:`${l}-leave-active`,leaveToClass:`${l}-leave-to`}}),transitionStyle:v(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}const Ve=[];function yn(e){return Ve.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function kn(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return Be(e)}else if(e.__qPortal===!0){const o=Be(e);return o!==void 0&&o.$options.name==="QPopupProxy"?(e.hide(t),o):e}e=Be(e)}while(e!=null)}function _n(e,t,o){for(;o!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(o--,e.$options.name==="QMenu"){e=kn(e,t);continue}e.hide(t)}e=Be(e)}}function xn(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function Cn(e,t,o,n){const l=V(!1),i=V(!1);let r=null;const a={},h=n==="dialog"&&xn(e);function b(m){if(m===!0){rt(a),i.value=!0;return}i.value=!1,l.value===!1&&(h===!1&&r===null&&(r=Jt(!1,n)),l.value=!0,Ve.push(e.proxy),Oo(a))}function g(m){if(i.value=!1,m!==!0)return;rt(a),l.value=!1;const C=Ve.indexOf(e.proxy);C!==-1&&Ve.splice(C,1),r!==null&&(Xt(r),r=null)}return We(()=>{g(!0)}),e.proxy.__qPortal=!0,Ke(e.proxy,"contentEl",()=>t.value),{showPortal:b,hidePortal:g,portalIsActive:l,portalIsAccessible:i,renderPortal:()=>h===!0?o():l.value===!0?[p(Yt,{to:r},o())]:void 0}}const de=[];let he;function wn(e){he=e.keyCode===27}function qn(){he===!0&&(he=!1)}function Sn(e){he===!0&&(he=!1,_t(e,27)===!0&&de[de.length-1](e))}function Ft(e){window[e]("keydown",wn),window[e]("blur",qn),window[e]("keyup",Sn),he=!1}function Bn(e){Ze.is.desktop===!0&&(de.push(e),de.length===1&&Ft("addEventListener"))}function ct(e){const t=de.indexOf(e);t>-1&&(de.splice(t,1),de.length===0&&Ft("removeEventListener"))}const fe=[];function Tt(e){fe[fe.length-1](e)}function Vn(e){Ze.is.desktop===!0&&(fe.push(e),fe.length===1&&document.body.addEventListener("focusin",Tt))}function dt(e){const t=fe.indexOf(e);t>-1&&(fe.splice(t,1),fe.length===0&&document.body.removeEventListener("focusin",Tt))}let Se=0;const Mn={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},ft={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},vt=ee({name:"QDialog",inheritAttrs:!1,props:{...pt,...bn,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...yt,"shake","click","escapeKey"],setup(e,{slots:t,emit:o,attrs:n}){const l=oe(),i=V(null),r=V(!1),a=V(!1);let h=null,b=null,g,m;const C=v(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:x}=oo(),{registerTimeout:B}=eo(),{registerTick:F,removeTick:$}=hn(),{transitionProps:A,transitionStyle:q}=pn(e,()=>ft[e.position][0],()=>ft[e.position][1]),{showPortal:Q,hidePortal:z,portalIsAccessible:j,renderPortal:T}=Cn(l,i,ne,"dialog"),{hide:_}=kt({showing:r,hideOnRouteChange:C,handleShow:M,handleHide:O,processOnMount:!0}),{addToHistory:y,removeFromHistory:c}=to(r,_,C),u=v(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Mn[e.position]}`+(a.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),k=v(()=>r.value===!0&&e.seamless!==!0),s=v(()=>e.autoClose===!0?{onClick:U}:{}),w=v(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${k.value===!0?"modal":"seamless"}`,n.class]);W(()=>e.maximized,S=>{r.value===!0&&I(S)}),W(k,S=>{x(S),S===!0?(Vn(L),Bn(R)):(dt(L),ct(R))});function M(S){y(),b=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,I(e.maximized),Q(),a.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),F(E)):$(),B(()=>{if(l.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:P,bottom:ae}=document.activeElement.getBoundingClientRect(),{innerHeight:Xe}=window,Re=window.visualViewport!==void 0?window.visualViewport.height:Xe;P>0&&ae>Re/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-Re,ae>=Xe?1/0:Math.ceil(document.scrollingElement.scrollTop+ae-Re/2))),document.activeElement.scrollIntoView()}m=!0,i.value.click(),m=!1}Q(!0),a.value=!1,o("show",S)},e.transitionDuration)}function O(S){$(),c(),Y(!0),a.value=!0,z(),b!==null&&(((S&&S.type.indexOf("key")===0?b.closest('[tabindex]:not([tabindex^="-"])'):void 0)||b).focus(),b=null),B(()=>{z(!0),a.value=!1,o("hide",S)},e.transitionDuration)}function E(S){Je(()=>{let P=i.value;P===null||P.contains(document.activeElement)===!0||(P=(S!==""?P.querySelector(S):null)||P.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||P.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||P.querySelector("[autofocus], [data-autofocus]")||P,P.focus({preventScroll:!0}))})}function d(S){S&&typeof S.focus=="function"?S.focus({preventScroll:!0}):E(),o("shake");const P=i.value;P!==null&&(P.classList.remove("q-animate--scale"),P.classList.add("q-animate--scale"),h!==null&&clearTimeout(h),h=setTimeout(()=>{h=null,i.value!==null&&(P.classList.remove("q-animate--scale"),E())},170))}function R(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&d():(o("escapeKey"),_()))}function Y(S){h!==null&&(clearTimeout(h),h=null),(S===!0||r.value===!0)&&(I(!1),e.seamless!==!0&&(x(!1),dt(L),ct(R))),S!==!0&&(b=null)}function I(S){S===!0?g!==!0&&(Se<1&&document.body.classList.add("q-body--dialog"),Se++,g=!0):g===!0&&(Se<2&&document.body.classList.remove("q-body--dialog"),Se--,g=!1)}function U(S){m!==!0&&(_(S),o("click",S))}function f(S){e.persistent!==!0&&e.noBackdropDismiss!==!0?_(S):e.noShake!==!0&&d()}function L(S){e.allowFocusOutside!==!0&&j.value===!0&&no(i.value,S.target)!==!0&&E('[tabindex]:not([tabindex="-1"])')}Object.assign(l.proxy,{focus:E,shake:d,__updateRefocusTarget(S){b=S||null}}),ve(Y);function ne(){return p("div",{role:"dialog","aria-modal":k.value===!0?"true":"false",...n,class:w.value},[p(Me,{name:"q-transition--fade",appear:!0},()=>k.value===!0?p("div",{class:"q-dialog__backdrop fixed-full",style:q.value,"aria-hidden":"true",tabindex:-1,onClick:f}):null),p(Me,A.value,()=>r.value===!0?p("div",{ref:i,class:u.value,style:q.value,tabindex:-1,...s.value},X(t.default)):null)])}return T}});function mt(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}const Rt=lo({name:"close-popup",beforeMount(e,{value:t}){const o={depth:mt(t),handler(n){o.depth!==0&&setTimeout(()=>{const l=yn(e);l!==void 0&&_n(l,n,o.depth)})},handlerKey(n){_t(n,13)===!0&&o.handler(n)}};e.__qclosepopup=o,e.addEventListener("click",o.handler),e.addEventListener("keyup",o.handlerKey)},updated(e,{value:t,oldValue:o}){t!==o&&(e.__qclosepopup.depth=mt(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});function An(){return Fe(ao)}const En={name:"CameraPreview",emits:["capture","close"],setup(e,{emit:t}){const o=V(null);let n=null;const l=async()=>{try{n=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),o.value&&(o.value.srcObject=n)}catch(a){console.error("Error accessing camera:",a),t("close")}},i=()=>{n&&n.getTracks().forEach(a=>a.stop())},r=()=>{const a=document.createElement("canvas");a.width=o.value.videoWidth,a.height=o.value.videoHeight,a.getContext("2d").drawImage(o.value,0,0);const h=a.toDataURL("image/jpeg");t("capture",h),i()};return be(()=>{l()}),We(()=>{i()}),{videoElement:o,captureImage:r}}},Fn={ref:"videoElement",autoplay:"",playsinline:"",class:"full-width"};function Tn(e,t,o,n,l,i){return D(),ie(Te,{class:"camera-preview"},{default:K(()=>[N(ge,null,{default:K(()=>[J("video",Fn,null,512)]),_:1}),N(Vt,{align:"right"},{default:K(()=>[xt(N(te,{flat:"",label:"Close",color:"primary"},null,512),[[Rt]]),N(te,{flat:"",label:"Capture",color:"primary",onClick:n.captureImage},null,8,["onClick"])]),_:1})]),_:1})}const Rn=xe(En,[["render",Tn],["__scopeId","data-v-a46b76bb"]]),Nn={name:"NoteModal",components:{CameraPreview:Rn},props:{note:{type:Object,required:!0}},emits:["update","delete","close"],setup(e,{emit:t}){const o=An(),n=V(!0),l=io({...e.note}),i=V(null),r=V(!1),a=V(!1),h=V(null),b=V([]);W(()=>e.note,_=>{Object.assign(l,_)});const g=()=>{m(l)?t("delete",l.id):t("update",l),t("close")},m=_=>_.title.trim()===""&&_.content.trim()===""&&!_.image&&!_.voiceMemo&&(_.type!=="todo"||_.items&&_.items.every(y=>y.text.trim()==="")),C=()=>{t("update",l),n.value=!1},x=()=>{o.dialog({title:"Confirm",message:"Are you sure you want to delete this note?",cancel:!0,persistent:!0}).onOk(()=>{t("delete",l.id),n.value=!1})},B=()=>{l.type==="todo"&&l.items.push({id:Date.now(),text:"",completed:!1})},F=(_,y)=>{l.type==="todo"&&(l.items[_].text=y)},$=()=>{i.value.click()},A=_=>{const y=_.target.files[0];if(y){const c=new FileReader;c.onload=u=>{l.image=u.target.result},c.readAsDataURL(y)}},q=()=>{l.image=null},Q=()=>{r.value=!0},z=_=>{l.image=_,r.value=!1},j=async()=>{if(a.value)T();else try{const _=await navigator.mediaDevices.getUserMedia({audio:!0});h.value=new MediaRecorder(_),h.value.ondataavailable=y=>{b.value.push(y.data)},h.value.onstop=()=>{const y=new Blob(b.value,{type:"audio/webm"});l.voiceMemo=URL.createObjectURL(y),b.value=[]},h.value.start(),a.value=!0}catch(_){console.error("Error accessing microphone:",_),o.notify({color:"negative",message:"Error accessing microphone. Please check your permissions."})}},T=()=>{h.value&&h.value.state!=="inactive"&&(h.value.stop(),a.value=!1)};return be(()=>{window.addEventListener("beforeunload",T)}),We(()=>{window.removeEventListener("beforeunload",T),T()}),{showModal:n,editedNote:l,fileInput:i,showCamera:r,recording:a,closeModal:g,saveNote:C,deleteNote:x,addTodoItem:B,updateTodoItem:F,triggerFileInput:$,handleFileUpload:A,removeImage:q,openCamera:Q,handleCameraCapture:z,toggleRecording:j}}},In={class:"text-h6"},Pn={key:2,class:"q-mt-md"},$n={class:"absolute-top-right"},On={key:3,class:"q-mt-md"},Dn=["src"];function Ln(e,t,o,n,l,i){const r=ye("camera-preview");return D(),ie(vt,{modelValue:n.showModal,"onUpdate:modelValue":t[5]||(t[5]=a=>n.showModal=a),onHide:n.closeModal,maximized:"","transition-show":"slide-up","transition-hide":"slide-down"},{default:K(()=>[N(Te,{class:"column full-height"},{default:K(()=>[N(ge,{class:"row items-center q-pb-none"},{default:K(()=>[J("div",In,le(n.editedNote.title||"Untitled"),1),N(Fo),xt(N(te,{icon:"close",flat:"",round:"",dense:""},null,512),[[Rt]])]),_:1}),N(ge,{class:"q-pa-sm flex-grow-1 overflow-auto"},{default:K(()=>[N($e,{modelValue:n.editedNote.title,"onUpdate:modelValue":t[0]||(t[0]=a=>n.editedNote.title=a),label:"Title",dense:"",autofocus:"",class:"q-mb-md"},null,8,["modelValue"]),n.editedNote.type==="todo"?(D(),Z(ke,{key:0},[(D(!0),Z(ke,null,He(n.editedNote.items,(a,h)=>(D(),Z("div",{key:a.id,class:"q-mb-sm"},[N(rn,{modelValue:a.completed,"onUpdate:modelValue":[b=>a.completed=b,b=>n.updateTodoItem(h,a.text)],label:a.text},null,8,["modelValue","onUpdate:modelValue","label"]),N($e,{modelValue:a.text,"onUpdate:modelValue":[b=>a.text=b,b=>n.updateTodoItem(h,b)],dense:"",class:"q-ml-lg"},null,8,["modelValue","onUpdate:modelValue"])]))),128)),N(te,{label:"Add Item",icon:"add",color:"primary",onClick:n.addTodoItem,class:"q-mt-sm"},null,8,["onClick"])],64)):(D(),ie($e,{key:1,modelValue:n.editedNote.content,"onUpdate:modelValue":t[1]||(t[1]=a=>n.editedNote.content=a),type:"textarea",label:"Content",autogrow:""},null,8,["modelValue"])),n.editedNote.image?(D(),Z("div",Pn,[N(ze,{src:n.editedNote.image,"spinner-color":"primary",style:{"max-height":"600px"}},{default:K(()=>[J("div",$n,[N(te,{round:"",color:"negative",icon:"delete",size:"sm",onClick:n.removeImage},null,8,["onClick"])])]),_:1},8,["src"])])):ue("",!0),n.editedNote.voiceMemo?(D(),Z("div",On,[J("audio",{src:n.editedNote.voiceMemo,controls:"",class:"full-width"},null,8,Dn)])):ue("",!0)]),_:1}),N(Vt,{position:"bottom-left"},{default:K(()=>[N(te,{flat:"",color:"negative",label:"Delete",onClick:n.deleteNote},null,8,["onClick"]),N(te,{flat:"",color:"primary",label:"Save",onClick:n.saveNote},null,8,["onClick"])]),_:1}),N(gn,{position:"bottom-right",offset:[18,18]},{default:K(()=>[N(fn,{icon:"add",direction:"up",color:"primary"},{default:K(()=>[N(Oe,{color:"primary",icon:"attach_file",onClick:n.triggerFileInput},null,8,["onClick"]),N(Oe,{color:"primary",icon:"photo_camera",onClick:n.openCamera},null,8,["onClick"]),N(Oe,{color:"primary",icon:n.recording?"stop":"mic",onClick:n.toggleRecording},null,8,["icon","onClick"])]),_:1})]),_:1})]),_:1}),J("input",{type:"file",ref:"fileInput",accept:"image/*",style:{display:"none"},onChange:t[2]||(t[2]=(...a)=>n.handleFileUpload&&n.handleFileUpload(...a))},null,544),N(vt,{modelValue:n.showCamera,"onUpdate:modelValue":t[4]||(t[4]=a=>n.showCamera=a)},{default:K(()=>[N(r,{onCapture:n.handleCameraCapture,onClose:t[3]||(t[3]=a=>n.showCamera=!1)},null,8,["onCapture"])]),_:1},8,["modelValue"])]),_:1},8,["modelValue","onHide"])}const zn=xe(Nn,[["render",Ln],["__scopeId","data-v-d2ac1886"]]),jn={name:"QuickCreateArea",emits:["create-note"],setup(e,{emit:t}){const o=V(!1),n=wt();return{expanded:o,expandArea:()=>{o.value=!0},createNote:async r=>{const a={title:"",content:"",type:r,...r==="todo"?{items:[]}:{}};await n.addNote(a),t("create-note",a),o.value=!1}}}},Un=e=>(ro("data-v-6037507c"),e=e(),so(),e),Qn={key:0,class:"row items-center"},Hn=Un(()=>J("div",{class:"text-primary q-ml-sm"},"Click to create...",-1)),Kn={key:1,class:"column q-gutter-y-sm"};function Zn(e,t,o,n,l,i){return D(),ie(Te,{class:"quick-create-area cursor-pointer",onClick:n.expandArea},{default:K(()=>[N(ge,null,{default:K(()=>[n.expanded?(D(),Z("div",Kn,[N(te,{flat:"",color:"primary",icon:"note_add",label:"Create a new note",onClick:t[0]||(t[0]=r=>n.createNote("note"))}),N(te,{flat:"",color:"primary",icon:"checklist",label:"Create a to-do list",onClick:t[1]||(t[1]=r=>n.createNote("todo"))})])):(D(),Z("div",Qn,[N(se,{name:"add",size:"sm",color:"primary"}),Hn]))]),_:1})]),_:1},8,["onClick"])}const Wn=xe(jn,[["render",Zn],["__scopeId","data-v-6037507c"]]),Gn={name:"NotesPage",components:{NoteCard:Ao,NoteModal:zn,QuickCreateArea:Wn},setup(){const e=wt(),t=V(""),o=V(null),n=V("grid"),l=v(()=>e.notes.filter(g=>g.title.toLowerCase().includes(t.value.toLowerCase())||g.content.toLowerCase().includes(t.value.toLowerCase()))),i=async g=>{const m={title:"",content:"",type:g,...g==="todo"?{items:[]}:{}};await e.addNote(m),o.value=m},r=async g=>{await e.updateNote(g.id,g),o.value=null},a=async g=>{await e.deleteNote(g),o.value=null},h=g=>{o.value=g},b=()=>{o.value=null};return be(()=>{e.fetchNotes()}),{searchTerm:t,selectedNote:o,viewType:n,filteredNotes:l,createNote:i,updateNote:r,deleteNote:a,openNoteModal:h,closeNoteModal:b}}},Yn={class:"row q-col-gutter-md"},Jn={class:"col-12"},Xn={class:"col-12"};function el(e,t,o,n,l,i){const r=ye("quick-create-area"),a=ye("note-card"),h=ye("note-modal");return D(),ie(uo,{padding:""},{default:K(()=>[J("div",Yn,[J("div",Jn,[N(vo,{modelValue:n.viewType,"onUpdate:modelValue":t[0]||(t[0]=b=>n.viewType=b),spread:"","no-caps":"","toggle-color":"primary",color:"white","text-color":"primary",options:[{label:"Grid",value:"grid",icon:"grid_view"},{label:"List",value:"list",icon:"view_list"}]},null,8,["modelValue"])]),J("div",Xn,[N(r,{onCreateNote:n.createNote},null,8,["onCreateNote"])]),(D(!0),Z(ke,null,He(n.filteredNotes,b=>(D(),Z("div",{key:b.id,class:De({"col-12":n.viewType==="list","col-12 col-md-6 col-lg-4":n.viewType==="grid"})},[N(a,{note:b,"is-list-view":n.viewType==="list",onClick:g=>n.openNoteModal(b)},null,8,["note","is-list-view","onClick"])],2))),128))]),n.selectedNote?(D(),ie(h,{key:0,note:n.selectedNote,onClose:n.closeNoteModal,onUpdate:n.updateNote,onDelete:n.deleteNote},null,8,["note","onClose","onUpdate","onDelete"])):ue("",!0)]),_:1})}const ol=xe(Gn,[["render",el]]);export{ol as default};
