import{i as Pe,f as Bt,g as ne,w as Z,o as ge,a as ue,r as B,c as h,d as Mt,b as Ne,e as Vt,s as $t,n as ae,h as at,j as Rt,k as Et,l as b,p as he,u as ot,m as it,Q as de,q as rt,t as X,T as Se,v as Ft,x as Oe,y as ee,z as Ue,A as At,B as le,C as Ie,D as Tt,_ as Be,E as Pt,F as Y,G as oe,H,I as be,J as K,K as ce,L as fe,M as st,N as T,O as ut,P as Nt,R as ct,S as dt,U as ft,V as vt,W as Ot,X as It,Y as Dt,Z as Lt,$ as _e,a0 as De,a1 as jt,a2 as zt,a3 as Ut,a4 as mt,a5 as Qt,a6 as Ht,a7 as Kt,a8 as Zt,a9 as Wt,aa as Gt,ab as gt,ac as Yt,ad as Jt,ae as Xt,af as en,ag as tn}from"./index-ETSno3qS.js";function nn({validate:e,resetValidation:t,requiresQForm:n}){const l=Pe(Bt,!1);if(l!==!1){const{props:r,proxy:a}=ne();Object.assign(a,{validate:e,resetValidation:t}),Z(()=>r.disable,o=>{o===!0?(typeof t=="function"&&t(),l.unbindComponent(a)):l.bindComponent(a)}),ge(()=>{r.disable!==!0&&l.bindComponent(a)}),ue(()=>{r.disable!==!0&&l.unbindComponent(a)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const Qe=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,He=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Ke=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,pe=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,we=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,$e={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Qe.test(e),hexaColor:e=>He.test(e),hexOrHexaColor:e=>Ke.test(e),rgbColor:e=>pe.test(e),rgbaColor:e=>we.test(e),rgbOrRgbaColor:e=>pe.test(e)||we.test(e),hexOrRgbColor:e=>Qe.test(e)||pe.test(e),hexaOrRgbaColor:e=>He.test(e)||we.test(e),anyColor:e=>Ke.test(e)||pe.test(e)||we.test(e)},ln=[!0,!1,"ondemand"],an={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>ln.includes(e)}};function on(e,t){const{props:n,proxy:l}=ne(),r=B(!1),a=B(null),o=B(null);nn({validate:P,resetValidation:C});let v=0,p;const w=h(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),g=h(()=>n.disable!==!0&&w.value===!0),d=h(()=>n.error===!0||r.value===!0),_=h(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:a.value);Z(()=>n.modelValue,()=>{D()}),Z(()=>n.reactiveRules,M=>{M===!0?p===void 0&&(p=Z(()=>n.rules,()=>{D(!0)})):p!==void 0&&(p(),p=void 0)},{immediate:!0}),Z(e,M=>{M===!0?o.value===null&&(o.value=!1):o.value===!1&&(o.value=!0,g.value===!0&&n.lazyRules!=="ondemand"&&t.value===!1&&N())});function C(){v++,t.value=!1,o.value=null,r.value=!1,a.value=null,N.cancel()}function P(M=n.modelValue){if(g.value!==!0)return!0;const S=++v,Q=t.value!==!0?()=>{o.value=!0}:()=>{},L=(E,k)=>{E===!0&&Q(),r.value=E,a.value=k||null,t.value=!1},j=[];for(let E=0;E<n.rules.length;E++){const k=n.rules[E];let m;if(typeof k=="function"?m=k(M,$e):typeof k=="string"&&$e[k]!==void 0&&(m=$e[k](M)),m===!1||typeof m=="string")return L(!0,m),!1;m!==!0&&m!==void 0&&j.push(m)}return j.length===0?(L(!1),!0):(t.value=!0,Promise.all(j).then(E=>{if(E===void 0||Array.isArray(E)===!1||E.length===0)return S===v&&L(!1),!0;const k=E.find(m=>m===!1||typeof m=="string");return S===v&&L(k!==void 0,k),k===void 0},E=>(S===v&&(console.error(E),L(!0)),!1)))}function D(M){g.value===!0&&n.lazyRules!=="ondemand"&&(o.value===!0||n.lazyRules!==!0&&M!==!0)&&N()}const N=Mt(P,0);return ue(()=>{p!==void 0&&p(),N.cancel()}),Object.assign(l,{resetValidation:C,validate:P}),Ne(l,"hasError",()=>d.value),{isDirtyModel:o,hasRules:w,hasError:d,errorMessage:_,validate:P,resetValidation:C}}const Ze=/^on[A-Z]/;function rn(e,t){const n={listeners:B({}),attributes:B({})};function l(){const r={},a={};for(const o in e)o!=="class"&&o!=="style"&&Ze.test(o)===!1&&(r[o]=e[o]);for(const o in t.props)Ze.test(o)===!0&&(a[o]=t.props[o]);n.attributes.value=r,n.listeners.value=a}return Vt(l),l(),n}let Re,ke=0;const W=new Array(256);for(let e=0;e<256;e++)W[e]=(e+256).toString(16).substring(1);const sn=(()=>{const e=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let l=t;l>0;l--)n.push(Math.floor(Math.random()*256));return n}})(),We=4096;function Le(){(Re===void 0||ke+16>We)&&(ke=0,Re=sn(We));const e=Array.prototype.slice.call(Re,ke,ke+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,W[e[0]]+W[e[1]]+W[e[2]]+W[e[3]]+"-"+W[e[4]]+W[e[5]]+"-"+W[e[6]]+W[e[7]]+"-"+W[e[8]]+W[e[9]]+"-"+W[e[10]]+W[e[11]]+W[e[12]]+W[e[13]]+W[e[14]]+W[e[15]]}let ie=[],ye=[];function ht(e){ye=ye.filter(t=>t!==e)}function un(e){ht(e),ye.push(e)}function Ge(e){ht(e),ye.length===0&&ie.length!==0&&(ie[ie.length-1](),ie=[])}function je(e){ye.length===0?e():ie.push(e)}function cn(e){ie=ie.filter(t=>t!==e)}function bt(e,t){return e===void 0?t===!0?`f_${Le()}`:void 0:e}function Fe(e){return e!=null&&(""+e).length!==0}const dn={...ot,...an,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},fn=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function vn({requiredForAttr:e=!0,tagProp:t}={}){const{props:n,attrs:l,proxy:r,vnode:a}=ne(),o=it(n,r.$q);return{requiredForAttr:e,tag:t===!0?h(()=>n.tag):{value:"label"},isDark:o,editable:h(()=>n.disable!==!0&&n.readonly!==!0),innerLoading:B(!1),focused:B(!1),hasPopupOpen:!1,splitAttrs:rn(l,a),targetUid:B(bt(n.for,e)),rootRef:B(null),targetRef:B(null),controlRef:B(null)}}function mn(e){const{props:t,emit:n,slots:l,attrs:r,proxy:a}=ne(),{$q:o}=a;let v=null;e.hasValue===void 0&&(e.hasValue=h(()=>Fe(t.modelValue))),e.emitValue===void 0&&(e.emitValue=u=>{n("update:modelValue",u)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:i,onFocusout:s}),Object.assign(e,{clearValue:y,onControlFocusin:i,onControlFocusout:s,focus:k}),e.computedCounter===void 0&&(e.computedCounter=h(()=>{if(t.counter!==!1){const u=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,$=t.maxlength!==void 0?t.maxlength:t.maxValues;return u+($!==void 0?" / "+$:"")}}));const{isDirtyModel:p,hasRules:w,hasError:g,errorMessage:d,resetValidation:_}=on(e.focused,e.innerLoading),C=e.floatingLabel!==void 0?h(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):h(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),P=h(()=>t.bottomSlots===!0||t.hint!==void 0||w.value===!0||t.counter===!0||t.error!==null),D=h(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),N=h(()=>`q-field row no-wrap items-start q-field--${D.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(C.value===!0?" q-field--float":"")+(S.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(g.value===!0?" q-field--error":"")+(g.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&P.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),M=h(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(g.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),S=h(()=>t.labelSlot===!0||t.label!==void 0),Q=h(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&g.value!==!0?` text-${t.labelColor}`:"")),L=h(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:C.value,modelValue:t.modelValue,emitValue:e.emitValue})),j=h(()=>{const u={for:e.targetUid.value};return t.disable===!0?u["aria-disabled"]="true":t.readonly===!0&&(u["aria-readonly"]="true"),u});Z(()=>t.for,u=>{e.targetUid.value=bt(u,e.requiredForAttr)});function E(){const u=document.activeElement;let $=e.targetRef!==void 0&&e.targetRef.value;$&&(u===null||u.id!==e.targetUid.value)&&($.hasAttribute("tabindex")===!0||($=$.querySelector("[tabindex]")),$&&$!==u&&$.focus({preventScroll:!0}))}function k(){je(E)}function m(){cn(E);const u=document.activeElement;u!==null&&e.rootRef.value.contains(u)&&u.blur()}function i(u){v!==null&&(clearTimeout(v),v=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",u))}function s(u,$){v!==null&&clearTimeout(v),v=setTimeout(()=>{v=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",u)),$!==void 0&&$())})}function y(u){$t(u),o.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),n("clear",t.modelValue),ae(()=>{_(),o.platform.is.mobile!==!0&&(p.value=!1)})}function f(){const u=[];return l.prepend!==void 0&&u.push(b("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:he},l.prepend())),u.push(b("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},R())),g.value===!0&&t.noErrorIcon===!1&&u.push(O("error",[b(de,{name:o.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?u.push(O("inner-loading-append",l.loading!==void 0?l.loading():[b(rt,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&u.push(O("inner-clearable-append",[b(de,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||o.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:y})])),l.append!==void 0&&u.push(b("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:he},l.append())),e.getInnerAppend!==void 0&&u.push(O("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&u.push(e.getControlChild()),u}function R(){const u=[];return t.prefix!==void 0&&t.prefix!==null&&u.push(b("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&u.push(e.getShadowControl()),e.getControl!==void 0?u.push(e.getControl()):l.rawControl!==void 0?u.push(l.rawControl()):l.control!==void 0&&u.push(b("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},l.control(L.value))),S.value===!0&&u.push(b("div",{class:Q.value},X(l.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&u.push(b("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),u.concat(X(l.default))}function V(){let u,$;g.value===!0?d.value!==null?(u=[b("div",{role:"alert"},d.value)],$=`q--slot-error-${d.value}`):(u=X(l.error),$="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(u=[b("div",t.hint)],$=`q--slot-hint-${t.hint}`):(u=X(l.hint),$="q--slot-hint"));const G=t.counter===!0||l.counter!==void 0;if(t.hideBottomSpace===!0&&G===!1&&u===void 0)return;const F=b("div",{key:$,class:"q-field__messages col"},u);return b("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:he},[t.hideBottomSpace===!0?F:b(Se,{name:"q-transition--field-message"},()=>F),G===!0?b("div",{class:"q-field__counter"},l.counter!==void 0?l.counter():e.computedCounter.value):null])}function O(u,$){return $===null?null:b("div",{key:u,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},$)}let q=!1;return at(()=>{q=!0}),Rt(()=>{q===!0&&t.autofocus===!0&&a.focus()}),ge(()=>{Et.value===!0&&e.requiredForAttr===!0&&t.for===void 0&&(e.targetUid.value=`f_${Le()}`),t.autofocus===!0&&a.focus()}),ue(()=>{v!==null&&clearTimeout(v)}),Object.assign(a,{focus:k,blur:m}),function(){const $=e.getControl===void 0&&l.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...j.value}:j.value;return b(e.tag.value,{ref:e.rootRef,class:[N.value,r.class],style:r.style,...$},[l.before!==void 0?b("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:he},l.before()):null,b("div",{class:"q-field__inner relative-position col self-stretch"},[b("div",{ref:e.controlRef,class:M.value,tabindex:-1,...e.controlEvents},f()),P.value===!0?V():null]),l.after!==void 0?b("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:he},l.after()):null])}}const Ye={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},qe={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},yt=Object.keys(qe);yt.forEach(e=>{qe[e].regex=new RegExp(qe[e].pattern)});const gn=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+yt.join("")+"])|(.)","g"),Je=/[.*+?^${}()|[\]\\]/g,U="",hn={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function bn(e,t,n,l){let r,a,o,v,p,w;const g=B(null),d=B(C());function _(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}Z(()=>e.type+e.autogrow,D),Z(()=>e.mask,i=>{if(i!==void 0)N(d.value,!0);else{const s=k(d.value);D(),e.modelValue!==s&&t("update:modelValue",s)}}),Z(()=>e.fillMask+e.reverseFillMask,()=>{g.value===!0&&N(d.value,!0)}),Z(()=>e.unmaskedValue,()=>{g.value===!0&&N(d.value)});function C(){if(D(),g.value===!0){const i=j(k(e.modelValue));return e.fillMask!==!1?m(i):i}return e.modelValue}function P(i){if(i<r.length)return r.slice(-i);let s="",y=r;const f=y.indexOf(U);if(f>-1){for(let R=i-y.length;R>0;R--)s+=U;y=y.slice(0,f)+s+y.slice(f)}return y}function D(){if(g.value=e.mask!==void 0&&e.mask.length!==0&&_(),g.value===!1){v=void 0,r="",a="";return}const i=Ye[e.mask]===void 0?e.mask:Ye[e.mask],s=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",y=s.replace(Je,"\\$&"),f=[],R=[],V=[];let O=e.reverseFillMask===!0,q="",u="";i.replace(gn,(z,c,I,J,x)=>{if(J!==void 0){const A=qe[J];V.push(A),u=A.negate,O===!0&&(R.push("(?:"+u+"+)?("+A.pattern+"+)?(?:"+u+"+)?("+A.pattern+"+)?"),O=!1),R.push("(?:"+u+"+)?("+A.pattern+")?")}else if(I!==void 0)q="\\"+(I==="\\"?"":I),V.push(I),f.push("([^"+q+"]+)?"+q+"?");else{const A=c!==void 0?c:x;q=A==="\\"?"\\\\\\\\":A.replace(Je,"\\\\$&"),V.push(A),f.push("([^"+q+"]+)?"+q+"?")}});const $=new RegExp("^"+f.join("")+"("+(q===""?".":"[^"+q+"]")+"+)?"+(q===""?"":"["+q+"]*")+"$"),G=R.length-1,F=R.map((z,c)=>c===0&&e.reverseFillMask===!0?new RegExp("^"+y+"*"+z):c===G?new RegExp("^"+z+"("+(u===""?".":u)+"+)?"+(e.reverseFillMask===!0?"$":y+"*")):new RegExp("^"+z));o=V,v=z=>{const c=$.exec(e.reverseFillMask===!0?z:z.slice(0,V.length+1));c!==null&&(z=c.slice(1).join(""));const I=[],J=F.length;for(let x=0,A=z;x<J;x++){const te=F[x].exec(A);if(te===null)break;A=A.slice(te.shift().length),I.push(...te)}return I.length!==0?I.join(""):z},r=V.map(z=>typeof z=="string"?z:U).join(""),a=r.split(U).join(s)}function N(i,s,y){const f=l.value,R=f.selectionEnd,V=f.value.length-R,O=k(i);s===!0&&D();const q=j(O),u=e.fillMask!==!1?m(q):q,$=d.value!==u;f.value!==u&&(f.value=u),$===!0&&(d.value=u),document.activeElement===f&&ae(()=>{if(u===a){const F=e.reverseFillMask===!0?a.length:0;f.setSelectionRange(F,F,"forward");return}if(y==="insertFromPaste"&&e.reverseFillMask!==!0){const F=f.selectionEnd;let z=R-1;for(let c=p;c<=z&&c<F;c++)r[c]!==U&&z++;S.right(f,z);return}if(["deleteContentBackward","deleteContentForward"].indexOf(y)>-1){const F=e.reverseFillMask===!0?R===0?u.length>q.length?1:0:Math.max(0,u.length-(u===a?0:Math.min(q.length,V)+1))+1:R;f.setSelectionRange(F,F,"forward");return}if(e.reverseFillMask===!0)if($===!0){const F=Math.max(0,u.length-(u===a?0:Math.min(q.length,V+1)));F===1&&R===1?f.setSelectionRange(F,F,"forward"):S.rightReverse(f,F)}else{const F=u.length-V;f.setSelectionRange(F,F,"backward")}else if($===!0){const F=Math.max(0,r.indexOf(U),Math.min(q.length,R)-1);S.right(f,F)}else{const F=R-1;S.right(f,F)}});const G=e.unmaskedValue===!0?k(u):u;String(e.modelValue)!==G&&(e.modelValue!==null||G!=="")&&n(G,!0)}function M(i,s,y){const f=j(k(i.value));s=Math.max(0,r.indexOf(U),Math.min(f.length,s)),p=s,i.setSelectionRange(s,y,"forward")}const S={left(i,s){const y=r.slice(s-1).indexOf(U)===-1;let f=Math.max(0,s-1);for(;f>=0;f--)if(r[f]===U){s=f,y===!0&&s++;break}if(f<0&&r[s]!==void 0&&r[s]!==U)return S.right(i,0);s>=0&&i.setSelectionRange(s,s,"backward")},right(i,s){const y=i.value.length;let f=Math.min(y,s+1);for(;f<=y;f++)if(r[f]===U){s=f;break}else r[f-1]===U&&(s=f);if(f>y&&r[s-1]!==void 0&&r[s-1]!==U)return S.left(i,y);i.setSelectionRange(s,s,"forward")},leftReverse(i,s){const y=P(i.value.length);let f=Math.max(0,s-1);for(;f>=0;f--)if(y[f-1]===U){s=f;break}else if(y[f]===U&&(s=f,f===0))break;if(f<0&&y[s]!==void 0&&y[s]!==U)return S.rightReverse(i,0);s>=0&&i.setSelectionRange(s,s,"backward")},rightReverse(i,s){const y=i.value.length,f=P(y),R=f.slice(0,s+1).indexOf(U)===-1;let V=Math.min(y,s+1);for(;V<=y;V++)if(f[V-1]===U){s=V,s>0&&R===!0&&s--;break}if(V>y&&f[s-1]!==void 0&&f[s-1]!==U)return S.leftReverse(i,y);i.setSelectionRange(s,s,"forward")}};function Q(i){t("click",i),w=void 0}function L(i){if(t("keydown",i),Ft(i)===!0||i.altKey===!0)return;const s=l.value,y=s.selectionStart,f=s.selectionEnd;if(i.shiftKey||(w=void 0),i.keyCode===37||i.keyCode===39){i.shiftKey&&w===void 0&&(w=s.selectionDirection==="forward"?y:f);const R=S[(i.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(i.preventDefault(),R(s,w===y?f:y),i.shiftKey){const V=s.selectionStart;s.setSelectionRange(Math.min(w,V),Math.max(w,V),"forward")}}else i.keyCode===8&&e.reverseFillMask!==!0&&y===f?(S.left(s,y),s.setSelectionRange(s.selectionStart,f,"backward")):i.keyCode===46&&e.reverseFillMask===!0&&y===f&&(S.rightReverse(s,f),s.setSelectionRange(y,s.selectionEnd,"forward"))}function j(i){if(i==null||i==="")return"";if(e.reverseFillMask===!0)return E(i);const s=o;let y=0,f="";for(let R=0;R<s.length;R++){const V=i[y],O=s[R];if(typeof O=="string")f+=O,V===O&&y++;else if(V!==void 0&&O.regex.test(V))f+=O.transform!==void 0?O.transform(V):V,y++;else return f}return f}function E(i){const s=o,y=r.indexOf(U);let f=i.length-1,R="";for(let V=s.length-1;V>=0&&f>-1;V--){const O=s[V];let q=i[f];if(typeof O=="string")R=O+R,q===O&&f--;else if(q!==void 0&&O.regex.test(q))do R=(O.transform!==void 0?O.transform(q):q)+R,f--,q=i[f];while(y===V&&q!==void 0&&O.regex.test(q));else return R}return R}function k(i){return typeof i!="string"||v===void 0?typeof i=="number"?v(""+i):i:v(i)}function m(i){return a.length-i.length<=0?i:e.reverseFillMask===!0&&i.length!==0?a.slice(0,-i.length)+i:i+a.slice(i.length)}return{innerValue:d,hasMask:g,moveCursorForPaste:M,updateMaskValue:N,onMaskedKeydown:L,onMaskedClick:Q}}const pt={name:String};function yn(e={}){return(t,n,l)=>{t[n](b("input",{class:"hidden"+(l||""),...e.value}))}}function pn(e){return h(()=>e.name||e.for)}function wn(e,t){function n(){const l=e.modelValue;try{const r="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(l)===l&&("length"in l?Array.from(l):[l]).forEach(a=>{r.items.add(a)}),{files:r.files}}catch{return{files:void 0}}}return t===!0?h(()=>{if(e.type==="file")return n()}):h(n)}const kn=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Cn=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,_n=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,xn=/[a-z0-9_ -]$/i;function Sn(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(Oe.is.firefox===!0?xn.test(n.data)===!1:kn.test(n.data)===!0||Cn.test(n.data)===!0||_n.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}const Ae=ee({name:"QInput",inheritAttrs:!1,props:{...dn,...hn,...pt,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...fn,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:l}=ne(),{$q:r}=l,a={};let o=NaN,v,p,w=null,g;const d=B(null),_=pn(e),{innerValue:C,hasMask:P,moveCursorForPaste:D,updateMaskValue:N,onMaskedKeydown:M,onMaskedClick:S}=bn(e,t,q,d),Q=wn(e,!0),L=h(()=>Fe(C.value)),j=Sn(V),E=vn(),k=h(()=>e.type==="textarea"||e.autogrow===!0),m=h(()=>k.value===!0||["text","search","url","tel","password"].includes(e.type)),i=h(()=>{const c={...E.splitAttrs.listeners.value,onInput:V,onPaste:R,onChange:$,onBlur:G,onFocus:Ue};return c.onCompositionstart=c.onCompositionupdate=c.onCompositionend=j,P.value===!0&&(c.onKeydown=M,c.onClick=S),e.autogrow===!0&&(c.onAnimationend=O),c}),s=h(()=>{const c={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:_.value,...E.splitAttrs.attributes.value,id:E.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return k.value===!1&&(c.type=e.type),e.autogrow===!0&&(c.rows=1),c});Z(()=>e.type,()=>{d.value&&(d.value.value=e.modelValue)}),Z(()=>e.modelValue,c=>{if(P.value===!0){if(p===!0&&(p=!1,String(c)===o))return;N(c)}else C.value!==c&&(C.value=c,e.type==="number"&&a.hasOwnProperty("value")===!0&&(v===!0?v=!1:delete a.value));e.autogrow===!0&&ae(u)}),Z(()=>e.autogrow,c=>{c===!0?ae(u):d.value!==null&&n.rows>0&&(d.value.style.height="auto")}),Z(()=>e.dense,()=>{e.autogrow===!0&&ae(u)});function y(){je(()=>{const c=document.activeElement;d.value!==null&&d.value!==c&&(c===null||c.id!==E.targetUid.value)&&d.value.focus({preventScroll:!0})})}function f(){d.value!==null&&d.value.select()}function R(c){if(P.value===!0&&e.reverseFillMask!==!0){const I=c.target;D(I,I.selectionStart,I.selectionEnd)}t("paste",c)}function V(c){if(!c||!c.target)return;if(e.type==="file"){t("update:modelValue",c.target.files);return}const I=c.target.value;if(c.target.qComposing===!0){a.value=I;return}if(P.value===!0)N(I,!1,c.inputType);else if(q(I),m.value===!0&&c.target===document.activeElement){const{selectionStart:J,selectionEnd:x}=c.target;J!==void 0&&x!==void 0&&ae(()=>{c.target===document.activeElement&&I.indexOf(c.target.value)===0&&c.target.setSelectionRange(J,x)})}e.autogrow===!0&&u()}function O(c){t("animationend",c),u()}function q(c,I){g=()=>{w=null,e.type!=="number"&&a.hasOwnProperty("value")===!0&&delete a.value,e.modelValue!==c&&o!==c&&(o=c,I===!0&&(p=!0),t("update:modelValue",c),ae(()=>{o===c&&(o=NaN)})),g=void 0},e.type==="number"&&(v=!0,a.value=c),e.debounce!==void 0?(w!==null&&clearTimeout(w),a.value=c,w=setTimeout(g,e.debounce)):g()}function u(){requestAnimationFrame(()=>{const c=d.value;if(c!==null){const I=c.parentNode.style,{scrollTop:J}=c,{overflowY:x,maxHeight:A}=r.platform.is.firefox===!0?{}:window.getComputedStyle(c),te=x!==void 0&&x!=="scroll";te===!0&&(c.style.overflowY="hidden"),I.marginBottom=c.scrollHeight-1+"px",c.style.height="1px",c.style.height=c.scrollHeight+"px",te===!0&&(c.style.overflowY=parseInt(A,10)<c.scrollHeight?"auto":"hidden"),I.marginBottom="",c.scrollTop=J}})}function $(c){j(c),w!==null&&(clearTimeout(w),w=null),g!==void 0&&g(),t("change",c.target.value)}function G(c){c!==void 0&&Ue(c),w!==null&&(clearTimeout(w),w=null),g!==void 0&&g(),v=!1,p=!1,delete a.value,e.type!=="file"&&setTimeout(()=>{d.value!==null&&(d.value.value=C.value!==void 0?C.value:"")})}function F(){return a.hasOwnProperty("value")===!0?a.value:C.value!==void 0?C.value:""}ue(()=>{G()}),ge(()=>{e.autogrow===!0&&u()}),Object.assign(E,{innerValue:C,fieldClass:h(()=>`q-${k.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:h(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:d,emitValue:q,hasValue:L,floatingLabel:h(()=>L.value===!0&&(e.type!=="number"||isNaN(C.value)===!1)||Fe(e.displayValue)),getControl:()=>b(k.value===!0?"textarea":"input",{ref:d,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...s.value,...i.value,...e.type!=="file"?{value:F()}:Q.value}),getShadowControl:()=>b("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(k.value===!0?"":" text-no-wrap")},[b("span",{class:"invisible"},F()),b("span",e.shadowText)])});const z=mn(E);return Object.assign(l,{focus:y,select:f,getNativeElement:()=>d.value}),Ne(l,"nativeEl",()=>d.value),z}}),qn=ee({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const n=h(()=>{const l=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(r=>e[r]===!0).map(r=>`q-btn-group--${r}`).join(" ");return`q-btn-group row no-wrap${l.length!==0?" "+l:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>b("div",{class:n.value},X(t.default))}}),Bn=ee({name:"QBtnToggle",props:{...pt,modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(t=>("label"in t||"icon"in t||"slot"in t)&&"value"in t)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(e,{slots:t,emit:n}){const l=h(()=>e.options.find(_=>_.value===e.modelValue)!==void 0),r=h(()=>({type:"hidden",name:e.name,value:e.modelValue})),a=yn(r),o=h(()=>At(e)),v=h(()=>({rounded:e.rounded,dense:e.dense,...o.value})),p=h(()=>e.options.map((_,C)=>{const{attrs:P,value:D,slot:N,...M}=_;return{slot:N,props:{key:C,"aria-pressed":D===e.modelValue?"true":"false",...P,...M,...v.value,disable:e.disable===!0||M.disable===!0,color:D===e.modelValue?g(M,"toggleColor"):g(M,"color"),textColor:D===e.modelValue?g(M,"toggleTextColor"):g(M,"textColor"),noCaps:g(M,"noCaps")===!0,noWrap:g(M,"noWrap")===!0,size:g(M,"size"),padding:g(M,"padding"),ripple:g(M,"ripple"),stack:g(M,"stack")===!0,stretch:g(M,"stretch")===!0,onClick(S){w(D,_,S)}}}}));function w(_,C,P){e.readonly!==!0&&(e.modelValue===_?e.clearable===!0&&(n("update:modelValue",null,null),n("clear")):n("update:modelValue",_,C),n("click",P))}function g(_,C){return _[C]===void 0?e[C]:_[C]}function d(){const _=p.value.map(C=>b(le,C.props,C.slot!==void 0?t[C.slot]:void 0));return e.name!==void 0&&e.disable!==!0&&l.value===!0&&a(_,"push"),Ie(t.default,_)}return()=>b(qn,{class:"q-btn-toggle",...o.value,rounded:e.rounded,stretch:e.stretch,glossy:e.glossy,spread:e.spread},d)}}),ve=ee({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=h(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>b(e.tag,{class:n.value},X(t.default))}}),Me=ee({name:"QCard",props:{...ot,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=ne(),l=it(e,n),r=h(()=>"q-card"+(l.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>b(e.tag,{class:r.value},X(t.default))}}),Mn=Tt("notesStore",()=>{const e=B([]),t=async()=>{const a=await fetch("http://localhost:3000/notes");e.value=await a.json()};return{notes:e,fetchNotes:t,addNote:async a=>{const v=await(await fetch("http://localhost:3000/notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json();e.value.push(v)},updateNote:async(a,o)=>{await fetch(`http://localhost:3000/notes/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),await t()},deleteNote:async a=>{await fetch(`http://localhost:3000/notes/${a}`,{method:"DELETE"}),e.value=e.value.filter(o=>o.id!==a)}}}),Vn={ratio:[String,Number]};function $n(e,t){return h(()=>{const n=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(n)!==!0&&n>0?{paddingBottom:`${100/n}%`}:null})}const Rn=16/9,Te=ee({name:"QImg",props:{...Vn,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Rn},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:n}){const l=B(e.initialRatio),r=$n(e,l);let a=null,o=!1;const v=[B(null),B(N())],p=B(0),w=B(!1),g=B(!1),d=h(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),_=h(()=>({width:e.width,height:e.height})),C=h(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),P=h(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));Z(()=>D(),M);function D(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function N(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function M(m){a!==null&&(clearTimeout(a),a=null),g.value=!1,m===null?(w.value=!1,v[p.value^1].value=N()):w.value=!0,v[p.value].value=m}function S({target:m}){o!==!0&&(a!==null&&(clearTimeout(a),a=null),l.value=m.naturalHeight===0?.5:m.naturalWidth/m.naturalHeight,Q(m,1))}function Q(m,i){o===!0||i===1e3||(m.complete===!0?L(m):a=setTimeout(()=>{a=null,Q(m,i+1)},50))}function L(m){o!==!0&&(p.value=p.value^1,v[p.value].value=null,w.value=!1,g.value=!1,n("load",m.currentSrc||m.src))}function j(m){a!==null&&(clearTimeout(a),a=null),w.value=!1,g.value=!0,v[p.value].value=null,v[p.value^1].value=N(),n("error",m)}function E(m){const i=v[m].value,s={key:"img_"+m,class:C.value,style:P.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...i};return p.value===m?(s.class+=" q-img__image--waiting",Object.assign(s,{onLoad:S,onError:j})):s.class+=" q-img__image--loaded",b("div",{class:"q-img__container absolute-full",key:"img"+m},b("img",s))}function k(){return w.value!==!0?b("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},X(t[g.value===!0?"error":"default"])):b("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[b(rt,{color:e.spinnerColor,size:e.spinnerSize})])}return M(D()),ue(()=>{o=!0,a!==null&&(clearTimeout(a),a=null)}),()=>{const m=[];return r.value!==null&&m.push(b("div",{key:"filler",style:r.value})),g.value!==!0&&(v[0].value!==null&&m.push(E(0)),v[1].value!==null&&m.push(E(1))),m.push(b(Se,{name:"q-transition--fade"},k)),b("div",{class:d.value,style:_.value,role:"img","aria-label":e.alt},m)}}}),En={key:0,class:"row items-center q-pa-md"},Fn={class:"col"},An={class:"text-h6"},Tn={class:"text-caption text-muted-foreground ellipsis"},Pn={class:"text-h6"},Nn={class:"ellipsis"},On={__name:"NoteCard",props:{note:Object,onClick:Function,isListView:Boolean},setup(e){return(t,n)=>{const l=Pt("q-audio");return Y(),oe(Me,{onClick:e.onClick,class:ut(["cursor-pointer hover-shadow-lg bg-card text-card-foreground",{"row items-center":e.isListView}])},{default:H(()=>[e.isListView?(Y(),fe("div",En,[K("div",Fn,[K("h3",An,be(e.note.title||"Untitled"),1),K("p",Tn,be(e.note.content),1)]),e.note.image?(Y(),oe(Te,{key:0,src:e.note.image,class:"col-auto q-ml-md",style:{width:"48px",height:"58px","border-radius":"4px","object-fit":"cover"}},null,8,["src"])):ce("",!0)])):(Y(),fe(st,{key:1},[T(ve,null,{default:H(()=>[K("div",Pn,be(e.note.title||"Untitled"),1)]),_:1}),T(ve,null,{default:H(()=>[K("div",null,[K("p",Nn,be(e.note.content),1),e.note.image?(Y(),oe(Te,{key:0,src:e.note.image||"/placeholder.svg",alt:"Note image",class:"q-mt-md",style:{width:"100%",height:"128px","border-radius":"4px","object-fit":"cover"}},null,8,["src"])):ce("",!0),e.note.voiceMemo?(Y(),oe(l,{key:1,src:e.note.voiceMemo,controls:"",class:"q-mt-md"},null,8,["src"])):ce("",!0)])]),_:1})],64))]),_:1},8,["onClick","class"])}}},In=Be(On,[["__scopeId","data-v-e6fca2c1"]]),Dn=b("div",{class:"q-space"}),Ln=ee({name:"QSpace",setup(){return()=>Dn}}),jn=["top","right","bottom","left"],wt={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:e=>jn.includes(e)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function kt(e,t){return{formClass:h(()=>`q-fab--form-${e.square===!0?"square":"rounded"}`),stacked:h(()=>e.externalLabel===!1&&["top","bottom"].includes(e.labelPosition)),labelProps:h(()=>{if(e.externalLabel===!0){const n=e.hideLabel===null?t.value===!1:e.hideLabel;return{action:"push",data:{class:[e.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${e.labelPosition}`+(n===!0?" q-fab__label--external-hidden":"")],style:e.labelStyle}}}return{action:["left","top"].includes(e.labelPosition)?"unshift":"push",data:{class:[e.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${e.labelPosition}`+(e.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:e.labelStyle}}})}}const Ct={start:"self-end",center:"self-center",end:"self-start"},zn=Object.keys(Ct),Ee=ee({name:"QFabAction",props:{...wt,icon:{type:String,default:""},anchor:{type:String,validator:e=>zn.includes(e)},to:[String,Object],replace:Boolean},emits:["click"],setup(e,{slots:t,emit:n}){const l=Pe(ct,()=>({showing:{value:!0},onChildClick:Nt})),{formClass:r,labelProps:a}=kt(e,l.showing),o=h(()=>{const d=Ct[e.anchor];return r.value+(d!==void 0?` ${d}`:"")}),v=h(()=>e.disable===!0||l.showing.value!==!0);function p(d){l.onChildClick(d),n("click",d)}function w(){const d=[];return t.icon!==void 0?d.push(t.icon()):e.icon!==""&&d.push(b(de,{name:e.icon})),(e.label!==""||t.label!==void 0)&&d[a.value.action](b("div",a.value.data,t.label!==void 0?t.label():[e.label])),Ie(t.default,d)}const g=ne();return Object.assign(g.proxy,{click:p}),()=>b(le,{class:o.value,...e,noWrap:!0,stack:e.stacked,icon:void 0,label:void 0,noCaps:!0,fabMini:!0,disable:v.value,onClick:p},w)}}),Un=["up","right","down","left"],Qn=["left","center","right"],Hn=ee({name:"QFab",props:{...wt,...dt,icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{default:null},direction:{type:String,default:"right",validator:e=>Un.includes(e)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:e=>Qn.includes(e)}},emits:ft,setup(e,{slots:t}){const n=B(null),l=B(e.modelValue===!0),r=Le(),{proxy:{$q:a}}=ne(),{formClass:o,labelProps:v}=kt(e,l),p=h(()=>e.persistent!==!0),{hide:w,toggle:g}=vt({showing:l,hideOnRouteChange:p}),d=h(()=>({opened:l.value})),_=h(()=>`q-fab z-fab row inline justify-center q-fab--align-${e.verticalActionsAlign} ${o.value}`+(l.value===!0?" q-fab--opened":" q-fab--closed")),C=h(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${e.direction} q-fab__actions--${l.value===!0?"opened":"closed"}`),P=h(()=>{const S={id:r,role:"menu"};return l.value!==!0&&(S["aria-hidden"]="true"),S}),D=h(()=>`q-fab__icon-holder  q-fab__icon-holder--${l.value===!0?"opened":"closed"}`);function N(S,Q){const L=t[S],j=`q-fab__${S} absolute-full`;return L===void 0?b(de,{class:j,name:e[Q]||a.iconSet.fab[Q]}):b("div",{class:j},L(d.value))}function M(){const S=[];return e.hideIcon!==!0&&S.push(b("div",{class:D.value},[N("icon","icon"),N("active-icon","activeIcon")])),(e.label!==""||t.label!==void 0)&&S[v.value.action](b("div",v.value.data,t.label!==void 0?t.label(d.value):[e.label])),Ie(t.tooltip,S)}return Ot(ct,{showing:l,onChildClick(S){w(S),n.value!==null&&n.value.$el.focus()}}),()=>b("div",{class:_.value},[b(le,{ref:n,class:o.value,...e,noWrap:!0,stack:e.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":l.value===!0?"true":"false","aria-haspopup":"true","aria-controls":r,onClick:g},M),b("div",{class:C.value,...P.value},X(t.default))])}}),_t=ee({name:"QCardActions",props:{...It,vertical:Boolean},setup(e,{slots:t}){const n=Dt(e),l=h(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>b("div",{class:l.value},X(t.default))}});function Kn(){let e;const t=ne();function n(){e=void 0}return at(n),ue(n),{removeTick:n,registerTick(l){e=l,ae(()=>{e===l&&(Lt(t)===!1&&e(),e=void 0)})}}}const Zn={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function Wn(e,t=()=>{},n=()=>{}){return{transitionProps:h(()=>{const l=`q-transition--${e.transitionShow||t()}`,r=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${l}-enter-from`,enterActiveClass:`${l}-enter-active`,enterToClass:`${l}-enter-to`,leaveFromClass:`${r}-leave-from`,leaveActiveClass:`${r}-leave-active`,leaveToClass:`${r}-leave-to`}}),transitionStyle:h(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}const xe=[];function Gn(e){return xe.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function Yn(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return _e(e)}else if(e.__qPortal===!0){const n=_e(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=_e(e)}while(e!=null)}function Jn(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(n--,e.$options.name==="QMenu"){e=Yn(e,t);continue}e.hide(t)}e=_e(e)}}function Xn(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function el(e,t,n,l){const r=B(!1),a=B(!1);let o=null;const v={},p=l==="dialog"&&Xn(e);function w(d){if(d===!0){Ge(v),a.value=!0;return}a.value=!1,r.value===!1&&(p===!1&&o===null&&(o=zt(!1,l)),r.value=!0,xe.push(e.proxy),un(v))}function g(d){if(a.value=!1,d!==!0)return;Ge(v),r.value=!1;const _=xe.indexOf(e.proxy);_!==-1&&xe.splice(_,1),o!==null&&(Ut(o),o=null)}return De(()=>{g(!0)}),e.proxy.__qPortal=!0,Ne(e.proxy,"contentEl",()=>t.value),{showPortal:w,hidePortal:g,portalIsActive:r,portalIsAccessible:a,renderPortal:()=>p===!0?n():r.value===!0?[b(jt,{to:o},n())]:void 0}}const re=[];let me;function tl(e){me=e.keyCode===27}function nl(){me===!0&&(me=!1)}function ll(e){me===!0&&(me=!1,mt(e,27)===!0&&re[re.length-1](e))}function xt(e){window[e]("keydown",tl),window[e]("blur",nl),window[e]("keyup",ll),me=!1}function al(e){Oe.is.desktop===!0&&(re.push(e),re.length===1&&xt("addEventListener"))}function Xe(e){const t=re.indexOf(e);t>-1&&(re.splice(t,1),re.length===0&&xt("removeEventListener"))}const se=[];function St(e){se[se.length-1](e)}function ol(e){Oe.is.desktop===!0&&(se.push(e),se.length===1&&document.body.addEventListener("focusin",St))}function et(e){const t=se.indexOf(e);t>-1&&(se.splice(t,1),se.length===0&&document.body.removeEventListener("focusin",St))}let Ce=0;const il={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},tt={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},nt=ee({name:"QDialog",inheritAttrs:!1,props:{...dt,...Zn,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...ft,"shake","click","escapeKey"],setup(e,{slots:t,emit:n,attrs:l}){const r=ne(),a=B(null),o=B(!1),v=B(!1);let p=null,w=null,g,d;const _=h(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:C}=Kt(),{registerTimeout:P}=Qt(),{registerTick:D,removeTick:N}=Kn(),{transitionProps:M,transitionStyle:S}=Wn(e,()=>tt[e.position][0],()=>tt[e.position][1]),{showPortal:Q,hidePortal:L,portalIsAccessible:j,renderPortal:E}=el(r,a,J,"dialog"),{hide:k}=vt({showing:o,hideOnRouteChange:_,handleShow:V,handleHide:O,processOnMount:!0}),{addToHistory:m,removeFromHistory:i}=Ht(o,k,_),s=h(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${il[e.position]}`+(v.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),y=h(()=>o.value===!0&&e.seamless!==!0),f=h(()=>e.autoClose===!0?{onClick:z}:{}),R=h(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${y.value===!0?"modal":"seamless"}`,l.class]);Z(()=>e.maximized,x=>{o.value===!0&&F(x)}),Z(y,x=>{C(x),x===!0?(ol(I),al($)):(et(I),Xe($))});function V(x){m(),w=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,F(e.maximized),Q(),v.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),D(q)):N(),P(()=>{if(r.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:A,bottom:te}=document.activeElement.getBoundingClientRect(),{innerHeight:ze}=window,Ve=window.visualViewport!==void 0?window.visualViewport.height:ze;A>0&&te>Ve/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-Ve,te>=ze?1/0:Math.ceil(document.scrollingElement.scrollTop+te-Ve/2))),document.activeElement.scrollIntoView()}d=!0,a.value.click(),d=!1}Q(!0),v.value=!1,n("show",x)},e.transitionDuration)}function O(x){N(),i(),G(!0),v.value=!0,L(),w!==null&&(((x&&x.type.indexOf("key")===0?w.closest('[tabindex]:not([tabindex^="-"])'):void 0)||w).focus(),w=null),P(()=>{L(!0),v.value=!1,n("hide",x)},e.transitionDuration)}function q(x){je(()=>{let A=a.value;A===null||A.contains(document.activeElement)===!0||(A=(x!==""?A.querySelector(x):null)||A.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||A.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||A.querySelector("[autofocus], [data-autofocus]")||A,A.focus({preventScroll:!0}))})}function u(x){x&&typeof x.focus=="function"?x.focus({preventScroll:!0}):q(),n("shake");const A=a.value;A!==null&&(A.classList.remove("q-animate--scale"),A.classList.add("q-animate--scale"),p!==null&&clearTimeout(p),p=setTimeout(()=>{p=null,a.value!==null&&(A.classList.remove("q-animate--scale"),q())},170))}function $(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&u():(n("escapeKey"),k()))}function G(x){p!==null&&(clearTimeout(p),p=null),(x===!0||o.value===!0)&&(F(!1),e.seamless!==!0&&(C(!1),et(I),Xe($))),x!==!0&&(w=null)}function F(x){x===!0?g!==!0&&(Ce<1&&document.body.classList.add("q-body--dialog"),Ce++,g=!0):g===!0&&(Ce<2&&document.body.classList.remove("q-body--dialog"),Ce--,g=!1)}function z(x){d!==!0&&(k(x),n("click",x))}function c(x){e.persistent!==!0&&e.noBackdropDismiss!==!0?k(x):e.noShake!==!0&&u()}function I(x){e.allowFocusOutside!==!0&&j.value===!0&&Zt(a.value,x.target)!==!0&&q('[tabindex]:not([tabindex="-1"])')}Object.assign(r.proxy,{focus:q,shake:u,__updateRefocusTarget(x){w=x||null}}),ue(G);function J(){return b("div",{role:"dialog","aria-modal":y.value===!0?"true":"false",...l,class:R.value},[b(Se,{name:"q-transition--fade",appear:!0},()=>y.value===!0?b("div",{class:"q-dialog__backdrop fixed-full",style:S.value,"aria-hidden":"true",tabindex:-1,onClick:c}):null),b(Se,M.value,()=>o.value===!0?b("div",{ref:a,class:s.value,style:S.value,tabindex:-1,...f.value},X(t.default)):null)])}return E}});function lt(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}const qt=Wt({name:"close-popup",beforeMount(e,{value:t}){const n={depth:lt(t),handler(l){n.depth!==0&&setTimeout(()=>{const r=Gn(e);r!==void 0&&Jn(r,l,n.depth)})},handlerKey(l){mt(l,13)===!0&&n.handler(l)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=lt(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});function rl(){return Pe(Gt)}const sl={name:"CameraPreview",emits:["capture","close"],setup(e,{emit:t}){const n=B(null);let l=null;const r=async()=>{try{l=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),n.value&&(n.value.srcObject=l)}catch(v){console.error("Error accessing camera:",v),t("close")}},a=()=>{l&&l.getTracks().forEach(v=>v.stop())},o=()=>{const v=document.createElement("canvas");v.width=n.value.videoWidth,v.height=n.value.videoHeight,v.getContext("2d").drawImage(n.value,0,0);const p=v.toDataURL("image/jpeg");t("capture",p),a()};return ge(()=>{r()}),De(()=>{a()}),{videoElement:n,captureImage:o}}},ul={ref:"videoElement",autoplay:"",playsinline:"",class:"full-width"};function cl(e,t,n,l,r,a){return Y(),oe(Me,{class:"camera-preview"},{default:H(()=>[T(ve,null,{default:H(()=>[K("video",ul,null,512)]),_:1}),T(_t,{align:"right"},{default:H(()=>[gt(T(le,{flat:"",label:"Close",color:"primary"},null,512),[[qt]]),T(le,{flat:"",label:"Capture",color:"primary",onClick:l.captureImage},null,8,["onClick"])]),_:1})]),_:1})}const dl=Be(sl,[["render",cl],["__scopeId","data-v-a46b76bb"]]),fl={class:"text-h6"},vl={key:0,class:"q-mt-md"},ml={class:"absolute-top-right"},gl={key:1,class:"q-mt-md"},hl=["src"],bl={class:"q-mt-md q-mb-md q-ml-auto",position:"bottom-left"},yl={__name:"NoteModal",props:{note:{type:Object,required:!0}},emits:["update","delete","close"],setup(e,{emit:t}){const n=e,l=t,r=rl(),a=B(!0),o=Yt({...n.note}),v=B(null),p=B(!1),w=B(!1),g=B(null),d=B([]);Z(()=>n.note,k=>{Object.assign(o,k)});const _=()=>{C(o)?l("delete",o.id):l("update",o),l("close")},C=k=>k.title.trim()===""&&k.content.trim()===""&&!k.image&&!k.voiceMemo&&(k.type!=="todo"||k.items&&k.items.every(m=>m.text.trim()==="")),P=async()=>{await store.addNote(o),a.value=!1},D=()=>{r.dialog({title:"Confirm",message:"Are you sure you want to delete this note?",cancel:!0,persistent:!0}).onOk(()=>{l("delete",o.id),a.value=!1})},N=()=>{v.value.click()},M=k=>{const m=k.target.files[0];if(m){const i=new FileReader;i.onload=s=>{o.image=s.target.result},i.readAsDataURL(m)}},S=()=>{o.image=null},Q=()=>{p.value=!0},L=k=>{o.image=k,p.value=!1},j=async()=>{if(w.value)E();else try{const k=await navigator.mediaDevices.getUserMedia({audio:!0});g.value=new MediaRecorder(k),g.value.ondataavailable=m=>{d.value.push(m.data)},g.value.onstop=()=>{const m=new Blob(d.value,{type:"audio/webm"});o.voiceMemo=URL.createObjectURL(m),d.value=[]},g.value.start(),w.value=!0}catch(k){console.error("Error accessing microphone:",k),r.notify({color:"negative",message:"Error accessing microphone. Please check your permissions."})}},E=()=>{g.value&&g.value.state!=="inactive"&&(g.value.stop(),w.value=!1)};return ge(()=>{window.addEventListener("beforeunload",E)}),De(()=>{window.removeEventListener("beforeunload",E),E()}),(k,m)=>(Y(),oe(nt,{modelValue:a.value,"onUpdate:modelValue":m[4]||(m[4]=i=>a.value=i),onHide:_,persistent:"","transition-show":"slide-up","transition-hide":"slide-down",maximized:!1,style:{width:"400px",height:"700px",maxWidth:"90%",maxHeight:"90%"}},{default:H(()=>[T(Me,{class:"column",style:{"max-width":"400px"}},{default:H(()=>[T(ve,{class:"row items-center q-pb-none"},{default:H(()=>[K("div",fl,be(o.title||"Untitled"),1),T(Ln),gt(T(le,{icon:"close",flat:"",round:"",dense:""},null,512),[[qt]])]),_:1}),T(ve,{class:"q-pa-sm flex-grow-1 overflow-auto"},{default:H(()=>[T(Ae,{modelValue:o.title,"onUpdate:modelValue":m[0]||(m[0]=i=>o.title=i),label:"Title",dense:"",autofocus:"",class:"q-mb-md"},null,8,["modelValue"]),T(Ae,{modelValue:o.content,"onUpdate:modelValue":m[1]||(m[1]=i=>o.content=i),type:"textarea",label:"Content",autogrow:""},null,8,["modelValue"]),o.image?(Y(),fe("div",vl,[T(Te,{src:o.image,"spinner-color":"primary",style:{"max-height":"1000px"}},{default:H(()=>[K("div",ml,[T(le,{round:"",color:"negative",icon:"delete",size:"sm",onClick:S})])]),_:1},8,["src"])])):ce("",!0),o.voiceMemo?(Y(),fe("div",gl,[K("audio",{src:o.voiceMemo,controls:"",class:"full-width"},null,8,hl)])):ce("",!0),K("div",bl,[T(Hn,{icon:"add",direction:"right",color:"primary"},{default:H(()=>[T(Ee,{color:"primary",icon:"attach_file",onClick:N}),T(Ee,{color:"primary",icon:"photo_camera",onClick:Q}),T(Ee,{color:"primary",icon:w.value?"stop":"mic",onClick:j},null,8,["icon"])]),_:1})]),T(_t,{position:"bottom-right"},{default:H(()=>[T(le,{flat:"",color:"negative",label:"Delete",onClick:D}),T(le,{flat:"",color:"primary",label:"Save",onClick:P})]),_:1})]),_:1})]),_:1}),K("input",{type:"file",ref_key:"fileInput",ref:v,accept:"image/*",style:{display:"none"},onChange:M},null,544),T(nt,{modelValue:p.value,"onUpdate:modelValue":m[3]||(m[3]=i=>p.value=i)},{default:H(()=>[T(dl,{onCapture:L,onClose:m[2]||(m[2]=i=>p.value=!1)})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]))}},pl=Be(yl,[["__scopeId","data-v-2f4e6c12"]]),wl=e=>(en("data-v-0940759f"),e=e(),tn(),e),kl={class:"row q-col-gutter-md"},Cl={class:"col-12"},_l={class:"col-12"},xl={class:"col-12"},Sl={class:"row items-center"},ql=wl(()=>K("div",{class:"text-primary q-ml-sm"},"Click to create...",-1)),Bl={__name:"HomeView",setup(e){const t=Mn(),n=B(""),l=B(null),r=B("grid"),a=h(()=>{const d=new RegExp(n.value,"i");return t.notes.filter(_=>d.test(_.title)||d.test(_.content))}),o=async d=>{const _={title:"",content:"",type:d,...d==="todo"?{items:[]}:{}};await t.addNote(_),l.value=_},v=async d=>{await t.updateNote(d.id,d),l.value=null},p=async d=>{await t.deleteNote(d),l.value=null},w=d=>{l.value=d},g=()=>{l.value=null};return ge(()=>{t.fetchNotes()}),(d,_)=>(Y(),oe(Jt,{padding:""},{default:H(()=>[K("div",kl,[K("div",Cl,[T(Ae,{modelValue:n.value,"onUpdate:modelValue":_[0]||(_[0]=C=>n.value=C),filled:"",type:"search",label:"Search notes"},{prepend:H(()=>[T(de,{name:"search"})]),_:1},8,["modelValue"])]),K("div",_l,[T(Bn,{modelValue:r.value,"onUpdate:modelValue":_[1]||(_[1]=C=>r.value=C),spread:"","no-caps":"","toggle-color":"primary",color:"white","text-color":"primary",options:[{label:"Grid",value:"grid",icon:"grid_view"},{label:"List",value:"list",icon:"view_list"}]},null,8,["modelValue"])]),K("div",xl,[T(Me,{class:"quick-create-area cursor-pointer",onClick:_[2]||(_[2]=C=>o("note"))},{default:H(()=>[T(ve,null,{default:H(()=>[K("div",Sl,[T(de,{name:"add",size:"sm",color:"primary"}),ql])]),_:1})]),_:1})]),(Y(!0),fe(st,null,Xt(a.value,C=>(Y(),fe("div",{key:C.id,class:ut({"col-12":r.value==="list","col-12 col-md-6 col-lg-4":r.value==="grid"})},[T(In,{note:C,"is-list-view":r.value==="list",onClick:P=>w(C)},null,8,["note","is-list-view","onClick"])],2))),128))]),l.value?(Y(),oe(pl,{key:0,note:l.value,onClose:g,onUpdate:v,onDelete:p},null,8,["note"])):ce("",!0)]),_:1}))}},Vl=Be(Bl,[["__scopeId","data-v-0940759f"]]);export{Vl as default};
