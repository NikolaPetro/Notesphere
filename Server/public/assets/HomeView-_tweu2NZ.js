import{i as Fe,f as It,g as ne,w as Z,o as ye,a as me,r as M,c as d,d as Pt,b as Qe,e as $t,s as De,n as ie,h as gt,j as Ot,k as Lt,l as y,p as pe,u as Ue,m as He,Q as ue,q as ht,t as J,T as Ae,v as Dt,x as Ke,y as ee,z as et,A as zt,B as te,C as Re,D as jt,E as Qt,_ as _e,F as D,G as oe,H as z,I as V,J as Ut,K as X,L as he,M as ce,N as Y,O as tt,P as re,R as Ze,S as Ee,U as Ht,V as Kt,W as Zt,X as Wt,Y as ge,Z as Gt,$ as Yt,a0 as Jt,a1 as Xt,a2 as bt,a3 as yt,a4 as pt,a5 as kt,a6 as en,a7 as Pe,a8 as tn,a9 as nn,aa as Se,ab as We,ac as ln,ad as on,ae as an,af as _t,ag as rn,ah as sn,ai as un,aj as cn,ak as dn,al as wt,am as fn,an as Ve,ao as vn,ap as mn,aq as gn}from"./index-37CeMCt5.js";function hn({validate:e,resetValidation:t,requiresQForm:n}){const l=Fe(It,!1);if(l!==!1){const{props:o,proxy:r}=ne();Object.assign(r,{validate:e,resetValidation:t}),Z(()=>o.disable,a=>{a===!0?(typeof t=="function"&&t(),l.unbindComponent(r)):l.bindComponent(r)}),ye(()=>{o.disable!==!0&&l.bindComponent(r)}),me(()=>{o.disable!==!0&&l.unbindComponent(r)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const nt=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,lt=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,ot=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,we=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,Ce=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,$e={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>nt.test(e),hexaColor:e=>lt.test(e),hexOrHexaColor:e=>ot.test(e),rgbColor:e=>we.test(e),rgbaColor:e=>Ce.test(e),rgbOrRgbaColor:e=>we.test(e)||Ce.test(e),hexOrRgbColor:e=>nt.test(e)||we.test(e),hexaOrRgbaColor:e=>lt.test(e)||Ce.test(e),anyColor:e=>ot.test(e)||we.test(e)||Ce.test(e)},bn=[!0,!1,"ondemand"],yn={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>bn.includes(e)}};function pn(e,t){const{props:n,proxy:l}=ne(),o=M(!1),r=M(null),a=M(null);hn({validate:B,resetValidation:w});let i=0,h;const b=d(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),g=d(()=>n.disable!==!0&&b.value===!0),m=d(()=>n.error===!0||o.value===!0),C=d(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:r.value);Z(()=>n.modelValue,()=>{F()}),Z(()=>n.reactiveRules,E=>{E===!0?h===void 0&&(h=Z(()=>n.rules,()=>{F(!0)})):h!==void 0&&(h(),h=void 0)},{immediate:!0}),Z(e,E=>{E===!0?a.value===null&&(a.value=!1):a.value===!1&&(a.value=!0,g.value===!0&&n.lazyRules!=="ondemand"&&t.value===!1&&$())});function w(){i++,t.value=!1,a.value=null,o.value=!1,r.value=null,$.cancel()}function B(E=n.modelValue){if(g.value!==!0)return!0;const q=++i,H=t.value!==!0?()=>{a.value=!0}:()=>{},j=(R,_)=>{R===!0&&H(),o.value=R,r.value=_||null,t.value=!1},Q=[];for(let R=0;R<n.rules.length;R++){const _=n.rules[R];let p;if(typeof _=="function"?p=_(E,$e):typeof _=="string"&&$e[_]!==void 0&&(p=$e[_](E)),p===!1||typeof p=="string")return j(!0,p),!1;p!==!0&&p!==void 0&&Q.push(p)}return Q.length===0?(j(!1),!0):(t.value=!0,Promise.all(Q).then(R=>{if(R===void 0||Array.isArray(R)===!1||R.length===0)return q===i&&j(!1),!0;const _=R.find(p=>p===!1||typeof p=="string");return q===i&&j(_!==void 0,_),_===void 0},R=>(q===i&&(console.error(R),j(!0)),!1)))}function F(E){g.value===!0&&n.lazyRules!=="ondemand"&&(a.value===!0||n.lazyRules!==!0&&E!==!0)&&$()}const $=Pt(B,0);return me(()=>{h!==void 0&&h(),$.cancel()}),Object.assign(l,{resetValidation:w,validate:B}),Qe(l,"hasError",()=>m.value),{isDirtyModel:a,hasRules:b,hasError:m,errorMessage:C,validate:B,resetValidation:w}}const at=/^on[A-Z]/;function kn(e,t){const n={listeners:M({}),attributes:M({})};function l(){const o={},r={};for(const a in e)a!=="class"&&a!=="style"&&at.test(a)===!1&&(o[a]=e[a]);for(const a in t.props)at.test(a)===!0&&(r[a]=t.props[a]);n.attributes.value=o,n.listeners.value=r}return $t(l),l(),n}let Oe,xe=0;const W=new Array(256);for(let e=0;e<256;e++)W[e]=(e+256).toString(16).substring(1);const _n=(()=>{const e=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let l=t;l>0;l--)n.push(Math.floor(Math.random()*256));return n}})(),it=4096;function Ge(){(Oe===void 0||xe+16>it)&&(xe=0,Oe=_n(it));const e=Array.prototype.slice.call(Oe,xe,xe+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,W[e[0]]+W[e[1]]+W[e[2]]+W[e[3]]+"-"+W[e[4]]+W[e[5]]+"-"+W[e[6]]+W[e[7]]+"-"+W[e[8]]+W[e[9]]+"-"+W[e[10]]+W[e[11]]+W[e[12]]+W[e[13]]+W[e[14]]+W[e[15]]}let de=[],ke=[];function Ct(e){ke=ke.filter(t=>t!==e)}function wn(e){Ct(e),ke.push(e)}function rt(e){Ct(e),ke.length===0&&de.length!==0&&(de[de.length-1](),de=[])}function Ye(e){ke.length===0?e():de.push(e)}function Cn(e){de=de.filter(t=>t!==e)}function xt(e,t){return e===void 0?t===!0?`f_${Ge()}`:void 0:e}function ze(e){return e!=null&&(""+e).length!==0}const xn={...Ue,...yn,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},qn=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function Sn({requiredForAttr:e=!0,tagProp:t}={}){const{props:n,attrs:l,proxy:o,vnode:r}=ne(),a=He(n,o.$q);return{requiredForAttr:e,tag:t===!0?d(()=>n.tag):{value:"label"},isDark:a,editable:d(()=>n.disable!==!0&&n.readonly!==!0),innerLoading:M(!1),focused:M(!1),hasPopupOpen:!1,splitAttrs:kn(l,r),targetUid:M(xt(n.for,e)),rootRef:M(null),targetRef:M(null),controlRef:M(null)}}function Vn(e){const{props:t,emit:n,slots:l,attrs:o,proxy:r}=ne(),{$q:a}=r;let i=null;e.hasValue===void 0&&(e.hasValue=d(()=>ze(t.modelValue))),e.emitValue===void 0&&(e.emitValue=f=>{n("update:modelValue",f)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:c,onFocusout:u}),Object.assign(e,{clearValue:k,onControlFocusin:c,onControlFocusout:u,focus:_}),e.computedCounter===void 0&&(e.computedCounter=d(()=>{if(t.counter!==!1){const f=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,N=t.maxlength!==void 0?t.maxlength:t.maxValues;return f+(N!==void 0?" / "+N:"")}}));const{isDirtyModel:h,hasRules:b,hasError:g,errorMessage:m,resetValidation:C}=pn(e.focused,e.innerLoading),w=e.floatingLabel!==void 0?d(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):d(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),B=d(()=>t.bottomSlots===!0||t.hint!==void 0||b.value===!0||t.counter===!0||t.error!==null),F=d(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),$=d(()=>`q-field row no-wrap items-start q-field--${F.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(w.value===!0?" q-field--float":"")+(q.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(g.value===!0?" q-field--error":"")+(g.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&B.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),E=d(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(g.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),q=d(()=>t.labelSlot===!0||t.label!==void 0),H=d(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&g.value!==!0?` text-${t.labelColor}`:"")),j=d(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:w.value,modelValue:t.modelValue,emitValue:e.emitValue})),Q=d(()=>{const f={for:e.targetUid.value};return t.disable===!0?f["aria-disabled"]="true":t.readonly===!0&&(f["aria-readonly"]="true"),f});Z(()=>t.for,f=>{e.targetUid.value=xt(f,e.requiredForAttr)});function R(){const f=document.activeElement;let N=e.targetRef!==void 0&&e.targetRef.value;N&&(f===null||f.id!==e.targetUid.value)&&(N.hasAttribute("tabindex")===!0||(N=N.querySelector("[tabindex]")),N&&N!==f&&N.focus({preventScroll:!0}))}function _(){Ye(R)}function p(){Cn(R);const f=document.activeElement;f!==null&&e.rootRef.value.contains(f)&&f.blur()}function c(f){i!==null&&(clearTimeout(i),i=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",f))}function u(f,N){i!==null&&clearTimeout(i),i=setTimeout(()=>{i=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",f)),N!==void 0&&N())})}function k(f){De(f),a.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),n("clear",t.modelValue),ie(()=>{C(),a.platform.is.mobile!==!0&&(h.value=!1)})}function s(){const f=[];return l.prepend!==void 0&&f.push(y("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:pe},l.prepend())),f.push(y("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},x())),g.value===!0&&t.noErrorIcon===!1&&f.push(O("error",[y(ue,{name:a.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?f.push(O("inner-loading-append",l.loading!==void 0?l.loading():[y(ht,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&f.push(O("inner-clearable-append",[y(ue,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||a.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:k})])),l.append!==void 0&&f.push(y("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:pe},l.append())),e.getInnerAppend!==void 0&&f.push(O("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&f.push(e.getControlChild()),f}function x(){const f=[];return t.prefix!==void 0&&t.prefix!==null&&f.push(y("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&f.push(e.getShadowControl()),e.getControl!==void 0?f.push(e.getControl()):l.rawControl!==void 0?f.push(l.rawControl()):l.control!==void 0&&f.push(y("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},l.control(j.value))),q.value===!0&&f.push(y("div",{class:H.value},J(l.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&f.push(y("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),f.concat(J(l.default))}function A(){let f,N;g.value===!0?m.value!==null?(f=[y("div",{role:"alert"},m.value)],N=`q--slot-error-${m.value}`):(f=J(l.error),N="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(f=[y("div",t.hint)],N=`q--slot-hint-${t.hint}`):(f=J(l.hint),N="q--slot-hint"));const G=t.counter===!0||l.counter!==void 0;if(t.hideBottomSpace===!0&&G===!1&&f===void 0)return;const I=y("div",{key:N,class:"q-field__messages col"},f);return y("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:pe},[t.hideBottomSpace===!0?I:y(Ae,{name:"q-transition--field-message"},()=>I),G===!0?y("div",{class:"q-field__counter"},l.counter!==void 0?l.counter():e.computedCounter.value):null])}function O(f,N){return N===null?null:y("div",{key:f,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},N)}let T=!1;return gt(()=>{T=!0}),Ot(()=>{T===!0&&t.autofocus===!0&&r.focus()}),ye(()=>{Lt.value===!0&&e.requiredForAttr===!0&&t.for===void 0&&(e.targetUid.value=`f_${Ge()}`),t.autofocus===!0&&r.focus()}),me(()=>{i!==null&&clearTimeout(i)}),Object.assign(r,{focus:_,blur:p}),function(){const N=e.getControl===void 0&&l.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...Q.value}:Q.value;return y(e.tag.value,{ref:e.rootRef,class:[$.value,o.class],style:o.style,...N},[l.before!==void 0?y("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:pe},l.before()):null,y("div",{class:"q-field__inner relative-position col self-stretch"},[y("div",{ref:e.controlRef,class:E.value,tabindex:-1,...e.controlEvents},s()),B.value===!0?A():null]),l.after!==void 0?y("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:pe},l.after()):null])}}const st={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Te={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},qt=Object.keys(Te);qt.forEach(e=>{Te[e].regex=new RegExp(Te[e].pattern)});const Bn=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+qt.join("")+"])|(.)","g"),ut=/[.*+?^${}()|[\]\\]/g,K="",Mn={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function An(e,t,n,l){let o,r,a,i,h,b;const g=M(null),m=M(w());function C(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}Z(()=>e.type+e.autogrow,F),Z(()=>e.mask,c=>{if(c!==void 0)$(m.value,!0);else{const u=_(m.value);F(),e.modelValue!==u&&t("update:modelValue",u)}}),Z(()=>e.fillMask+e.reverseFillMask,()=>{g.value===!0&&$(m.value,!0)}),Z(()=>e.unmaskedValue,()=>{g.value===!0&&$(m.value)});function w(){if(F(),g.value===!0){const c=Q(_(e.modelValue));return e.fillMask!==!1?p(c):c}return e.modelValue}function B(c){if(c<o.length)return o.slice(-c);let u="",k=o;const s=k.indexOf(K);if(s>-1){for(let x=c-k.length;x>0;x--)u+=K;k=k.slice(0,s)+u+k.slice(s)}return k}function F(){if(g.value=e.mask!==void 0&&e.mask.length!==0&&C(),g.value===!1){i=void 0,o="",r="";return}const c=st[e.mask]===void 0?e.mask:st[e.mask],u=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",k=u.replace(ut,"\\$&"),s=[],x=[],A=[];let O=e.reverseFillMask===!0,T="",f="";c.replace(Bn,(U,v,L,le,S)=>{if(le!==void 0){const P=Te[le];A.push(P),f=P.negate,O===!0&&(x.push("(?:"+f+"+)?("+P.pattern+"+)?(?:"+f+"+)?("+P.pattern+"+)?"),O=!1),x.push("(?:"+f+"+)?("+P.pattern+")?")}else if(L!==void 0)T="\\"+(L==="\\"?"":L),A.push(L),s.push("([^"+T+"]+)?"+T+"?");else{const P=v!==void 0?v:S;T=P==="\\"?"\\\\\\\\":P.replace(ut,"\\\\$&"),A.push(P),s.push("([^"+T+"]+)?"+T+"?")}});const N=new RegExp("^"+s.join("")+"("+(T===""?".":"[^"+T+"]")+"+)?"+(T===""?"":"["+T+"]*")+"$"),G=x.length-1,I=x.map((U,v)=>v===0&&e.reverseFillMask===!0?new RegExp("^"+k+"*"+U):v===G?new RegExp("^"+U+"("+(f===""?".":f)+"+)?"+(e.reverseFillMask===!0?"$":k+"*")):new RegExp("^"+U));a=A,i=U=>{const v=N.exec(e.reverseFillMask===!0?U:U.slice(0,A.length+1));v!==null&&(U=v.slice(1).join(""));const L=[],le=I.length;for(let S=0,P=U;S<le;S++){const ae=I[S].exec(P);if(ae===null)break;P=P.slice(ae.shift().length),L.push(...ae)}return L.length!==0?L.join(""):U},o=A.map(U=>typeof U=="string"?U:K).join(""),r=o.split(K).join(u)}function $(c,u,k){const s=l.value,x=s.selectionEnd,A=s.value.length-x,O=_(c);u===!0&&F();const T=Q(O),f=e.fillMask!==!1?p(T):T,N=m.value!==f;s.value!==f&&(s.value=f),N===!0&&(m.value=f),document.activeElement===s&&ie(()=>{if(f===r){const I=e.reverseFillMask===!0?r.length:0;s.setSelectionRange(I,I,"forward");return}if(k==="insertFromPaste"&&e.reverseFillMask!==!0){const I=s.selectionEnd;let U=x-1;for(let v=h;v<=U&&v<I;v++)o[v]!==K&&U++;q.right(s,U);return}if(["deleteContentBackward","deleteContentForward"].indexOf(k)>-1){const I=e.reverseFillMask===!0?x===0?f.length>T.length?1:0:Math.max(0,f.length-(f===r?0:Math.min(T.length,A)+1))+1:x;s.setSelectionRange(I,I,"forward");return}if(e.reverseFillMask===!0)if(N===!0){const I=Math.max(0,f.length-(f===r?0:Math.min(T.length,A+1)));I===1&&x===1?s.setSelectionRange(I,I,"forward"):q.rightReverse(s,I)}else{const I=f.length-A;s.setSelectionRange(I,I,"backward")}else if(N===!0){const I=Math.max(0,o.indexOf(K),Math.min(T.length,x)-1);q.right(s,I)}else{const I=x-1;q.right(s,I)}});const G=e.unmaskedValue===!0?_(f):f;String(e.modelValue)!==G&&(e.modelValue!==null||G!=="")&&n(G,!0)}function E(c,u,k){const s=Q(_(c.value));u=Math.max(0,o.indexOf(K),Math.min(s.length,u)),h=u,c.setSelectionRange(u,k,"forward")}const q={left(c,u){const k=o.slice(u-1).indexOf(K)===-1;let s=Math.max(0,u-1);for(;s>=0;s--)if(o[s]===K){u=s,k===!0&&u++;break}if(s<0&&o[u]!==void 0&&o[u]!==K)return q.right(c,0);u>=0&&c.setSelectionRange(u,u,"backward")},right(c,u){const k=c.value.length;let s=Math.min(k,u+1);for(;s<=k;s++)if(o[s]===K){u=s;break}else o[s-1]===K&&(u=s);if(s>k&&o[u-1]!==void 0&&o[u-1]!==K)return q.left(c,k);c.setSelectionRange(u,u,"forward")},leftReverse(c,u){const k=B(c.value.length);let s=Math.max(0,u-1);for(;s>=0;s--)if(k[s-1]===K){u=s;break}else if(k[s]===K&&(u=s,s===0))break;if(s<0&&k[u]!==void 0&&k[u]!==K)return q.rightReverse(c,0);u>=0&&c.setSelectionRange(u,u,"backward")},rightReverse(c,u){const k=c.value.length,s=B(k),x=s.slice(0,u+1).indexOf(K)===-1;let A=Math.min(k,u+1);for(;A<=k;A++)if(s[A-1]===K){u=A,u>0&&x===!0&&u--;break}if(A>k&&s[u-1]!==void 0&&s[u-1]!==K)return q.leftReverse(c,k);c.setSelectionRange(u,u,"forward")}};function H(c){t("click",c),b=void 0}function j(c){if(t("keydown",c),Dt(c)===!0||c.altKey===!0)return;const u=l.value,k=u.selectionStart,s=u.selectionEnd;if(c.shiftKey||(b=void 0),c.keyCode===37||c.keyCode===39){c.shiftKey&&b===void 0&&(b=u.selectionDirection==="forward"?k:s);const x=q[(c.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(c.preventDefault(),x(u,b===k?s:k),c.shiftKey){const A=u.selectionStart;u.setSelectionRange(Math.min(b,A),Math.max(b,A),"forward")}}else c.keyCode===8&&e.reverseFillMask!==!0&&k===s?(q.left(u,k),u.setSelectionRange(u.selectionStart,s,"backward")):c.keyCode===46&&e.reverseFillMask===!0&&k===s&&(q.rightReverse(u,s),u.setSelectionRange(k,u.selectionEnd,"forward"))}function Q(c){if(c==null||c==="")return"";if(e.reverseFillMask===!0)return R(c);const u=a;let k=0,s="";for(let x=0;x<u.length;x++){const A=c[k],O=u[x];if(typeof O=="string")s+=O,A===O&&k++;else if(A!==void 0&&O.regex.test(A))s+=O.transform!==void 0?O.transform(A):A,k++;else return s}return s}function R(c){const u=a,k=o.indexOf(K);let s=c.length-1,x="";for(let A=u.length-1;A>=0&&s>-1;A--){const O=u[A];let T=c[s];if(typeof O=="string")x=O+x,T===O&&s--;else if(T!==void 0&&O.regex.test(T))do x=(O.transform!==void 0?O.transform(T):T)+x,s--,T=c[s];while(k===A&&T!==void 0&&O.regex.test(T));else return x}return x}function _(c){return typeof c!="string"||i===void 0?typeof c=="number"?i(""+c):c:i(c)}function p(c){return r.length-c.length<=0?c:e.reverseFillMask===!0&&c.length!==0?r.slice(0,-c.length)+c:c+r.slice(c.length)}return{innerValue:m,hasMask:g,moveCursorForPaste:E,updateMaskValue:$,onMaskedKeydown:j,onMaskedClick:H}}const Je={name:String};function St(e={}){return(t,n,l)=>{t[n](y("input",{class:"hidden"+(l||""),...e.value}))}}function En(e){return d(()=>e.name||e.for)}function Tn(e,t){function n(){const l=e.modelValue;try{const o="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(l)===l&&("length"in l?Array.from(l):[l]).forEach(r=>{o.items.add(r)}),{files:o.files}}catch{return{files:void 0}}}return t===!0?d(()=>{if(e.type==="file")return n()}):d(n)}const Fn=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Rn=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Nn=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,In=/[a-z0-9_ -]$/i;function Pn(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(Ke.is.firefox===!0?In.test(n.data)===!1:Fn.test(n.data)===!0||Rn.test(n.data)===!0||Nn.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}const Be=ee({name:"QInput",inheritAttrs:!1,props:{...xn,...Mn,...Je,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...qn,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:l}=ne(),{$q:o}=l,r={};let a=NaN,i,h,b=null,g;const m=M(null),C=En(e),{innerValue:w,hasMask:B,moveCursorForPaste:F,updateMaskValue:$,onMaskedKeydown:E,onMaskedClick:q}=An(e,t,T,m),H=Tn(e,!0),j=d(()=>ze(w.value)),Q=Pn(A),R=Sn(),_=d(()=>e.type==="textarea"||e.autogrow===!0),p=d(()=>_.value===!0||["text","search","url","tel","password"].includes(e.type)),c=d(()=>{const v={...R.splitAttrs.listeners.value,onInput:A,onPaste:x,onChange:N,onBlur:G,onFocus:et};return v.onCompositionstart=v.onCompositionupdate=v.onCompositionend=Q,B.value===!0&&(v.onKeydown=E,v.onClick=q),e.autogrow===!0&&(v.onAnimationend=O),v}),u=d(()=>{const v={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:C.value,...R.splitAttrs.attributes.value,id:R.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return _.value===!1&&(v.type=e.type),e.autogrow===!0&&(v.rows=1),v});Z(()=>e.type,()=>{m.value&&(m.value.value=e.modelValue)}),Z(()=>e.modelValue,v=>{if(B.value===!0){if(h===!0&&(h=!1,String(v)===a))return;$(v)}else w.value!==v&&(w.value=v,e.type==="number"&&r.hasOwnProperty("value")===!0&&(i===!0?i=!1:delete r.value));e.autogrow===!0&&ie(f)}),Z(()=>e.autogrow,v=>{v===!0?ie(f):m.value!==null&&n.rows>0&&(m.value.style.height="auto")}),Z(()=>e.dense,()=>{e.autogrow===!0&&ie(f)});function k(){Ye(()=>{const v=document.activeElement;m.value!==null&&m.value!==v&&(v===null||v.id!==R.targetUid.value)&&m.value.focus({preventScroll:!0})})}function s(){m.value!==null&&m.value.select()}function x(v){if(B.value===!0&&e.reverseFillMask!==!0){const L=v.target;F(L,L.selectionStart,L.selectionEnd)}t("paste",v)}function A(v){if(!v||!v.target)return;if(e.type==="file"){t("update:modelValue",v.target.files);return}const L=v.target.value;if(v.target.qComposing===!0){r.value=L;return}if(B.value===!0)$(L,!1,v.inputType);else if(T(L),p.value===!0&&v.target===document.activeElement){const{selectionStart:le,selectionEnd:S}=v.target;le!==void 0&&S!==void 0&&ie(()=>{v.target===document.activeElement&&L.indexOf(v.target.value)===0&&v.target.setSelectionRange(le,S)})}e.autogrow===!0&&f()}function O(v){t("animationend",v),f()}function T(v,L){g=()=>{b=null,e.type!=="number"&&r.hasOwnProperty("value")===!0&&delete r.value,e.modelValue!==v&&a!==v&&(a=v,L===!0&&(h=!0),t("update:modelValue",v),ie(()=>{a===v&&(a=NaN)})),g=void 0},e.type==="number"&&(i=!0,r.value=v),e.debounce!==void 0?(b!==null&&clearTimeout(b),r.value=v,b=setTimeout(g,e.debounce)):g()}function f(){requestAnimationFrame(()=>{const v=m.value;if(v!==null){const L=v.parentNode.style,{scrollTop:le}=v,{overflowY:S,maxHeight:P}=o.platform.is.firefox===!0?{}:window.getComputedStyle(v),ae=S!==void 0&&S!=="scroll";ae===!0&&(v.style.overflowY="hidden"),L.marginBottom=v.scrollHeight-1+"px",v.style.height="1px",v.style.height=v.scrollHeight+"px",ae===!0&&(v.style.overflowY=parseInt(P,10)<v.scrollHeight?"auto":"hidden"),L.marginBottom="",v.scrollTop=le}})}function N(v){Q(v),b!==null&&(clearTimeout(b),b=null),g!==void 0&&g(),t("change",v.target.value)}function G(v){v!==void 0&&et(v),b!==null&&(clearTimeout(b),b=null),g!==void 0&&g(),i=!1,h=!1,delete r.value,e.type!=="file"&&setTimeout(()=>{m.value!==null&&(m.value.value=w.value!==void 0?w.value:"")})}function I(){return r.hasOwnProperty("value")===!0?r.value:w.value!==void 0?w.value:""}me(()=>{G()}),ye(()=>{e.autogrow===!0&&f()}),Object.assign(R,{innerValue:w,fieldClass:d(()=>`q-${_.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:d(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:m,emitValue:T,hasValue:j,floatingLabel:d(()=>j.value===!0&&(e.type!=="number"||isNaN(w.value)===!1)||ze(e.displayValue)),getControl:()=>y(_.value===!0?"textarea":"input",{ref:m,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...u.value,...c.value,...e.type!=="file"?{value:I()}:H.value}),getShadowControl:()=>y("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(_.value===!0?"":" text-no-wrap")},[y("span",{class:"invisible"},I()),y("span",e.shadowText)])});const U=Vn(R);return Object.assign(l,{focus:k,select:s,getNativeElement:()=>m.value}),Qe(l,"nativeEl",()=>m.value),U}}),$n=ee({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const n=d(()=>{const l=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(o=>e[o]===!0).map(o=>`q-btn-group--${o}`).join(" ");return`q-btn-group row no-wrap${l.length!==0?" "+l:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>y("div",{class:n.value},J(t.default))}}),On=ee({name:"QBtnToggle",props:{...Je,modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(t=>("label"in t||"icon"in t||"slot"in t)&&"value"in t)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(e,{slots:t,emit:n}){const l=d(()=>e.options.find(C=>C.value===e.modelValue)!==void 0),o=d(()=>({type:"hidden",name:e.name,value:e.modelValue})),r=St(o),a=d(()=>zt(e)),i=d(()=>({rounded:e.rounded,dense:e.dense,...a.value})),h=d(()=>e.options.map((C,w)=>{const{attrs:B,value:F,slot:$,...E}=C;return{slot:$,props:{key:w,"aria-pressed":F===e.modelValue?"true":"false",...B,...E,...i.value,disable:e.disable===!0||E.disable===!0,color:F===e.modelValue?g(E,"toggleColor"):g(E,"color"),textColor:F===e.modelValue?g(E,"toggleTextColor"):g(E,"textColor"),noCaps:g(E,"noCaps")===!0,noWrap:g(E,"noWrap")===!0,size:g(E,"size"),padding:g(E,"padding"),ripple:g(E,"ripple"),stack:g(E,"stack")===!0,stretch:g(E,"stretch")===!0,onClick(q){b(F,C,q)}}}}));function b(C,w,B){e.readonly!==!0&&(e.modelValue===C?e.clearable===!0&&(n("update:modelValue",null,null),n("clear")):n("update:modelValue",C,w),n("click",B))}function g(C,w){return C[w]===void 0?e[w]:C[w]}function m(){const C=h.value.map(w=>y(te,w.props,w.slot!==void 0?t[w.slot]:void 0));return e.name!==void 0&&e.disable!==!0&&l.value===!0&&r(C,"push"),Re(t.default,C)}return()=>y($n,{class:"q-btn-toggle",...a.value,rounded:e.rounded,stretch:e.stretch,glossy:e.glossy,spread:e.spread},m)}}),Vt=jt("notesStore",()=>{const e=M([]),t=async()=>{const a=await fetch("http://localhost:3000/notes");e.value=await a.json()};return{notes:e,fetchNotes:t,addNote:async a=>{const h=await(await fetch("http://localhost:3000/notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json();e.value.push(h)},updateNote:async(a,i)=>{await fetch(`http://localhost:3000/notes/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),await t()},deleteNote:async a=>{await fetch(`http://localhost:3000/notes/${a}`,{method:"DELETE"}),e.value=e.value.filter(i=>i.id!==a)},uploadImage:async a=>{const i=new FormData;i.append("image",a,`note-image-${Date.now()}.jpg`);try{const h=await fetch("http://localhost:3000/upload",{method:"POST",body:i});if(!h.ok)throw new Error("Failed to upload image");return(await h.json()).filePath}catch(h){return console.error("Error uploading image:",h),null}}}}),Ln={ratio:[String,Number]};function Dn(e,t){return d(()=>{const n=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(n)!==!0&&n>0?{paddingBottom:`${100/n}%`}:null})}const zn=16/9,je=ee({name:"QImg",props:{...Ln,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:zn},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:n}){const l=M(e.initialRatio),o=Dn(e,l);let r=null,a=!1;const i=[M(null),M($())],h=M(0),b=M(!1),g=M(!1),m=d(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),C=d(()=>({width:e.width,height:e.height})),w=d(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),B=d(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));Z(()=>F(),E);function F(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function $(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function E(p){r!==null&&(clearTimeout(r),r=null),g.value=!1,p===null?(b.value=!1,i[h.value^1].value=$()):b.value=!0,i[h.value].value=p}function q({target:p}){a!==!0&&(r!==null&&(clearTimeout(r),r=null),l.value=p.naturalHeight===0?.5:p.naturalWidth/p.naturalHeight,H(p,1))}function H(p,c){a===!0||c===1e3||(p.complete===!0?j(p):r=setTimeout(()=>{r=null,H(p,c+1)},50))}function j(p){a!==!0&&(h.value=h.value^1,i[h.value].value=null,b.value=!1,g.value=!1,n("load",p.currentSrc||p.src))}function Q(p){r!==null&&(clearTimeout(r),r=null),b.value=!1,g.value=!0,i[h.value].value=null,i[h.value^1].value=$(),n("error",p)}function R(p){const c=i[p].value,u={key:"img_"+p,class:w.value,style:B.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...c};return h.value===p?(u.class+=" q-img__image--waiting",Object.assign(u,{onLoad:q,onError:Q})):u.class+=" q-img__image--loaded",y("div",{class:"q-img__container absolute-full",key:"img"+p},y("img",u))}function _(){return b.value!==!0?y("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},J(t[g.value===!0?"error":"default"])):y("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[y(ht,{color:e.spinnerColor,size:e.spinnerSize})])}return E(F()),me(()=>{a=!0,r!==null&&(clearTimeout(r),r=null)}),()=>{const p=[];return o.value!==null&&p.push(y("div",{key:"filler",style:o.value})),g.value!==!0&&(i[0].value!==null&&p.push(R(0)),i[1].value!==null&&p.push(R(1))),p.push(y(Ae,{name:"q-transition--fade"},_)),y("div",{class:m.value,style:C.value,role:"img","aria-label":e.alt},p)}}}),se=ee({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=d(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>y(e.tag,{class:n.value},J(t.default))}}),jn=ee({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const n=d(()=>parseInt(e.lines,10)),l=d(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),o=d(()=>e.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>y("div",{style:o.value,class:l.value},J(t.default))}}),Ne=ee({name:"QCard",props:{...Ue,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=ne(),l=He(e,n),o=d(()=>"q-card"+(l.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>y(e.tag,{class:o.value},J(t.default))}});function Bt(){return Fe(Qt)}const Qn={name:"NoteCard",props:{note:{type:Object,required:!0},isListView:{type:Boolean,default:!1}},emits:["click","delete"],setup(e,{emit:t}){const n=Bt(),l=d(()=>e.note.type==="todo"?e.note.items.filter(a=>a.completed).length:0),o=d(()=>e.note.type==="todo"?e.note.items.length:0);return{completedTodos:l,totalTodos:o,confirmDelete:a=>{a.stopPropagation(),n.dialog({title:"Confirm Deletion",message:"Are you sure you want to delete this note?",cancel:!0,persistent:!0}).onOk(()=>{t("delete",e.note.id)})}}}},Un={class:"text-h6"},Hn={key:0,class:"text-caption text-grey"},Kn={key:1,class:"text-body2 ellipsis"},Zn={key:0,class:"col-auto q-ml-md"},Wn={key:0,class:"text-caption text-grey q-mt-sm"},Gn=["src"];function Yn(e,t,n,l,o,r){return D(),oe(Ne,{class:he(["cursor-pointer note-card",{"q-pa-sm":n.isListView}]),onClick:t[0]||(t[0]=a=>e.$emit("click"))},{default:z(()=>[V(te,{round:"",color:"negative",icon:"delete",size:"sm",class:"absolute-top-right q-ma-xs delete-btn",onClick:Ut(l.confirmDelete,["stop"])},null,8,["onClick"]),V(se,{class:he({"q-pa-none":n.isListView})},{default:z(()=>[X("div",{class:he({"row items-center":n.isListView})},[X("div",{class:he({col:n.isListView})},[X("div",Un,ce(n.note.title||"Untitled"),1),n.note.type==="todo"?(D(),Y("div",Hn,[V(ue,{name:"check_box",size:"xs"}),tt(" "+ce(l.completedTodos)+"/"+ce(l.totalTodos)+" completed ",1)])):(D(),Y("div",Kn,ce(n.note.content),1))],2),n.note.image&&n.isListView?(D(),Y("div",Zn,[V(je,{src:n.note.image,"spinner-color":"primary",style:{height:"40px",width:"40px"},class:"rounded-borders"},null,8,["src"])])):re("",!0)],2)]),_:1},8,["class"]),!n.isListView&&n.note.type==="todo"?(D(),oe(se,{key:0},{default:z(()=>[V(Ht,{dense:""},{default:z(()=>[(D(!0),Y(Ee,null,Ze(n.note.items.slice(0,3),(a,i)=>(D(),oe(Kt,{key:i},{default:z(()=>[V(Zt,null,{default:z(()=>[V(jn,{class:he({"text-strike":a.completed})},{default:z(()=>[tt(ce(a.text),1)]),_:2},1032,["class"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),n.note.items.length>3?(D(),Y("div",Wn," +"+ce(n.note.items.length-3)+" more items ",1)):re("",!0)]),_:1})):re("",!0),!n.isListView&&n.note.image?(D(),oe(se,{key:1},{default:z(()=>[V(je,{src:n.note.image,"spinner-color":"primary",style:{height:"200px"}},null,8,["src"])]),_:1})):re("",!0),!n.isListView&&n.note.voiceMemo?(D(),oe(se,{key:2},{default:z(()=>[X("audio",{src:n.note.voiceMemo,controls:"",class:"full-width"},null,8,Gn)]),_:1})):re("",!0)]),_:1},8,["class"])}const Jn=_e(Qn,[["render",Yn],["__scopeId","data-v-9a805724"]]),Xn=y("div",{class:"q-space"}),el=ee({name:"QSpace",setup(){return()=>Xn}});function tl(e,t){const n=M(null),l=d(()=>e.disable===!0?null:y("span",{ref:n,class:"no-outline",tabindex:-1}));function o(r){const a=t.value;r!==void 0&&r.type.indexOf("key")===0?a!==null&&document.activeElement!==a&&a.contains(document.activeElement)===!0&&a.focus():n.value!==null&&(r===void 0||a!==null&&a.contains(r.target)===!0)&&n.value.focus()}return{refocusTargetEl:l,refocusTarget:o}}const nl={xs:30,sm:35,md:40,lg:50,xl:60},ll={...Ue,...Gt,...Je,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},ol=["update:modelValue"];function al(e,t){const{props:n,slots:l,emit:o,proxy:r}=ne(),{$q:a}=r,i=He(n,a),h=M(null),{refocusTargetEl:b,refocusTarget:g}=tl(n,h),m=Wt(n,nl),C=d(()=>n.val!==void 0&&Array.isArray(n.modelValue)),w=d(()=>{const s=ge(n.val);return C.value===!0?n.modelValue.findIndex(x=>ge(x)===s):-1}),B=d(()=>C.value===!0?w.value>-1:ge(n.modelValue)===ge(n.trueValue)),F=d(()=>C.value===!0?w.value===-1:ge(n.modelValue)===ge(n.falseValue)),$=d(()=>B.value===!1&&F.value===!1),E=d(()=>n.disable===!0?-1:n.tabindex||0),q=d(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(n.disable===!0?" disabled":"")+(i.value===!0?` q-${e}--dark`:"")+(n.dense===!0?` q-${e}--dense`:"")+(n.leftLabel===!0?" reverse":"")),H=d(()=>{const s=B.value===!0?"truthy":F.value===!0?"falsy":"indet",x=n.color!==void 0&&(n.keepColor===!0||(e==="toggle"?B.value===!0:F.value!==!0))?` text-${n.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${s}${x}`}),j=d(()=>{const s={type:"checkbox"};return n.name!==void 0&&Object.assign(s,{".checked":B.value,"^checked":B.value===!0?"checked":void 0,name:n.name,value:C.value===!0?n.val:n.trueValue}),s}),Q=St(j),R=d(()=>{const s={tabindex:E.value,role:e==="toggle"?"switch":"checkbox","aria-label":n.label,"aria-checked":$.value===!0?"mixed":B.value===!0?"true":"false"};return n.disable===!0&&(s["aria-disabled"]="true"),s});function _(s){s!==void 0&&(De(s),g(s)),n.disable!==!0&&o("update:modelValue",p(),s)}function p(){if(C.value===!0){if(B.value===!0){const s=n.modelValue.slice();return s.splice(w.value,1),s}return n.modelValue.concat([n.val])}if(B.value===!0){if(n.toggleOrder!=="ft"||n.toggleIndeterminate===!1)return n.falseValue}else if(F.value===!0){if(n.toggleOrder==="ft"||n.toggleIndeterminate===!1)return n.trueValue}else return n.toggleOrder!=="ft"?n.trueValue:n.falseValue;return n.indeterminateValue}function c(s){(s.keyCode===13||s.keyCode===32)&&De(s)}function u(s){(s.keyCode===13||s.keyCode===32)&&_(s)}const k=t(B,$);return Object.assign(r,{toggle:_}),()=>{const s=k();n.disable!==!0&&Q(s,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const x=[y("div",{class:H.value,style:m.value,"aria-hidden":"true"},s)];b.value!==null&&x.push(b.value);const A=n.label!==void 0?Re(l.default,[n.label]):J(l.default);return A!==void 0&&x.push(y("div",{class:`q-${e}__label q-anchor--skip`},A)),y("div",{ref:h,class:q.value,...R.value,onClick:_,onKeydown:c,onKeyup:u},x)}}const il=y("div",{key:"svg",class:"q-checkbox__bg absolute"},[y("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[y("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),y("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]),rl=ee({name:"QCheckbox",props:ll,emits:ol,setup(e){function t(n,l){const o=d(()=>(n.value===!0?e.checkedIcon:l.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>o.value!==null?[y("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[y(ue,{class:"q-checkbox__icon",name:o.value})])]:[il]}return al("checkbox",t)}}),Mt=ee({name:"QCardActions",props:{...Yt,vertical:Boolean},setup(e,{slots:t}){const n=Jt(e),l=d(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>y("div",{class:l.value},J(t.default))}}),sl=["top","right","bottom","left"],At={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:e=>sl.includes(e)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function Et(e,t){return{formClass:d(()=>`q-fab--form-${e.square===!0?"square":"rounded"}`),stacked:d(()=>e.externalLabel===!1&&["top","bottom"].includes(e.labelPosition)),labelProps:d(()=>{if(e.externalLabel===!0){const n=e.hideLabel===null?t.value===!1:e.hideLabel;return{action:"push",data:{class:[e.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${e.labelPosition}`+(n===!0?" q-fab__label--external-hidden":"")],style:e.labelStyle}}}return{action:["left","top"].includes(e.labelPosition)?"unshift":"push",data:{class:[e.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${e.labelPosition}`+(e.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:e.labelStyle}}})}}const Tt={start:"self-end",center:"self-center",end:"self-start"},ul=Object.keys(Tt),Le=ee({name:"QFabAction",props:{...At,icon:{type:String,default:""},anchor:{type:String,validator:e=>ul.includes(e)},to:[String,Object],replace:Boolean},emits:["click"],setup(e,{slots:t,emit:n}){const l=Fe(bt,()=>({showing:{value:!0},onChildClick:Xt})),{formClass:o,labelProps:r}=Et(e,l.showing),a=d(()=>{const m=Tt[e.anchor];return o.value+(m!==void 0?` ${m}`:"")}),i=d(()=>e.disable===!0||l.showing.value!==!0);function h(m){l.onChildClick(m),n("click",m)}function b(){const m=[];return t.icon!==void 0?m.push(t.icon()):e.icon!==""&&m.push(y(ue,{name:e.icon})),(e.label!==""||t.label!==void 0)&&m[r.value.action](y("div",r.value.data,t.label!==void 0?t.label():[e.label])),Re(t.default,m)}const g=ne();return Object.assign(g.proxy,{click:h}),()=>y(te,{class:a.value,...e,noWrap:!0,stack:e.stacked,icon:void 0,label:void 0,noCaps:!0,fabMini:!0,disable:i.value,onClick:h},b)}}),cl=["up","right","down","left"],dl=["left","center","right"],fl=ee({name:"QFab",props:{...At,...yt,icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{default:null},direction:{type:String,default:"right",validator:e=>cl.includes(e)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:e=>dl.includes(e)}},emits:pt,setup(e,{slots:t}){const n=M(null),l=M(e.modelValue===!0),o=Ge(),{proxy:{$q:r}}=ne(),{formClass:a,labelProps:i}=Et(e,l),h=d(()=>e.persistent!==!0),{hide:b,toggle:g}=kt({showing:l,hideOnRouteChange:h}),m=d(()=>({opened:l.value})),C=d(()=>`q-fab z-fab row inline justify-center q-fab--align-${e.verticalActionsAlign} ${a.value}`+(l.value===!0?" q-fab--opened":" q-fab--closed")),w=d(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${e.direction} q-fab__actions--${l.value===!0?"opened":"closed"}`),B=d(()=>{const q={id:o,role:"menu"};return l.value!==!0&&(q["aria-hidden"]="true"),q}),F=d(()=>`q-fab__icon-holder  q-fab__icon-holder--${l.value===!0?"opened":"closed"}`);function $(q,H){const j=t[q],Q=`q-fab__${q} absolute-full`;return j===void 0?y(ue,{class:Q,name:e[H]||r.iconSet.fab[H]}):y("div",{class:Q},j(m.value))}function E(){const q=[];return e.hideIcon!==!0&&q.push(y("div",{class:F.value},[$("icon","icon"),$("active-icon","activeIcon")])),(e.label!==""||t.label!==void 0)&&q[i.value.action](y("div",i.value.data,t.label!==void 0?t.label(m.value):[e.label])),Re(t.tooltip,q)}return en(bt,{showing:l,onChildClick(q){b(q),n.value!==null&&n.value.$el.focus()}}),()=>y("div",{class:C.value},[y(te,{ref:n,class:a.value,...e,noWrap:!0,stack:e.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":l.value===!0?"true":"false","aria-haspopup":"true","aria-controls":o,onClick:g},E),y("div",{class:w.value,...B.value},J(t.default))])}}),vl={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>e.length===2},expand:Boolean};function ml(){const{props:e,proxy:{$q:t}}=ne(),n=Fe(tn,Pe);if(n===Pe)return console.error("QPageSticky needs to be child of QLayout"),Pe;const l=d(()=>{const m=e.position;return{top:m.indexOf("top")>-1,right:m.indexOf("right")>-1,bottom:m.indexOf("bottom")>-1,left:m.indexOf("left")>-1,vertical:m==="top"||m==="bottom",horizontal:m==="left"||m==="right"}}),o=d(()=>n.header.offset),r=d(()=>n.right.offset),a=d(()=>n.footer.offset),i=d(()=>n.left.offset),h=d(()=>{let m=0,C=0;const w=l.value,B=t.lang.rtl===!0?-1:1;w.top===!0&&o.value!==0?C=`${o.value}px`:w.bottom===!0&&a.value!==0&&(C=`${-a.value}px`),w.left===!0&&i.value!==0?m=`${B*i.value}px`:w.right===!0&&r.value!==0&&(m=`${-B*r.value}px`);const F={transform:`translate(${m}, ${C})`};return e.offset&&(F.margin=`${e.offset[1]}px ${e.offset[0]}px`),w.vertical===!0?(i.value!==0&&(F[t.lang.rtl===!0?"right":"left"]=`${i.value}px`),r.value!==0&&(F[t.lang.rtl===!0?"left":"right"]=`${r.value}px`)):w.horizontal===!0&&(o.value!==0&&(F.top=`${o.value}px`),a.value!==0&&(F.bottom=`${a.value}px`)),F}),b=d(()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--${e.expand===!0?"expand":"shrink"}`);function g(m){const C=J(m.default);return y("div",{class:b.value,style:h.value},e.expand===!0?C:[y("div",C)])}return{$layout:n,getStickyContent:g}}const gl=ee({name:"QPageSticky",props:vl,setup(e,{slots:t}){const{getStickyContent:n}=ml();return()=>n(t)}});function hl(){let e;const t=ne();function n(){e=void 0}return gt(n),me(n),{removeTick:n,registerTick(l){e=l,ie(()=>{e===l&&(nn(t)===!1&&e(),e=void 0)})}}}const bl={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function yl(e,t=()=>{},n=()=>{}){return{transitionProps:d(()=>{const l=`q-transition--${e.transitionShow||t()}`,o=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${l}-enter-from`,enterActiveClass:`${l}-enter-active`,enterToClass:`${l}-enter-to`,leaveFromClass:`${o}-leave-from`,leaveActiveClass:`${o}-leave-active`,leaveToClass:`${o}-leave-to`}}),transitionStyle:d(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}const Me=[];function pl(e){return Me.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function kl(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return Se(e)}else if(e.__qPortal===!0){const n=Se(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=Se(e)}while(e!=null)}function _l(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(n--,e.$options.name==="QMenu"){e=kl(e,t);continue}e.hide(t)}e=Se(e)}}function wl(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function Cl(e,t,n,l){const o=M(!1),r=M(!1);let a=null;const i={},h=l==="dialog"&&wl(e);function b(m){if(m===!0){rt(i),r.value=!0;return}r.value=!1,o.value===!1&&(h===!1&&a===null&&(a=on(!1,l)),o.value=!0,Me.push(e.proxy),wn(i))}function g(m){if(r.value=!1,m!==!0)return;rt(i),o.value=!1;const C=Me.indexOf(e.proxy);C!==-1&&Me.splice(C,1),a!==null&&(an(a),a=null)}return We(()=>{g(!0)}),e.proxy.__qPortal=!0,Qe(e.proxy,"contentEl",()=>t.value),{showPortal:b,hidePortal:g,portalIsActive:o,portalIsAccessible:r,renderPortal:()=>h===!0?n():o.value===!0?[y(ln,{to:a},n())]:void 0}}const fe=[];let be;function xl(e){be=e.keyCode===27}function ql(){be===!0&&(be=!1)}function Sl(e){be===!0&&(be=!1,_t(e,27)===!0&&fe[fe.length-1](e))}function Ft(e){window[e]("keydown",xl),window[e]("blur",ql),window[e]("keyup",Sl),be=!1}function Vl(e){Ke.is.desktop===!0&&(fe.push(e),fe.length===1&&Ft("addEventListener"))}function ct(e){const t=fe.indexOf(e);t>-1&&(fe.splice(t,1),fe.length===0&&Ft("removeEventListener"))}const ve=[];function Rt(e){ve[ve.length-1](e)}function Bl(e){Ke.is.desktop===!0&&(ve.push(e),ve.length===1&&document.body.addEventListener("focusin",Rt))}function dt(e){const t=ve.indexOf(e);t>-1&&(ve.splice(t,1),ve.length===0&&document.body.removeEventListener("focusin",Rt))}let qe=0;const Ml={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},ft={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},vt=ee({name:"QDialog",inheritAttrs:!1,props:{...yt,...bl,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...pt,"shake","click","escapeKey"],setup(e,{slots:t,emit:n,attrs:l}){const o=ne(),r=M(null),a=M(!1),i=M(!1);let h=null,b=null,g,m;const C=d(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:w}=un(),{registerTimeout:B}=rn(),{registerTick:F,removeTick:$}=hl(),{transitionProps:E,transitionStyle:q}=yl(e,()=>ft[e.position][0],()=>ft[e.position][1]),{showPortal:H,hidePortal:j,portalIsAccessible:Q,renderPortal:R}=Cl(o,r,le,"dialog"),{hide:_}=kt({showing:a,hideOnRouteChange:C,handleShow:A,handleHide:O,processOnMount:!0}),{addToHistory:p,removeFromHistory:c}=sn(a,_,C),u=d(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Ml[e.position]}`+(i.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),k=d(()=>a.value===!0&&e.seamless!==!0),s=d(()=>e.autoClose===!0?{onClick:U}:{}),x=d(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${k.value===!0?"modal":"seamless"}`,l.class]);Z(()=>e.maximized,S=>{a.value===!0&&I(S)}),Z(k,S=>{w(S),S===!0?(Bl(L),Vl(N)):(dt(L),ct(N))});function A(S){p(),b=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,I(e.maximized),H(),i.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),F(T)):$(),B(()=>{if(o.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:P,bottom:ae}=document.activeElement.getBoundingClientRect(),{innerHeight:Xe}=window,Ie=window.visualViewport!==void 0?window.visualViewport.height:Xe;P>0&&ae>Ie/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-Ie,ae>=Xe?1/0:Math.ceil(document.scrollingElement.scrollTop+ae-Ie/2))),document.activeElement.scrollIntoView()}m=!0,r.value.click(),m=!1}H(!0),i.value=!1,n("show",S)},e.transitionDuration)}function O(S){$(),c(),G(!0),i.value=!0,j(),b!==null&&(((S&&S.type.indexOf("key")===0?b.closest('[tabindex]:not([tabindex^="-"])'):void 0)||b).focus(),b=null),B(()=>{j(!0),i.value=!1,n("hide",S)},e.transitionDuration)}function T(S){Ye(()=>{let P=r.value;P===null||P.contains(document.activeElement)===!0||(P=(S!==""?P.querySelector(S):null)||P.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||P.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||P.querySelector("[autofocus], [data-autofocus]")||P,P.focus({preventScroll:!0}))})}function f(S){S&&typeof S.focus=="function"?S.focus({preventScroll:!0}):T(),n("shake");const P=r.value;P!==null&&(P.classList.remove("q-animate--scale"),P.classList.add("q-animate--scale"),h!==null&&clearTimeout(h),h=setTimeout(()=>{h=null,r.value!==null&&(P.classList.remove("q-animate--scale"),T())},170))}function N(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&f():(n("escapeKey"),_()))}function G(S){h!==null&&(clearTimeout(h),h=null),(S===!0||a.value===!0)&&(I(!1),e.seamless!==!0&&(w(!1),dt(L),ct(N))),S!==!0&&(b=null)}function I(S){S===!0?g!==!0&&(qe<1&&document.body.classList.add("q-body--dialog"),qe++,g=!0):g===!0&&(qe<2&&document.body.classList.remove("q-body--dialog"),qe--,g=!1)}function U(S){m!==!0&&(_(S),n("click",S))}function v(S){e.persistent!==!0&&e.noBackdropDismiss!==!0?_(S):e.noShake!==!0&&f()}function L(S){e.allowFocusOutside!==!0&&Q.value===!0&&cn(r.value,S.target)!==!0&&T('[tabindex]:not([tabindex="-1"])')}Object.assign(o.proxy,{focus:T,shake:f,__updateRefocusTarget(S){b=S||null}}),me(G);function le(){return y("div",{role:"dialog","aria-modal":k.value===!0?"true":"false",...l,class:x.value},[y(Ae,{name:"q-transition--fade",appear:!0},()=>k.value===!0?y("div",{class:"q-dialog__backdrop fixed-full",style:q.value,"aria-hidden":"true",tabindex:-1,onClick:v}):null),y(Ae,E.value,()=>a.value===!0?y("div",{ref:r,class:u.value,style:q.value,tabindex:-1,...s.value},J(t.default)):null)])}return R}});function mt(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}const Nt=dn({name:"close-popup",beforeMount(e,{value:t}){const n={depth:mt(t),handler(l){n.depth!==0&&setTimeout(()=>{const o=pl(e);o!==void 0&&_l(o,l,n.depth)})},handlerKey(l){_t(l,13)===!0&&n.handler(l)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=mt(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}}),Al={name:"CameraPreview",emits:["capture","close"],setup(e,{emit:t}){const n=M(null);let l=null;const o=async()=>{try{l=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),n.value&&(n.value.srcObject=l)}catch(i){console.error("Error accessing camera:",i),t("close")}},r=()=>{l&&l.getTracks().forEach(i=>i.stop())},a=()=>{const i=document.createElement("canvas");i.width=n.value.videoWidth,i.height=n.value.videoHeight,i.getContext("2d").drawImage(n.value,0,0);const h=i.toDataURL("image/jpeg");t("capture",h),r()};return ye(()=>{o()}),We(()=>{r()}),{videoElement:n,captureImage:a}}},El={ref:"videoElement",autoplay:"",playsinline:"",class:"full-width"};function Tl(e,t,n,l,o,r){return D(),oe(Ne,{class:"camera-preview"},{default:z(()=>[V(se,null,{default:z(()=>[X("video",El,null,512)]),_:1}),V(Mt,{align:"right"},{default:z(()=>[wt(V(te,{flat:"",label:"Close",color:"primary"},null,512),[[Nt]]),V(te,{flat:"",label:"Capture",color:"primary",onClick:l.captureImage},null,8,["onClick"])]),_:1})]),_:1})}const Fl=_e(Al,[["render",Tl],["__scopeId","data-v-a46b76bb"]]),Rl={name:"NoteModal",components:{CameraPreview:Fl},props:{note:{type:Object,required:!0}},emits:["update","delete","close"],setup(e,{emit:t}){const n=Bt(),l=M(!0),o=fn({...e.note}),r=M(null),a=M(!1),i=M(!1),h=M(null),b=M([]);Z(()=>e.note,_=>{Object.assign(o,_)});const g=()=>{m(o)?t("delete",o.id):t("update",o),t("close")},m=_=>_.title.trim()===""&&_.content.trim()===""&&!_.image&&!_.voiceMemo&&(_.type!=="todo"||_.items&&_.items.every(p=>p.text.trim()==="")),C=()=>{t("update",o),l.value=!1},w=()=>{n.dialog({title:"Confirm",message:"Are you sure you want to delete this note?",cancel:!0,persistent:!0}).onOk(()=>{t("delete",o.id),l.value=!1})},B=()=>{o.type==="todo"&&o.items.push({id:Date.now(),text:"",completed:!1})},F=(_,p)=>{o.type==="todo"&&(o.items[_].text=p)},$=()=>{r.value.click()},E=_=>{const p=_.target.files[0];if(p){const c=new FileReader;c.onload=u=>{o.image=u.target.result},c.readAsDataURL(p)}},q=()=>{o.image=null},H=()=>{a.value=!0},j=_=>{o.image=_,a.value=!1},Q=async()=>{if(i.value)R();else try{const _=await navigator.mediaDevices.getUserMedia({audio:!0});h.value=new MediaRecorder(_),h.value.ondataavailable=p=>{b.value.push(p.data)},h.value.onstop=()=>{const p=new Blob(b.value,{type:"audio/webm"});o.voiceMemo=URL.createObjectURL(p),b.value=[]},h.value.start(),i.value=!0}catch(_){console.error("Error accessing microphone:",_),n.notify({color:"negative",message:"Error accessing microphone. Please check your permissions."})}},R=()=>{h.value&&h.value.state!=="inactive"&&(h.value.stop(),i.value=!1)};return ye(()=>{window.addEventListener("beforeunload",R)}),We(()=>{window.removeEventListener("beforeunload",R),R()}),{showModal:l,editedNote:o,fileInput:r,showCamera:a,recording:i,closeModal:g,saveNote:C,deleteNote:w,addTodoItem:B,updateTodoItem:F,triggerFileInput:$,handleFileUpload:E,removeImage:q,openCamera:H,handleCameraCapture:j,toggleRecording:Q}}},Nl={class:"text-h6"},Il={key:2,class:"q-mt-md"},Pl={class:"absolute-top-right"},$l={key:3,class:"q-mt-md"},Ol=["src"];function Ll(e,t,n,l,o,r){const a=Ve("camera-preview");return D(),oe(vt,{modelValue:l.showModal,"onUpdate:modelValue":t[5]||(t[5]=i=>l.showModal=i),onHide:l.closeModal,maximized:"","transition-show":"slide-up","transition-hide":"slide-down"},{default:z(()=>[V(Ne,{class:"column full-height"},{default:z(()=>[V(se,{class:"row items-center q-pb-none"},{default:z(()=>[X("div",Nl,ce(l.editedNote.title||"Untitled"),1),V(el),wt(V(te,{icon:"close",flat:"",round:"",dense:""},null,512),[[Nt]])]),_:1}),V(se,{class:"q-pa-sm flex-grow-1 overflow-auto"},{default:z(()=>[V(Be,{modelValue:l.editedNote.title,"onUpdate:modelValue":t[0]||(t[0]=i=>l.editedNote.title=i),label:"Title",dense:"",autofocus:"",class:"q-mb-md"},null,8,["modelValue"]),l.editedNote.type==="todo"?(D(),Y(Ee,{key:0},[(D(!0),Y(Ee,null,Ze(l.editedNote.items,(i,h)=>(D(),Y("div",{key:i.id,class:"q-mb-sm"},[V(rl,{modelValue:i.completed,"onUpdate:modelValue":[b=>i.completed=b,b=>l.updateTodoItem(h,i.text)],label:i.text},null,8,["modelValue","onUpdate:modelValue","label"]),V(Be,{modelValue:i.text,"onUpdate:modelValue":[b=>i.text=b,b=>l.updateTodoItem(h,b)],dense:"",class:"q-ml-lg"},null,8,["modelValue","onUpdate:modelValue"])]))),128)),V(te,{label:"Add Item",icon:"add",color:"primary",onClick:l.addTodoItem,class:"q-mt-sm"},null,8,["onClick"])],64)):(D(),oe(Be,{key:1,modelValue:l.editedNote.content,"onUpdate:modelValue":t[1]||(t[1]=i=>l.editedNote.content=i),type:"textarea",label:"Content",autogrow:""},null,8,["modelValue"])),l.editedNote.image?(D(),Y("div",Il,[V(je,{src:l.editedNote.image,"spinner-color":"primary",style:{"max-height":"600px"}},{default:z(()=>[X("div",Pl,[V(te,{round:"",color:"negative",icon:"delete",size:"sm",onClick:l.removeImage},null,8,["onClick"])])]),_:1},8,["src"])])):re("",!0),l.editedNote.voiceMemo?(D(),Y("div",$l,[X("audio",{src:l.editedNote.voiceMemo,controls:"",class:"full-width"},null,8,Ol)])):re("",!0)]),_:1}),V(Mt,{position:"bottom-left"},{default:z(()=>[V(te,{flat:"",color:"negative",label:"Delete",onClick:l.deleteNote},null,8,["onClick"]),V(te,{flat:"",color:"primary",label:"Save",onClick:l.saveNote},null,8,["onClick"])]),_:1}),V(gl,{position:"bottom-right",offset:[18,18]},{default:z(()=>[V(fl,{icon:"add",direction:"up",color:"primary"},{default:z(()=>[V(Le,{color:"primary",icon:"attach_file",onClick:l.triggerFileInput},null,8,["onClick"]),V(Le,{color:"primary",icon:"photo_camera",onClick:l.openCamera},null,8,["onClick"]),V(Le,{color:"primary",icon:l.recording?"stop":"mic",onClick:l.toggleRecording},null,8,["icon","onClick"])]),_:1})]),_:1})]),_:1}),X("input",{type:"file",ref:"fileInput",accept:"image/*",style:{display:"none"},onChange:t[2]||(t[2]=(...i)=>l.handleFileUpload&&l.handleFileUpload(...i))},null,544),V(vt,{modelValue:l.showCamera,"onUpdate:modelValue":t[4]||(t[4]=i=>l.showCamera=i)},{default:z(()=>[V(a,{onCapture:l.handleCameraCapture,onClose:t[3]||(t[3]=i=>l.showCamera=!1)},null,8,["onCapture"])]),_:1},8,["modelValue"])]),_:1},8,["modelValue","onHide"])}const Dl=_e(Rl,[["render",Ll],["__scopeId","data-v-d2ac1886"]]),zl={name:"QuickCreateArea",emits:["create-note"],setup(e,{emit:t}){const n=M(!1),l=Vt();return{expanded:n,expandArea:()=>{n.value=!0},createNote:async a=>{const i={title:"",content:"",type:a,...a==="todo"?{items:[]}:{}};await l.addNote(i),t("create-note",i),n.value=!1}}}},jl=e=>(vn("data-v-6037507c"),e=e(),mn(),e),Ql={key:0,class:"row items-center"},Ul=jl(()=>X("div",{class:"text-primary q-ml-sm"},"Click to create...",-1)),Hl={key:1,class:"column q-gutter-y-sm"};function Kl(e,t,n,l,o,r){return D(),oe(Ne,{class:"quick-create-area cursor-pointer",onClick:l.expandArea},{default:z(()=>[V(se,null,{default:z(()=>[l.expanded?(D(),Y("div",Hl,[V(te,{flat:"",color:"primary",icon:"note_add",label:"Create a new note",onClick:t[0]||(t[0]=a=>l.createNote("note"))}),V(te,{flat:"",color:"primary",icon:"checklist",label:"Create a to-do list",onClick:t[1]||(t[1]=a=>l.createNote("todo"))})])):(D(),Y("div",Ql,[V(ue,{name:"add",size:"sm",color:"primary"}),Ul]))]),_:1})]),_:1},8,["onClick"])}const Zl=_e(zl,[["render",Kl],["__scopeId","data-v-6037507c"]]),Wl={name:"NotesPage",components:{NoteCard:Jn,NoteModal:Dl,QuickCreateArea:Zl},setup(){const e=Vt(),t=M(""),n=M(null),l=M("grid"),o=d(()=>e.notes.filter(g=>g.title.toLowerCase().includes(t.value.toLowerCase())||g.content.toLowerCase().includes(t.value.toLowerCase()))),r=async g=>{const m={title:"",content:"",type:g,...g==="todo"?{items:[]}:{}};await e.addNote(m),n.value=m},a=async g=>{await e.updateNote(g.id,g),n.value=null},i=async g=>{await e.deleteNote(g),n.value=null},h=g=>{n.value=g},b=()=>{n.value=null};return ye(()=>{e.fetchNotes()}),{searchTerm:t,selectedNote:n,viewType:l,filteredNotes:o,createNote:r,updateNote:a,deleteNote:i,openNoteModal:h,closeNoteModal:b}}},Gl={class:"row q-col-gutter-md"},Yl={class:"col-12"},Jl={class:"col-12"},Xl={class:"col-12"};function eo(e,t,n,l,o,r){const a=Ve("quick-create-area"),i=Ve("note-card"),h=Ve("note-modal");return D(),oe(gn,{padding:""},{default:z(()=>[X("div",Gl,[X("div",Yl,[V(Be,{modelValue:l.searchTerm,"onUpdate:modelValue":t[0]||(t[0]=b=>l.searchTerm=b),filled:"",type:"search",label:"Search notes"},{prepend:z(()=>[V(ue,{name:"search"})]),_:1},8,["modelValue"])]),X("div",Jl,[V(On,{modelValue:l.viewType,"onUpdate:modelValue":t[1]||(t[1]=b=>l.viewType=b),spread:"","no-caps":"","toggle-color":"primary",color:"white","text-color":"primary",options:[{label:"Grid",value:"grid",icon:"grid_view"},{label:"List",value:"list",icon:"view_list"}]},null,8,["modelValue"])]),X("div",Xl,[V(a,{onCreateNote:l.createNote},null,8,["onCreateNote"])]),(D(!0),Y(Ee,null,Ze(l.filteredNotes,b=>(D(),Y("div",{key:b.id,class:he({"col-12":l.viewType==="list","col-12 col-md-6 col-lg-4":l.viewType==="grid"})},[V(i,{note:b,"is-list-view":l.viewType==="list",onClick:g=>l.openNoteModal(b)},null,8,["note","is-list-view","onClick"])],2))),128))]),l.selectedNote?(D(),oe(h,{key:0,note:l.selectedNote,onClose:l.closeNoteModal,onUpdate:l.updateNote,onDelete:l.deleteNote},null,8,["note","onClose","onUpdate","onDelete"])):re("",!0)]),_:1})}const no=_e(Wl,[["render",eo]]);export{no as default};
