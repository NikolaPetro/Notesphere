import{i as Pe,f as kt,w as H,o as me,a as ue,g as le,r as V,c as p,d as Ct,b as Ne,e as _t,s as xt,n as ne,h as lt,j as St,k as qt,l as k,p as ge,u as nt,m as at,Q as be,q as ot,t as ee,T as Se,v as Bt,x as Oe,y as te,z as je,A as Mt,B as ae,C as it,D as Vt,_ as Be,E as Et,F as Y,G as oe,H as Z,I as he,J as L,K as ce,L as de,M as rt,N as A,O as st,P as Rt,R as Ft,S as $t,U as At,V as Tt,W as _e,X as De,Y as Pt,Z as Nt,$ as Ot,a0 as ut,a1 as Dt,a2 as It,a3 as Lt,a4 as jt,a5 as zt,a6 as Ut,a7 as Qt,a8 as Ht,a9 as Kt,aa as ct,ab as Zt,ac as Wt,ad as Gt,ae as Yt,af as Jt}from"./index-xUWar8Yt.js";function Xt({validate:e,resetValidation:t,requiresQForm:l}){const n=Pe(kt,!1);if(n!==!1){const{props:u,proxy:i}=le();Object.assign(i,{validate:e,resetValidation:t}),H(()=>u.disable,a=>{a===!0?(typeof t=="function"&&t(),n.unbindComponent(i)):n.bindComponent(i)}),me(()=>{u.disable!==!0&&n.bindComponent(i)}),ue(()=>{u.disable!==!0&&n.unbindComponent(i)})}else l===!0&&console.error("Parent QForm not found on useFormChild()!")}const ze=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Ue=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Qe=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,ye=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,we=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Ee={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>ze.test(e),hexaColor:e=>Ue.test(e),hexOrHexaColor:e=>Qe.test(e),rgbColor:e=>ye.test(e),rgbaColor:e=>we.test(e),rgbOrRgbaColor:e=>ye.test(e)||we.test(e),hexOrRgbColor:e=>ze.test(e)||ye.test(e),hexaOrRgbaColor:e=>Ue.test(e)||we.test(e),anyColor:e=>Qe.test(e)||ye.test(e)||we.test(e)},el=[!0,!1,"ondemand"],tl={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>el.includes(e)}};function ll(e,t){const{props:l,proxy:n}=le(),u=V(!1),i=V(null),a=V(null);Xt({validate:N,resetValidation:C});let v=0,h;const w=p(()=>l.rules!==void 0&&l.rules!==null&&l.rules.length!==0),g=p(()=>l.disable!==!0&&w.value===!0),f=p(()=>l.error===!0||u.value===!0),_=p(()=>typeof l.errorMessage=="string"&&l.errorMessage.length!==0?l.errorMessage:i.value);H(()=>l.modelValue,()=>{I()}),H(()=>l.reactiveRules,E=>{E===!0?h===void 0&&(h=H(()=>l.rules,()=>{I(!0)})):h!==void 0&&(h(),h=void 0)},{immediate:!0}),H(e,E=>{E===!0?a.value===null&&(a.value=!1):a.value===!1&&(a.value=!0,g.value===!0&&l.lazyRules!=="ondemand"&&t.value===!1&&D())});function C(){v++,t.value=!1,a.value=null,u.value=!1,i.value=null,D.cancel()}function N(E=l.modelValue){if(g.value!==!0)return!0;const T=++v,W=t.value!==!0?()=>{a.value=!0}:()=>{},U=(R,y)=>{R===!0&&W(),u.value=R,i.value=y||null,t.value=!1},Q=[];for(let R=0;R<l.rules.length;R++){const y=l.rules[R];let m;if(typeof y=="function"?m=y(E,Ee):typeof y=="string"&&Ee[y]!==void 0&&(m=Ee[y](E)),m===!1||typeof m=="string")return U(!0,m),!1;m!==!0&&m!==void 0&&Q.push(m)}return Q.length===0?(U(!1),!0):(t.value=!0,Promise.all(Q).then(R=>{if(R===void 0||Array.isArray(R)===!1||R.length===0)return T===v&&U(!1),!0;const y=R.find(m=>m===!1||typeof m=="string");return T===v&&U(y!==void 0,y),y===void 0},R=>(T===v&&(console.error(R),U(!0)),!1)))}function I(E){g.value===!0&&l.lazyRules!=="ondemand"&&(a.value===!0||l.lazyRules!==!0&&E!==!0)&&D()}const D=Ct(N,0);return ue(()=>{h!==void 0&&h(),D.cancel()}),Object.assign(n,{resetValidation:C,validate:N}),Ne(n,"hasError",()=>f.value),{isDirtyModel:a,hasRules:w,hasError:f,errorMessage:_,validate:N,resetValidation:C}}const He=/^on[A-Z]/;function nl(e,t){const l={listeners:V({}),attributes:V({})};function n(){const u={},i={};for(const a in e)a!=="class"&&a!=="style"&&He.test(a)===!1&&(u[a]=e[a]);for(const a in t.props)He.test(a)===!0&&(i[a]=t.props[a]);l.attributes.value=u,l.listeners.value=i}return _t(n),n(),l}let Re,ke=0;const K=new Array(256);for(let e=0;e<256;e++)K[e]=(e+256).toString(16).substring(1);const al=(()=>{const e=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const l=new Uint8Array(t);return e.getRandomValues(l),l}}return t=>{const l=[];for(let n=t;n>0;n--)l.push(Math.floor(Math.random()*256));return l}})(),Ke=4096;function dt(){(Re===void 0||ke+16>Ke)&&(ke=0,Re=al(Ke));const e=Array.prototype.slice.call(Re,ke,ke+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,K[e[0]]+K[e[1]]+K[e[2]]+K[e[3]]+"-"+K[e[4]]+K[e[5]]+"-"+K[e[6]]+K[e[7]]+"-"+K[e[8]]+K[e[9]]+"-"+K[e[10]]+K[e[11]]+K[e[12]]+K[e[13]]+K[e[14]]+K[e[15]]}let ie=[],pe=[];function ft(e){pe=pe.filter(t=>t!==e)}function ol(e){ft(e),pe.push(e)}function Ze(e){ft(e),pe.length===0&&ie.length!==0&&(ie[ie.length-1](),ie=[])}function Ie(e){pe.length===0?e():ie.push(e)}function il(e){ie=ie.filter(t=>t!==e)}function vt(e,t){return e===void 0?t===!0?`f_${dt()}`:void 0:e}function $e(e){return e!=null&&(""+e).length!==0}const rl={...nt,...tl,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},sl=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function ul({requiredForAttr:e=!0,tagProp:t}={}){const{props:l,attrs:n,proxy:u,vnode:i}=le(),a=at(l,u.$q);return{requiredForAttr:e,tag:t===!0?p(()=>l.tag):{value:"label"},isDark:a,editable:p(()=>l.disable!==!0&&l.readonly!==!0),innerLoading:V(!1),focused:V(!1),hasPopupOpen:!1,splitAttrs:nl(n,i),targetUid:V(vt(l.for,e)),rootRef:V(null),targetRef:V(null),controlRef:V(null)}}function cl(e){const{props:t,emit:l,slots:n,attrs:u,proxy:i}=le(),{$q:a}=i;let v=null;e.hasValue===void 0&&(e.hasValue=p(()=>$e(t.modelValue))),e.emitValue===void 0&&(e.emitValue=s=>{l("update:modelValue",s)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:o,onFocusout:r}),Object.assign(e,{clearValue:b,onControlFocusin:o,onControlFocusout:r,focus:y}),e.computedCounter===void 0&&(e.computedCounter=p(()=>{if(t.counter!==!1){const s=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,B=t.maxlength!==void 0?t.maxlength:t.maxValues;return s+(B!==void 0?" / "+B:"")}}));const{isDirtyModel:h,hasRules:w,hasError:g,errorMessage:f,resetValidation:_}=ll(e.focused,e.innerLoading),C=e.floatingLabel!==void 0?p(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):p(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),N=p(()=>t.bottomSlots===!0||t.hint!==void 0||w.value===!0||t.counter===!0||t.error!==null),I=p(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),D=p(()=>`q-field row no-wrap items-start q-field--${I.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(C.value===!0?" q-field--float":"")+(T.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(g.value===!0?" q-field--error":"")+(g.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&N.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),E=p(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(g.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),T=p(()=>t.labelSlot===!0||t.label!==void 0),W=p(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&g.value!==!0?` text-${t.labelColor}`:"")),U=p(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:C.value,modelValue:t.modelValue,emitValue:e.emitValue})),Q=p(()=>{const s={for:e.targetUid.value};return t.disable===!0?s["aria-disabled"]="true":t.readonly===!0&&(s["aria-readonly"]="true"),s});H(()=>t.for,s=>{e.targetUid.value=vt(s,e.requiredForAttr)});function R(){const s=document.activeElement;let B=e.targetRef!==void 0&&e.targetRef.value;B&&(s===null||s.id!==e.targetUid.value)&&(B.hasAttribute("tabindex")===!0||(B=B.querySelector("[tabindex]")),B&&B!==s&&B.focus({preventScroll:!0}))}function y(){Ie(R)}function m(){il(R);const s=document.activeElement;s!==null&&e.rootRef.value.contains(s)&&s.blur()}function o(s){v!==null&&(clearTimeout(v),v=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,l("focus",s))}function r(s,B){v!==null&&clearTimeout(v),v=setTimeout(()=>{v=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,l("blur",s)),B!==void 0&&B())})}function b(s){xt(s),a.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),l("update:modelValue",null),l("clear",t.modelValue),ne(()=>{_(),a.platform.is.mobile!==!0&&(h.value=!1)})}function d(){const s=[];return n.prepend!==void 0&&s.push(k("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:ge},n.prepend())),s.push(k("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},M())),g.value===!0&&t.noErrorIcon===!1&&s.push(P("error",[k(be,{name:a.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?s.push(P("inner-loading-append",n.loading!==void 0?n.loading():[k(ot,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&s.push(P("inner-clearable-append",[k(be,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||a.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:b})])),n.append!==void 0&&s.push(k("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:ge},n.append())),e.getInnerAppend!==void 0&&s.push(P("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&s.push(e.getControlChild()),s}function M(){const s=[];return t.prefix!==void 0&&t.prefix!==null&&s.push(k("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&s.push(e.getShadowControl()),e.getControl!==void 0?s.push(e.getControl()):n.rawControl!==void 0?s.push(n.rawControl()):n.control!==void 0&&s.push(k("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},n.control(U.value))),T.value===!0&&s.push(k("div",{class:W.value},ee(n.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&s.push(k("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),s.concat(ee(n.default))}function q(){let s,B;g.value===!0?f.value!==null?(s=[k("div",{role:"alert"},f.value)],B=`q--slot-error-${f.value}`):(s=ee(n.error),B="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(s=[k("div",t.hint)],B=`q--slot-hint-${t.hint}`):(s=ee(n.hint),B="q--slot-hint"));const G=t.counter===!0||n.counter!==void 0;if(t.hideBottomSpace===!0&&G===!1&&s===void 0)return;const F=k("div",{key:B,class:"q-field__messages col"},s);return k("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:ge},[t.hideBottomSpace===!0?F:k(Se,{name:"q-transition--field-message"},()=>F),G===!0?k("div",{class:"q-field__counter"},n.counter!==void 0?n.counter():e.computedCounter.value):null])}function P(s,B){return B===null?null:k("div",{key:s,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},B)}let S=!1;return lt(()=>{S=!0}),St(()=>{S===!0&&t.autofocus===!0&&i.focus()}),me(()=>{qt.value===!0&&e.requiredForAttr===!0&&t.for===void 0&&(e.targetUid.value=`f_${dt()}`),t.autofocus===!0&&i.focus()}),ue(()=>{v!==null&&clearTimeout(v)}),Object.assign(i,{focus:y,blur:m}),function(){const B=e.getControl===void 0&&n.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...Q.value}:Q.value;return k(e.tag.value,{ref:e.rootRef,class:[D.value,u.class],style:u.style,...B},[n.before!==void 0?k("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:ge},n.before()):null,k("div",{class:"q-field__inner relative-position col self-stretch"},[k("div",{ref:e.controlRef,class:E.value,tabindex:-1,...e.controlEvents},d()),N.value===!0?q():null]),n.after!==void 0?k("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:ge},n.after()):null])}}const We={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},qe={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},mt=Object.keys(qe);mt.forEach(e=>{qe[e].regex=new RegExp(qe[e].pattern)});const dl=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+mt.join("")+"])|(.)","g"),Ge=/[.*+?^${}()|[\]\\]/g,z="",fl={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function vl(e,t,l,n){let u,i,a,v,h,w;const g=V(null),f=V(C());function _(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}H(()=>e.type+e.autogrow,I),H(()=>e.mask,o=>{if(o!==void 0)D(f.value,!0);else{const r=y(f.value);I(),e.modelValue!==r&&t("update:modelValue",r)}}),H(()=>e.fillMask+e.reverseFillMask,()=>{g.value===!0&&D(f.value,!0)}),H(()=>e.unmaskedValue,()=>{g.value===!0&&D(f.value)});function C(){if(I(),g.value===!0){const o=Q(y(e.modelValue));return e.fillMask!==!1?m(o):o}return e.modelValue}function N(o){if(o<u.length)return u.slice(-o);let r="",b=u;const d=b.indexOf(z);if(d>-1){for(let M=o-b.length;M>0;M--)r+=z;b=b.slice(0,d)+r+b.slice(d)}return b}function I(){if(g.value=e.mask!==void 0&&e.mask.length!==0&&_(),g.value===!1){v=void 0,u="",i="";return}const o=We[e.mask]===void 0?e.mask:We[e.mask],r=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",b=r.replace(Ge,"\\$&"),d=[],M=[],q=[];let P=e.reverseFillMask===!0,S="",s="";o.replace(dl,(j,c,O,J,x)=>{if(J!==void 0){const $=qe[J];q.push($),s=$.negate,P===!0&&(M.push("(?:"+s+"+)?("+$.pattern+"+)?(?:"+s+"+)?("+$.pattern+"+)?"),P=!1),M.push("(?:"+s+"+)?("+$.pattern+")?")}else if(O!==void 0)S="\\"+(O==="\\"?"":O),q.push(O),d.push("([^"+S+"]+)?"+S+"?");else{const $=c!==void 0?c:x;S=$==="\\"?"\\\\\\\\":$.replace(Ge,"\\\\$&"),q.push($),d.push("([^"+S+"]+)?"+S+"?")}});const B=new RegExp("^"+d.join("")+"("+(S===""?".":"[^"+S+"]")+"+)?"+(S===""?"":"["+S+"]*")+"$"),G=M.length-1,F=M.map((j,c)=>c===0&&e.reverseFillMask===!0?new RegExp("^"+b+"*"+j):c===G?new RegExp("^"+j+"("+(s===""?".":s)+"+)?"+(e.reverseFillMask===!0?"$":b+"*")):new RegExp("^"+j));a=q,v=j=>{const c=B.exec(e.reverseFillMask===!0?j:j.slice(0,q.length+1));c!==null&&(j=c.slice(1).join(""));const O=[],J=F.length;for(let x=0,$=j;x<J;x++){const X=F[x].exec($);if(X===null)break;$=$.slice(X.shift().length),O.push(...X)}return O.length!==0?O.join(""):j},u=q.map(j=>typeof j=="string"?j:z).join(""),i=u.split(z).join(r)}function D(o,r,b){const d=n.value,M=d.selectionEnd,q=d.value.length-M,P=y(o);r===!0&&I();const S=Q(P),s=e.fillMask!==!1?m(S):S,B=f.value!==s;d.value!==s&&(d.value=s),B===!0&&(f.value=s),document.activeElement===d&&ne(()=>{if(s===i){const F=e.reverseFillMask===!0?i.length:0;d.setSelectionRange(F,F,"forward");return}if(b==="insertFromPaste"&&e.reverseFillMask!==!0){const F=d.selectionEnd;let j=M-1;for(let c=h;c<=j&&c<F;c++)u[c]!==z&&j++;T.right(d,j);return}if(["deleteContentBackward","deleteContentForward"].indexOf(b)>-1){const F=e.reverseFillMask===!0?M===0?s.length>S.length?1:0:Math.max(0,s.length-(s===i?0:Math.min(S.length,q)+1))+1:M;d.setSelectionRange(F,F,"forward");return}if(e.reverseFillMask===!0)if(B===!0){const F=Math.max(0,s.length-(s===i?0:Math.min(S.length,q+1)));F===1&&M===1?d.setSelectionRange(F,F,"forward"):T.rightReverse(d,F)}else{const F=s.length-q;d.setSelectionRange(F,F,"backward")}else if(B===!0){const F=Math.max(0,u.indexOf(z),Math.min(S.length,M)-1);T.right(d,F)}else{const F=M-1;T.right(d,F)}});const G=e.unmaskedValue===!0?y(s):s;String(e.modelValue)!==G&&(e.modelValue!==null||G!=="")&&l(G,!0)}function E(o,r,b){const d=Q(y(o.value));r=Math.max(0,u.indexOf(z),Math.min(d.length,r)),h=r,o.setSelectionRange(r,b,"forward")}const T={left(o,r){const b=u.slice(r-1).indexOf(z)===-1;let d=Math.max(0,r-1);for(;d>=0;d--)if(u[d]===z){r=d,b===!0&&r++;break}if(d<0&&u[r]!==void 0&&u[r]!==z)return T.right(o,0);r>=0&&o.setSelectionRange(r,r,"backward")},right(o,r){const b=o.value.length;let d=Math.min(b,r+1);for(;d<=b;d++)if(u[d]===z){r=d;break}else u[d-1]===z&&(r=d);if(d>b&&u[r-1]!==void 0&&u[r-1]!==z)return T.left(o,b);o.setSelectionRange(r,r,"forward")},leftReverse(o,r){const b=N(o.value.length);let d=Math.max(0,r-1);for(;d>=0;d--)if(b[d-1]===z){r=d;break}else if(b[d]===z&&(r=d,d===0))break;if(d<0&&b[r]!==void 0&&b[r]!==z)return T.rightReverse(o,0);r>=0&&o.setSelectionRange(r,r,"backward")},rightReverse(o,r){const b=o.value.length,d=N(b),M=d.slice(0,r+1).indexOf(z)===-1;let q=Math.min(b,r+1);for(;q<=b;q++)if(d[q-1]===z){r=q,r>0&&M===!0&&r--;break}if(q>b&&d[r-1]!==void 0&&d[r-1]!==z)return T.leftReverse(o,b);o.setSelectionRange(r,r,"forward")}};function W(o){t("click",o),w=void 0}function U(o){if(t("keydown",o),Bt(o)===!0||o.altKey===!0)return;const r=n.value,b=r.selectionStart,d=r.selectionEnd;if(o.shiftKey||(w=void 0),o.keyCode===37||o.keyCode===39){o.shiftKey&&w===void 0&&(w=r.selectionDirection==="forward"?b:d);const M=T[(o.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(o.preventDefault(),M(r,w===b?d:b),o.shiftKey){const q=r.selectionStart;r.setSelectionRange(Math.min(w,q),Math.max(w,q),"forward")}}else o.keyCode===8&&e.reverseFillMask!==!0&&b===d?(T.left(r,b),r.setSelectionRange(r.selectionStart,d,"backward")):o.keyCode===46&&e.reverseFillMask===!0&&b===d&&(T.rightReverse(r,d),r.setSelectionRange(b,r.selectionEnd,"forward"))}function Q(o){if(o==null||o==="")return"";if(e.reverseFillMask===!0)return R(o);const r=a;let b=0,d="";for(let M=0;M<r.length;M++){const q=o[b],P=r[M];if(typeof P=="string")d+=P,q===P&&b++;else if(q!==void 0&&P.regex.test(q))d+=P.transform!==void 0?P.transform(q):q,b++;else return d}return d}function R(o){const r=a,b=u.indexOf(z);let d=o.length-1,M="";for(let q=r.length-1;q>=0&&d>-1;q--){const P=r[q];let S=o[d];if(typeof P=="string")M=P+M,S===P&&d--;else if(S!==void 0&&P.regex.test(S))do M=(P.transform!==void 0?P.transform(S):S)+M,d--,S=o[d];while(b===q&&S!==void 0&&P.regex.test(S));else return M}return M}function y(o){return typeof o!="string"||v===void 0?typeof o=="number"?v(""+o):o:v(o)}function m(o){return i.length-o.length<=0?o:e.reverseFillMask===!0&&o.length!==0?i.slice(0,-o.length)+o:o+i.slice(o.length)}return{innerValue:f,hasMask:g,moveCursorForPaste:E,updateMaskValue:D,onMaskedKeydown:U,onMaskedClick:W}}const gt={name:String};function ml(e={}){return(t,l,n)=>{t[l](k("input",{class:"hidden"+(n||""),...e.value}))}}function gl(e){return p(()=>e.name||e.for)}function hl(e,t){function l(){const n=e.modelValue;try{const u="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(n)===n&&("length"in n?Array.from(n):[n]).forEach(i=>{u.items.add(i)}),{files:u.files}}catch{return{files:void 0}}}return t===!0?p(()=>{if(e.type==="file")return l()}):p(l)}const bl=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,pl=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,yl=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,wl=/[a-z0-9_ -]$/i;function kl(e){return function(l){if(l.type==="compositionend"||l.type==="change"){if(l.target.qComposing!==!0)return;l.target.qComposing=!1,e(l)}else l.type==="compositionupdate"&&l.target.qComposing!==!0&&typeof l.data=="string"&&(Oe.is.firefox===!0?wl.test(l.data)===!1:bl.test(l.data)===!0||pl.test(l.data)===!0||yl.test(l.data)===!0)===!0&&(l.target.qComposing=!0)}}const Ae=te({name:"QInput",inheritAttrs:!1,props:{...rl,...fl,...gt,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...sl,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:l}){const{proxy:n}=le(),{$q:u}=n,i={};let a=NaN,v,h,w=null,g;const f=V(null),_=gl(e),{innerValue:C,hasMask:N,moveCursorForPaste:I,updateMaskValue:D,onMaskedKeydown:E,onMaskedClick:T}=vl(e,t,S,f),W=hl(e,!0),U=p(()=>$e(C.value)),Q=kl(q),R=ul(),y=p(()=>e.type==="textarea"||e.autogrow===!0),m=p(()=>y.value===!0||["text","search","url","tel","password"].includes(e.type)),o=p(()=>{const c={...R.splitAttrs.listeners.value,onInput:q,onPaste:M,onChange:B,onBlur:G,onFocus:je};return c.onCompositionstart=c.onCompositionupdate=c.onCompositionend=Q,N.value===!0&&(c.onKeydown=E,c.onClick=T),e.autogrow===!0&&(c.onAnimationend=P),c}),r=p(()=>{const c={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:_.value,...R.splitAttrs.attributes.value,id:R.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return y.value===!1&&(c.type=e.type),e.autogrow===!0&&(c.rows=1),c});H(()=>e.type,()=>{f.value&&(f.value.value=e.modelValue)}),H(()=>e.modelValue,c=>{if(N.value===!0){if(h===!0&&(h=!1,String(c)===a))return;D(c)}else C.value!==c&&(C.value=c,e.type==="number"&&i.hasOwnProperty("value")===!0&&(v===!0?v=!1:delete i.value));e.autogrow===!0&&ne(s)}),H(()=>e.autogrow,c=>{c===!0?ne(s):f.value!==null&&l.rows>0&&(f.value.style.height="auto")}),H(()=>e.dense,()=>{e.autogrow===!0&&ne(s)});function b(){Ie(()=>{const c=document.activeElement;f.value!==null&&f.value!==c&&(c===null||c.id!==R.targetUid.value)&&f.value.focus({preventScroll:!0})})}function d(){f.value!==null&&f.value.select()}function M(c){if(N.value===!0&&e.reverseFillMask!==!0){const O=c.target;I(O,O.selectionStart,O.selectionEnd)}t("paste",c)}function q(c){if(!c||!c.target)return;if(e.type==="file"){t("update:modelValue",c.target.files);return}const O=c.target.value;if(c.target.qComposing===!0){i.value=O;return}if(N.value===!0)D(O,!1,c.inputType);else if(S(O),m.value===!0&&c.target===document.activeElement){const{selectionStart:J,selectionEnd:x}=c.target;J!==void 0&&x!==void 0&&ne(()=>{c.target===document.activeElement&&O.indexOf(c.target.value)===0&&c.target.setSelectionRange(J,x)})}e.autogrow===!0&&s()}function P(c){t("animationend",c),s()}function S(c,O){g=()=>{w=null,e.type!=="number"&&i.hasOwnProperty("value")===!0&&delete i.value,e.modelValue!==c&&a!==c&&(a=c,O===!0&&(h=!0),t("update:modelValue",c),ne(()=>{a===c&&(a=NaN)})),g=void 0},e.type==="number"&&(v=!0,i.value=c),e.debounce!==void 0?(w!==null&&clearTimeout(w),i.value=c,w=setTimeout(g,e.debounce)):g()}function s(){requestAnimationFrame(()=>{const c=f.value;if(c!==null){const O=c.parentNode.style,{scrollTop:J}=c,{overflowY:x,maxHeight:$}=u.platform.is.firefox===!0?{}:window.getComputedStyle(c),X=x!==void 0&&x!=="scroll";X===!0&&(c.style.overflowY="hidden"),O.marginBottom=c.scrollHeight-1+"px",c.style.height="1px",c.style.height=c.scrollHeight+"px",X===!0&&(c.style.overflowY=parseInt($,10)<c.scrollHeight?"auto":"hidden"),O.marginBottom="",c.scrollTop=J}})}function B(c){Q(c),w!==null&&(clearTimeout(w),w=null),g!==void 0&&g(),t("change",c.target.value)}function G(c){c!==void 0&&je(c),w!==null&&(clearTimeout(w),w=null),g!==void 0&&g(),v=!1,h=!1,delete i.value,e.type!=="file"&&setTimeout(()=>{f.value!==null&&(f.value.value=C.value!==void 0?C.value:"")})}function F(){return i.hasOwnProperty("value")===!0?i.value:C.value!==void 0?C.value:""}ue(()=>{G()}),me(()=>{e.autogrow===!0&&s()}),Object.assign(R,{innerValue:C,fieldClass:p(()=>`q-${y.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:p(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:f,emitValue:S,hasValue:U,floatingLabel:p(()=>U.value===!0&&(e.type!=="number"||isNaN(C.value)===!1)||$e(e.displayValue)),getControl:()=>k(y.value===!0?"textarea":"input",{ref:f,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...r.value,...o.value,...e.type!=="file"?{value:F()}:W.value}),getShadowControl:()=>k("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(y.value===!0?"":" text-no-wrap")},[k("span",{class:"invisible"},F()),k("span",e.shadowText)])});const j=cl(R);return Object.assign(n,{focus:b,select:d,getNativeElement:()=>f.value}),Ne(n,"nativeEl",()=>f.value),j}}),Cl=te({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const l=p(()=>{const n=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(u=>e[u]===!0).map(u=>`q-btn-group--${u}`).join(" ");return`q-btn-group row no-wrap${n.length!==0?" "+n:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>k("div",{class:l.value},ee(t.default))}}),_l=te({name:"QBtnToggle",props:{...gt,modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(t=>("label"in t||"icon"in t||"slot"in t)&&"value"in t)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(e,{slots:t,emit:l}){const n=p(()=>e.options.find(_=>_.value===e.modelValue)!==void 0),u=p(()=>({type:"hidden",name:e.name,value:e.modelValue})),i=ml(u),a=p(()=>Mt(e)),v=p(()=>({rounded:e.rounded,dense:e.dense,...a.value})),h=p(()=>e.options.map((_,C)=>{const{attrs:N,value:I,slot:D,...E}=_;return{slot:D,props:{key:C,"aria-pressed":I===e.modelValue?"true":"false",...N,...E,...v.value,disable:e.disable===!0||E.disable===!0,color:I===e.modelValue?g(E,"toggleColor"):g(E,"color"),textColor:I===e.modelValue?g(E,"toggleTextColor"):g(E,"textColor"),noCaps:g(E,"noCaps")===!0,noWrap:g(E,"noWrap")===!0,size:g(E,"size"),padding:g(E,"padding"),ripple:g(E,"ripple"),stack:g(E,"stack")===!0,stretch:g(E,"stretch")===!0,onClick(T){w(I,_,T)}}}}));function w(_,C,N){e.readonly!==!0&&(e.modelValue===_?e.clearable===!0&&(l("update:modelValue",null,null),l("clear")):l("update:modelValue",_,C),l("click",N))}function g(_,C){return _[C]===void 0?e[C]:_[C]}function f(){const _=h.value.map(C=>k(ae,C.props,C.slot!==void 0?t[C.slot]:void 0));return e.name!==void 0&&e.disable!==!0&&n.value===!0&&i(_,"push"),it(t.default,_)}return()=>k(Cl,{class:"q-btn-toggle",...a.value,rounded:e.rounded,stretch:e.stretch,glossy:e.glossy,spread:e.spread},f)}}),fe=te({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const l=p(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>k(e.tag,{class:l.value},ee(t.default))}}),Me=te({name:"QCard",props:{...nt,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:l}}=le(),n=at(e,l),u=p(()=>"q-card"+(n.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>k(e.tag,{class:u.value},ee(t.default))}}),xl=Vt("notesStore",()=>{const e=V([]),t=async()=>{const a=await fetch("http://localhost:3000/notes");e.value=await a.json()};return{notes:e,fetchNotes:t,addNote:async a=>{const h=await(await fetch("http://localhost:3000/notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json();e.value.push(h)},updateNote:async(a,v)=>{await fetch(`http://localhost:3000/notes/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)}),await t()},deleteNote:async a=>{await fetch(`http://localhost:3000/notes/${a}`,{method:"DELETE"}),e.value=e.value.filter(v=>v.id!==a)},uploadImage:async a=>{const v=new FormData;v.append("image",a,`note-image-${Date.now()}.jpg`);try{const h=await fetch("http://localhost:3000/upload",{method:"POST",body:v});if(!h.ok)throw new Error("Failed to upload image");return(await h.json()).filePath}catch(h){return console.error("Error uploading image:",h),null}}}}),Sl={ratio:[String,Number]};function ql(e,t){return p(()=>{const l=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(l)!==!0&&l>0?{paddingBottom:`${100/l}%`}:null})}const Bl=16/9,Te=te({name:"QImg",props:{...Sl,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Bl},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:l}){const n=V(e.initialRatio),u=ql(e,n);let i=null,a=!1;const v=[V(null),V(D())],h=V(0),w=V(!1),g=V(!1),f=p(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),_=p(()=>({width:e.width,height:e.height})),C=p(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),N=p(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));H(()=>I(),E);function I(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function D(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function E(m){i!==null&&(clearTimeout(i),i=null),g.value=!1,m===null?(w.value=!1,v[h.value^1].value=D()):w.value=!0,v[h.value].value=m}function T({target:m}){a!==!0&&(i!==null&&(clearTimeout(i),i=null),n.value=m.naturalHeight===0?.5:m.naturalWidth/m.naturalHeight,W(m,1))}function W(m,o){a===!0||o===1e3||(m.complete===!0?U(m):i=setTimeout(()=>{i=null,W(m,o+1)},50))}function U(m){a!==!0&&(h.value=h.value^1,v[h.value].value=null,w.value=!1,g.value=!1,l("load",m.currentSrc||m.src))}function Q(m){i!==null&&(clearTimeout(i),i=null),w.value=!1,g.value=!0,v[h.value].value=null,v[h.value^1].value=D(),l("error",m)}function R(m){const o=v[m].value,r={key:"img_"+m,class:C.value,style:N.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...o};return h.value===m?(r.class+=" q-img__image--waiting",Object.assign(r,{onLoad:T,onError:Q})):r.class+=" q-img__image--loaded",k("div",{class:"q-img__container absolute-full",key:"img"+m},k("img",r))}function y(){return w.value!==!0?k("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},ee(t[g.value===!0?"error":"default"])):k("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[k(ot,{color:e.spinnerColor,size:e.spinnerSize})])}return E(I()),ue(()=>{a=!0,i!==null&&(clearTimeout(i),i=null)}),()=>{const m=[];return u.value!==null&&m.push(k("div",{key:"filler",style:u.value})),g.value!==!0&&(v[0].value!==null&&m.push(R(0)),v[1].value!==null&&m.push(R(1))),m.push(k(Se,{name:"q-transition--fade"},y)),k("div",{class:f.value,style:_.value,role:"img","aria-label":e.alt},m)}}}),Ml={key:0,class:"row items-center q-pa-md"},Vl={class:"col"},El={class:"text-h6"},Rl={class:"text-caption text-muted-foreground ellipsis"},Fl={class:"text-h6"},$l={class:"ellipsis"},Al={__name:"NoteCard",props:{note:Object,onClick:Function,isListView:Boolean},setup(e){return(t,l)=>{const n=Et("q-audio");return Y(),oe(Me,{onClick:e.onClick,class:st(["cursor-pointer hover-shadow-lg bg-card text-card-foreground",{"row items-center":e.isListView}])},{default:Z(()=>[e.isListView?(Y(),de("div",Ml,[L("div",Vl,[L("h3",El,he(e.note.title||"Untitled"),1),L("p",Rl,he(e.note.content),1)]),e.note.image?(Y(),oe(Te,{key:0,src:e.note.image||"/http://localhost:3000/public/images/daily-todo.jpg",alt:"Note image",class:"col-auto q-ml-md",style:{width:"48px",height:"58px","border-radius":"4px","object-fit":"cover"}},null,8,["src"])):ce("",!0)])):(Y(),de(rt,{key:1},[A(fe,null,{default:Z(()=>[L("div",Fl,he(e.note.title||"Untitled"),1)]),_:1}),A(fe,null,{default:Z(()=>[L("div",null,[L("p",$l,he(e.note.content),1),e.note.image?(Y(),oe(Te,{key:0,src:e.note.image||"/placeholder.svg",alt:"Note image",class:"q-mt-md",style:{width:"100%",height:"128px","border-radius":"4px","object-fit":"cover"}},null,8,["src"])):ce("",!0),e.note.voiceMemo?(Y(),oe(n,{key:1,src:e.note.voiceMemo,controls:"",class:"q-mt-md"},null,8,["src"])):ce("",!0)])]),_:1})],64))]),_:1},8,["onClick","class"])}}},Tl=Be(Al,[["__scopeId","data-v-65f4c2e9"]]),Pl=k("div",{class:"q-space"}),Nl=te({name:"QSpace",setup(){return()=>Pl}}),Ol=["top","right","bottom","left"],Dl={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:e=>Ol.includes(e)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function Il(e,t){return{formClass:p(()=>`q-fab--form-${e.square===!0?"square":"rounded"}`),stacked:p(()=>e.externalLabel===!1&&["top","bottom"].includes(e.labelPosition)),labelProps:p(()=>{if(e.externalLabel===!0){const l=e.hideLabel===null?t.value===!1:e.hideLabel;return{action:"push",data:{class:[e.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${e.labelPosition}`+(l===!0?" q-fab__label--external-hidden":"")],style:e.labelStyle}}}return{action:["left","top"].includes(e.labelPosition)?"unshift":"push",data:{class:[e.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${e.labelPosition}`+(e.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:e.labelStyle}}})}}const ht={start:"self-end",center:"self-center",end:"self-start"},Ll=Object.keys(ht),Fe=te({name:"QFabAction",props:{...Dl,icon:{type:String,default:""},anchor:{type:String,validator:e=>Ll.includes(e)},to:[String,Object],replace:Boolean},emits:["click"],setup(e,{slots:t,emit:l}){const n=Pe(Ft,()=>({showing:{value:!0},onChildClick:Rt})),{formClass:u,labelProps:i}=Il(e,n.showing),a=p(()=>{const f=ht[e.anchor];return u.value+(f!==void 0?` ${f}`:"")}),v=p(()=>e.disable===!0||n.showing.value!==!0);function h(f){n.onChildClick(f),l("click",f)}function w(){const f=[];return t.icon!==void 0?f.push(t.icon()):e.icon!==""&&f.push(k(be,{name:e.icon})),(e.label!==""||t.label!==void 0)&&f[i.value.action](k("div",i.value.data,t.label!==void 0?t.label():[e.label])),it(t.default,f)}const g=le();return Object.assign(g.proxy,{click:h}),()=>k(ae,{class:a.value,...e,noWrap:!0,stack:e.stacked,icon:void 0,label:void 0,noCaps:!0,fabMini:!0,disable:v.value,onClick:h},w)}}),bt=te({name:"QCardActions",props:{...$t,vertical:Boolean},setup(e,{slots:t}){const l=At(e),n=p(()=>`q-card__actions ${l.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>k("div",{class:n.value},ee(t.default))}});function jl(){let e;const t=le();function l(){e=void 0}return lt(l),ue(l),{removeTick:l,registerTick(n){e=n,ne(()=>{e===n&&(Tt(t)===!1&&e(),e=void 0)})}}}const zl={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function Ul(e,t=()=>{},l=()=>{}){return{transitionProps:p(()=>{const n=`q-transition--${e.transitionShow||t()}`,u=`q-transition--${e.transitionHide||l()}`;return{appear:!0,enterFromClass:`${n}-enter-from`,enterActiveClass:`${n}-enter-active`,enterToClass:`${n}-enter-to`,leaveFromClass:`${u}-leave-from`,leaveActiveClass:`${u}-leave-active`,leaveToClass:`${u}-leave-to`}}),transitionStyle:p(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}const xe=[];function Ql(e){return xe.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function Hl(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return _e(e)}else if(e.__qPortal===!0){const l=_e(e);return l!==void 0&&l.$options.name==="QPopupProxy"?(e.hide(t),l):e}e=_e(e)}while(e!=null)}function Kl(e,t,l){for(;l!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(l--,e.$options.name==="QMenu"){e=Hl(e,t);continue}e.hide(t)}e=_e(e)}}function Zl(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function Wl(e,t,l,n){const u=V(!1),i=V(!1);let a=null;const v={},h=n==="dialog"&&Zl(e);function w(f){if(f===!0){Ze(v),i.value=!0;return}i.value=!1,u.value===!1&&(h===!1&&a===null&&(a=Nt(!1,n)),u.value=!0,xe.push(e.proxy),ol(v))}function g(f){if(i.value=!1,f!==!0)return;Ze(v),u.value=!1;const _=xe.indexOf(e.proxy);_!==-1&&xe.splice(_,1),a!==null&&(Ot(a),a=null)}return De(()=>{g(!0)}),e.proxy.__qPortal=!0,Ne(e.proxy,"contentEl",()=>t.value),{showPortal:w,hidePortal:g,portalIsActive:u,portalIsAccessible:i,renderPortal:()=>h===!0?l():u.value===!0?[k(Pt,{to:a},l())]:void 0}}const re=[];let ve;function Gl(e){ve=e.keyCode===27}function Yl(){ve===!0&&(ve=!1)}function Jl(e){ve===!0&&(ve=!1,ut(e,27)===!0&&re[re.length-1](e))}function pt(e){window[e]("keydown",Gl),window[e]("blur",Yl),window[e]("keyup",Jl),ve=!1}function Xl(e){Oe.is.desktop===!0&&(re.push(e),re.length===1&&pt("addEventListener"))}function Ye(e){const t=re.indexOf(e);t>-1&&(re.splice(t,1),re.length===0&&pt("removeEventListener"))}const se=[];function yt(e){se[se.length-1](e)}function en(e){Oe.is.desktop===!0&&(se.push(e),se.length===1&&document.body.addEventListener("focusin",yt))}function Je(e){const t=se.indexOf(e);t>-1&&(se.splice(t,1),se.length===0&&document.body.removeEventListener("focusin",yt))}let Ce=0;const tn={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Xe={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},et=te({name:"QDialog",inheritAttrs:!1,props:{...Dt,...zl,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...It,"shake","click","escapeKey"],setup(e,{slots:t,emit:l,attrs:n}){const u=le(),i=V(null),a=V(!1),v=V(!1);let h=null,w=null,g,f;const _=p(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:C}=Ut(),{registerTimeout:N}=Lt(),{registerTick:I,removeTick:D}=jl(),{transitionProps:E,transitionStyle:T}=Ul(e,()=>Xe[e.position][0],()=>Xe[e.position][1]),{showPortal:W,hidePortal:U,portalIsAccessible:Q,renderPortal:R}=Wl(u,i,J,"dialog"),{hide:y}=jt({showing:a,hideOnRouteChange:_,handleShow:q,handleHide:P,processOnMount:!0}),{addToHistory:m,removeFromHistory:o}=zt(a,y,_),r=p(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${tn[e.position]}`+(v.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),b=p(()=>a.value===!0&&e.seamless!==!0),d=p(()=>e.autoClose===!0?{onClick:j}:{}),M=p(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${b.value===!0?"modal":"seamless"}`,n.class]);H(()=>e.maximized,x=>{a.value===!0&&F(x)}),H(b,x=>{C(x),x===!0?(en(O),Xl(B)):(Je(O),Ye(B))});function q(x){m(),w=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,F(e.maximized),W(),v.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),I(S)):D(),N(()=>{if(u.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:$,bottom:X}=document.activeElement.getBoundingClientRect(),{innerHeight:Le}=window,Ve=window.visualViewport!==void 0?window.visualViewport.height:Le;$>0&&X>Ve/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-Ve,X>=Le?1/0:Math.ceil(document.scrollingElement.scrollTop+X-Ve/2))),document.activeElement.scrollIntoView()}f=!0,i.value.click(),f=!1}W(!0),v.value=!1,l("show",x)},e.transitionDuration)}function P(x){D(),o(),G(!0),v.value=!0,U(),w!==null&&(((x&&x.type.indexOf("key")===0?w.closest('[tabindex]:not([tabindex^="-"])'):void 0)||w).focus(),w=null),N(()=>{U(!0),v.value=!1,l("hide",x)},e.transitionDuration)}function S(x){Ie(()=>{let $=i.value;$===null||$.contains(document.activeElement)===!0||($=(x!==""?$.querySelector(x):null)||$.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||$.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||$.querySelector("[autofocus], [data-autofocus]")||$,$.focus({preventScroll:!0}))})}function s(x){x&&typeof x.focus=="function"?x.focus({preventScroll:!0}):S(),l("shake");const $=i.value;$!==null&&($.classList.remove("q-animate--scale"),$.classList.add("q-animate--scale"),h!==null&&clearTimeout(h),h=setTimeout(()=>{h=null,i.value!==null&&($.classList.remove("q-animate--scale"),S())},170))}function B(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&s():(l("escapeKey"),y()))}function G(x){h!==null&&(clearTimeout(h),h=null),(x===!0||a.value===!0)&&(F(!1),e.seamless!==!0&&(C(!1),Je(O),Ye(B))),x!==!0&&(w=null)}function F(x){x===!0?g!==!0&&(Ce<1&&document.body.classList.add("q-body--dialog"),Ce++,g=!0):g===!0&&(Ce<2&&document.body.classList.remove("q-body--dialog"),Ce--,g=!1)}function j(x){f!==!0&&(y(x),l("click",x))}function c(x){e.persistent!==!0&&e.noBackdropDismiss!==!0?y(x):e.noShake!==!0&&s()}function O(x){e.allowFocusOutside!==!0&&Q.value===!0&&Qt(i.value,x.target)!==!0&&S('[tabindex]:not([tabindex="-1"])')}Object.assign(u.proxy,{focus:S,shake:s,__updateRefocusTarget(x){w=x||null}}),ue(G);function J(){return k("div",{role:"dialog","aria-modal":b.value===!0?"true":"false",...n,class:M.value},[k(Se,{name:"q-transition--fade",appear:!0},()=>b.value===!0?k("div",{class:"q-dialog__backdrop fixed-full",style:T.value,"aria-hidden":"true",tabindex:-1,onClick:c}):null),k(Se,E.value,()=>a.value===!0?k("div",{ref:i,class:r.value,style:T.value,tabindex:-1,...d.value},ee(t.default)):null)])}return R}});function tt(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}const wt=Ht({name:"close-popup",beforeMount(e,{value:t}){const l={depth:tt(t),handler(n){l.depth!==0&&setTimeout(()=>{const u=Ql(e);u!==void 0&&Kl(u,n,l.depth)})},handlerKey(n){ut(n,13)===!0&&l.handler(n)}};e.__qclosepopup=l,e.addEventListener("click",l.handler),e.addEventListener("keyup",l.handlerKey)},updated(e,{value:t,oldValue:l}){t!==l&&(e.__qclosepopup.depth=tt(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});function ln(){return Pe(Kt)}const nn={name:"CameraPreview",emits:["capture","close"],setup(e,{emit:t}){const l=V(null);let n=null;const u=async()=>{try{n=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),l.value&&(l.value.srcObject=n)}catch(v){console.error("Error accessing camera:",v),t("close")}},i=()=>{n&&n.getTracks().forEach(v=>v.stop())},a=()=>{const v=document.createElement("canvas");v.width=l.value.videoWidth,v.height=l.value.videoHeight,v.getContext("2d").drawImage(l.value,0,0);const h=v.toDataURL("image/jpeg");t("capture",h),i()};return me(()=>{u()}),De(()=>{i()}),{videoElement:l,captureImage:a}}},an={ref:"videoElement",autoplay:"",playsinline:"",class:"full-width"};function on(e,t,l,n,u,i){return Y(),oe(Me,{class:"camera-preview"},{default:Z(()=>[A(fe,null,{default:Z(()=>[L("video",an,null,512)]),_:1}),A(bt,{align:"right"},{default:Z(()=>[ct(A(ae,{flat:"",label:"Close",color:"primary"},null,512),[[wt]]),A(ae,{flat:"",label:"Capture",color:"primary",onClick:n.captureImage},null,8,["onClick"])]),_:1})]),_:1})}const rn=Be(nn,[["render",on],["__scopeId","data-v-a46b76bb"]]),sn={class:"text-h6"},un={key:0,class:"q-mt-md"},cn={class:"absolute-top-right"},dn={key:1,class:"q-mt-md"},fn=["src"],vn={class:"flex items-center"},mn={class:"q-mr-md"},gn={class:"q-mr-md"},hn={class:"q-ml-auto"},bn={__name:"NoteModal",props:{note:{type:Object,required:!0}},emits:["update","delete","close"],setup(e,{emit:t}){const l=e,n=t,u=ln(),i=V(!0),a=Zt({...l.note}),v=V(null),h=V(!1),w=V(!1),g=V(null),f=V([]);H(()=>l.note,y=>{Object.assign(a,y)});const _=()=>{C(a)?n("delete",a.id):n("update",a),n("close")},C=y=>y.title.trim()===""&&y.content.trim()===""&&!y.image&&!y.voiceMemo&&(y.type!=="todo"||y.items&&y.items.every(m=>m.text.trim()==="")),N=()=>{n("update",a),i.value=!1},I=()=>{u.dialog({title:"Confirm",message:"Are you sure you want to delete this note?",cancel:!0,persistent:!0}).onOk(()=>{n("delete",a.id),i.value=!1})},D=()=>{v.value.click()},E=y=>{const m=y.target.files[0];if(m){const o=new FileReader;o.onload=r=>{a.image=r.target.result},o.readAsDataURL(m)}},T=()=>{a.image=null},W=()=>{h.value=!0},U=y=>{a.image=y,h.value=!1},Q=async()=>{if(w.value)R();else try{const y=await navigator.mediaDevices.getUserMedia({audio:!0});g.value=new MediaRecorder(y),g.value.ondataavailable=m=>{f.value.push(m.data)},g.value.onstop=()=>{const m=new Blob(f.value,{type:"audio/webm"});a.voiceMemo=URL.createObjectURL(m),f.value=[]},g.value.start(),w.value=!0}catch(y){console.error("Error accessing microphone:",y),u.notify({color:"negative",message:"Error accessing microphone. Please check your permissions."})}},R=()=>{g.value&&g.value.state!=="inactive"&&(g.value.stop(),w.value=!1)};return me(()=>{window.addEventListener("beforeunload",R)}),De(()=>{window.removeEventListener("beforeunload",R),R()}),(y,m)=>(Y(),oe(et,{modelValue:i.value,"onUpdate:modelValue":m[4]||(m[4]=o=>i.value=o),onHide:_,persistent:"","transition-show":"slide-up","transition-hide":"slide-down",maximized:!1,style:{width:"400px",height:"700px",maxWidth:"90%",maxHeight:"90%"}},{default:Z(()=>[A(Me,{class:"column",style:{"max-width":"400px"}},{default:Z(()=>[A(fe,{class:"row items-center q-pb-none"},{default:Z(()=>[L("div",sn,he(a.title||"Untitled"),1),A(Nl),ct(A(ae,{icon:"close",flat:"",round:"",dense:""},null,512),[[wt]])]),_:1}),A(fe,{class:"q-pa-sm flex-grow-1 overflow-auto"},{default:Z(()=>[A(Ae,{modelValue:a.title,"onUpdate:modelValue":m[0]||(m[0]=o=>a.title=o),label:"Title",dense:"",autofocus:"",class:"q-mb-md"},null,8,["modelValue"]),A(Ae,{modelValue:a.content,"onUpdate:modelValue":m[1]||(m[1]=o=>a.content=o),type:"textarea",label:"Content",autogrow:""},null,8,["modelValue"]),a.image?(Y(),de("div",un,[A(Te,{src:a.image,"spinner-color":"primary",style:{"max-height":"1000px"}},{default:Z(()=>[L("div",cn,[A(ae,{round:"",color:"negative",icon:"delete",size:"sm",onClick:T})])]),_:1},8,["src"])])):ce("",!0),a.voiceMemo?(Y(),de("div",dn,[L("audio",{src:a.voiceMemo,controls:"",class:"full-width"},null,8,fn)])):ce("",!0),A(bt,{position:"bottom",class:"q-gutter-md"},{default:Z(()=>[L("div",vn,[L("div",mn,[A(Fe,{color:"primary",icon:"attach_file",onClick:D})]),L("div",gn,[A(Fe,{color:"primary",icon:"photo_camera",onClick:W})]),L("div",null,[A(Fe,{color:"primary",icon:w.value?"stop":"mic",onClick:Q},null,8,["icon"])])]),L("div",hn,[A(ae,{flat:"",color:"negative",label:"Delete",onClick:I}),A(ae,{flat:"",color:"primary",label:"Save",onClick:N})])]),_:1})]),_:1})]),_:1}),L("input",{type:"file",ref_key:"fileInput",ref:v,accept:"image/*",style:{display:"none"},onChange:E},null,544),A(et,{modelValue:h.value,"onUpdate:modelValue":m[3]||(m[3]=o=>h.value=o)},{default:Z(()=>[A(rn,{onCapture:U,onClose:m[2]||(m[2]=o=>h.value=!1)})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]))}},pn=Be(bn,[["__scopeId","data-v-e3bc335f"]]),yn=e=>(Yt("data-v-0940759f"),e=e(),Jt(),e),wn={class:"row q-col-gutter-md"},kn={class:"col-12"},Cn={class:"col-12"},_n={class:"col-12"},xn={class:"row items-center"},Sn=yn(()=>L("div",{class:"text-primary q-ml-sm"},"Click to create...",-1)),qn={__name:"HomeView",setup(e){const t=xl(),l=V(""),n=V(null),u=V("grid"),i=p(()=>{const f=new RegExp(l.value,"i");return t.notes.filter(_=>f.test(_.title)||f.test(_.content))}),a=async f=>{const _={title:"",content:"",type:f,...f==="todo"?{items:[]}:{}};await t.addNote(_),n.value=_},v=async f=>{await t.updateNote(f.id,f),n.value=null},h=async f=>{await t.deleteNote(f),n.value=null},w=f=>{n.value=f},g=()=>{n.value=null};return me(()=>{t.fetchNotes()}),(f,_)=>(Y(),oe(Wt,{padding:""},{default:Z(()=>[L("div",wn,[L("div",kn,[A(Ae,{modelValue:l.value,"onUpdate:modelValue":_[0]||(_[0]=C=>l.value=C),filled:"",type:"search",label:"Search notes"},{prepend:Z(()=>[A(be,{name:"search"})]),_:1},8,["modelValue"])]),L("div",Cn,[A(_l,{modelValue:u.value,"onUpdate:modelValue":_[1]||(_[1]=C=>u.value=C),spread:"","no-caps":"","toggle-color":"primary",color:"white","text-color":"primary",options:[{label:"Grid",value:"grid",icon:"grid_view"},{label:"List",value:"list",icon:"view_list"}]},null,8,["modelValue"])]),L("div",_n,[A(Me,{class:"quick-create-area cursor-pointer",onClick:_[2]||(_[2]=C=>a("note"))},{default:Z(()=>[A(fe,null,{default:Z(()=>[L("div",xn,[A(be,{name:"add",size:"sm",color:"primary"}),Sn])]),_:1})]),_:1})]),(Y(!0),de(rt,null,Gt(i.value,C=>(Y(),de("div",{key:C.id,class:st({"col-12":u.value==="list","col-12 col-md-6 col-lg-4":u.value==="grid"})},[A(Tl,{note:C,"is-list-view":u.value==="list",onClick:N=>w(C)},null,8,["note","is-list-view","onClick"])],2))),128))]),n.value?(Y(),oe(pn,{key:0,note:n.value,onClose:g,onUpdate:v,onDelete:h},null,8,["note"])):ce("",!0)]),_:1}))}},Mn=Be(qn,[["__scopeId","data-v-0940759f"]]);export{Mn as default};
