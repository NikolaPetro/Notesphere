import{i as Ae,f as Nt,g as oe,w as W,o as be,a as ve,r as B,c as m,d as $t,b as je,e as It,s as Oe,n as se,h as mt,j as Pt,k as Ot,l as h,p as pe,u as Ue,m as Qe,Q as re,q as gt,t as ee,T as Be,v as Dt,x as He,y as te,z as Xe,A as Lt,B as X,C as Ee,D as zt,_ as Fe,E as ht,F as D,G as ie,H as K,I as jt,J as F,K as ne,L as Y,M as et,N as Z,O as ue,P as ye,R as De,S as Ke,U as Ut,V as me,W as Qt,X as Ht,Y as Kt,Z as Zt,$ as bt,a0 as pt,a1 as yt,a2 as kt,a3 as Wt,a4 as Ne,a5 as Gt,a6 as Yt,a7 as qe,a8 as Ze,a9 as Jt,aa as Xt,ab as eo,ac as xt,ad as to,ae as oo,af as lo,ag as no,ah as ao,ai as io,aj as Ct,ak as ro,al as so,am as uo,an as co}from"./index-UMQa_aNT.js";function fo({validate:e,resetValidation:t,requiresQForm:o}){const l=Ae(Nt,!1);if(l!==!1){const{props:n,proxy:a}=oe();Object.assign(a,{validate:e,resetValidation:t}),W(()=>n.disable,r=>{r===!0?(typeof t=="function"&&t(),l.unbindComponent(a)):l.bindComponent(a)}),be(()=>{n.disable!==!0&&l.bindComponent(a)}),ve(()=>{n.disable!==!0&&l.unbindComponent(a)})}else o===!0&&console.error("Parent QForm not found on useFormChild()!")}const tt=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,ot=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,lt=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,xe=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,Ce=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,$e={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>tt.test(e),hexaColor:e=>ot.test(e),hexOrHexaColor:e=>lt.test(e),rgbColor:e=>xe.test(e),rgbaColor:e=>Ce.test(e),rgbOrRgbaColor:e=>xe.test(e)||Ce.test(e),hexOrRgbColor:e=>tt.test(e)||xe.test(e),hexaOrRgbaColor:e=>ot.test(e)||Ce.test(e),anyColor:e=>lt.test(e)||xe.test(e)||Ce.test(e)},vo=[!0,!1,"ondemand"],mo={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>vo.includes(e)}};function go(e,t){const{props:o,proxy:l}=oe(),n=B(!1),a=B(null),r=B(null);fo({validate:V,resetValidation:k});let i=0,g;const b=m(()=>o.rules!==void 0&&o.rules!==null&&o.rules.length!==0),p=m(()=>o.disable!==!0&&b.value===!0),u=m(()=>o.error===!0||n.value===!0),_=m(()=>typeof o.errorMessage=="string"&&o.errorMessage.length!==0?o.errorMessage:a.value);W(()=>o.modelValue,()=>{R()}),W(()=>o.reactiveRules,A=>{A===!0?g===void 0&&(g=W(()=>o.rules,()=>{R(!0)})):g!==void 0&&(g(),g=void 0)},{immediate:!0}),W(e,A=>{A===!0?r.value===null&&(r.value=!1):r.value===!1&&(r.value=!0,p.value===!0&&o.lazyRules!=="ondemand"&&t.value===!1&&P())});function k(){i++,t.value=!1,r.value=null,n.value=!1,a.value=null,P.cancel()}function V(A=o.modelValue){if(p.value!==!0)return!0;const q=++i,Q=t.value!==!0?()=>{r.value=!0}:()=>{},z=(T,C)=>{T===!0&&Q(),n.value=T,a.value=C||null,t.value=!1},j=[];for(let T=0;T<o.rules.length;T++){const C=o.rules[T];let y;if(typeof C=="function"?y=C(A,$e):typeof C=="string"&&$e[C]!==void 0&&(y=$e[C](A)),y===!1||typeof y=="string")return z(!0,y),!1;y!==!0&&y!==void 0&&j.push(y)}return j.length===0?(z(!1),!0):(t.value=!0,Promise.all(j).then(T=>{if(T===void 0||Array.isArray(T)===!1||T.length===0)return q===i&&z(!1),!0;const C=T.find(y=>y===!1||typeof y=="string");return q===i&&z(C!==void 0,C),C===void 0},T=>(q===i&&(console.error(T),z(!0)),!1)))}function R(A){p.value===!0&&o.lazyRules!=="ondemand"&&(r.value===!0||o.lazyRules!==!0&&A!==!0)&&P()}const P=$t(V,0);return ve(()=>{g!==void 0&&g(),P.cancel()}),Object.assign(l,{resetValidation:k,validate:V}),je(l,"hasError",()=>u.value),{isDirtyModel:r,hasRules:b,hasError:u,errorMessage:_,validate:V,resetValidation:k}}const nt=/^on[A-Z]/;function ho(e,t){const o={listeners:B({}),attributes:B({})};function l(){const n={},a={};for(const r in e)r!=="class"&&r!=="style"&&nt.test(r)===!1&&(n[r]=e[r]);for(const r in t.props)nt.test(r)===!0&&(a[r]=t.props[r]);o.attributes.value=n,o.listeners.value=a}return It(l),l(),o}let Ie,_e=0;const G=new Array(256);for(let e=0;e<256;e++)G[e]=(e+256).toString(16).substring(1);const bo=(()=>{const e=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const o=new Uint8Array(t);return e.getRandomValues(o),o}}return t=>{const o=[];for(let l=t;l>0;l--)o.push(Math.floor(Math.random()*256));return o}})(),at=4096;function We(){(Ie===void 0||_e+16>at)&&(_e=0,Ie=bo(at));const e=Array.prototype.slice.call(Ie,_e,_e+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,G[e[0]]+G[e[1]]+G[e[2]]+G[e[3]]+"-"+G[e[4]]+G[e[5]]+"-"+G[e[6]]+G[e[7]]+"-"+G[e[8]]+G[e[9]]+"-"+G[e[10]]+G[e[11]]+G[e[12]]+G[e[13]]+G[e[14]]+G[e[15]]}let ce=[],ke=[];function _t(e){ke=ke.filter(t=>t!==e)}function po(e){_t(e),ke.push(e)}function it(e){_t(e),ke.length===0&&ce.length!==0&&(ce[ce.length-1](),ce=[])}function Ge(e){ke.length===0?e():ce.push(e)}function yo(e){ce=ce.filter(t=>t!==e)}function wt(e,t){return e===void 0?t===!0?`f_${We()}`:void 0:e}function Le(e){return e!=null&&(""+e).length!==0}const ko={...Ue,...mo,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},xo=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function Co({requiredForAttr:e=!0,tagProp:t}={}){const{props:o,attrs:l,proxy:n,vnode:a}=oe(),r=Qe(o,n.$q);return{requiredForAttr:e,tag:t===!0?m(()=>o.tag):{value:"label"},isDark:r,editable:m(()=>o.disable!==!0&&o.readonly!==!0),innerLoading:B(!1),focused:B(!1),hasPopupOpen:!1,splitAttrs:ho(l,a),targetUid:B(wt(o.for,e)),rootRef:B(null),targetRef:B(null),controlRef:B(null)}}function _o(e){const{props:t,emit:o,slots:l,attrs:n,proxy:a}=oe(),{$q:r}=a;let i=null;e.hasValue===void 0&&(e.hasValue=m(()=>Le(t.modelValue))),e.emitValue===void 0&&(e.emitValue=f=>{o("update:modelValue",f)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:d,onFocusout:c}),Object.assign(e,{clearValue:x,onControlFocusin:d,onControlFocusout:c,focus:C}),e.computedCounter===void 0&&(e.computedCounter=m(()=>{if(t.counter!==!1){const f=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,N=t.maxlength!==void 0?t.maxlength:t.maxValues;return f+(N!==void 0?" / "+N:"")}}));const{isDirtyModel:g,hasRules:b,hasError:p,errorMessage:u,resetValidation:_}=go(e.focused,e.innerLoading),k=e.floatingLabel!==void 0?m(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):m(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),V=m(()=>t.bottomSlots===!0||t.hint!==void 0||b.value===!0||t.counter===!0||t.error!==null),R=m(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),P=m(()=>`q-field row no-wrap items-start q-field--${R.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(k.value===!0?" q-field--float":"")+(q.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(p.value===!0?" q-field--error":"")+(p.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&V.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),A=m(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(p.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),q=m(()=>t.labelSlot===!0||t.label!==void 0),Q=m(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&p.value!==!0?` text-${t.labelColor}`:"")),z=m(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:k.value,modelValue:t.modelValue,emitValue:e.emitValue})),j=m(()=>{const f={for:e.targetUid.value};return t.disable===!0?f["aria-disabled"]="true":t.readonly===!0&&(f["aria-readonly"]="true"),f});W(()=>t.for,f=>{e.targetUid.value=wt(f,e.requiredForAttr)});function T(){const f=document.activeElement;let N=e.targetRef!==void 0&&e.targetRef.value;N&&(f===null||f.id!==e.targetUid.value)&&(N.hasAttribute("tabindex")===!0||(N=N.querySelector("[tabindex]")),N&&N!==f&&N.focus({preventScroll:!0}))}function C(){Ge(T)}function y(){yo(T);const f=document.activeElement;f!==null&&e.rootRef.value.contains(f)&&f.blur()}function d(f){i!==null&&(clearTimeout(i),i=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,o("focus",f))}function c(f,N){i!==null&&clearTimeout(i),i=setTimeout(()=>{i=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,o("blur",f)),N!==void 0&&N())})}function x(f){Oe(f),r.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),o("update:modelValue",null),o("clear",t.modelValue),se(()=>{_(),r.platform.is.mobile!==!0&&(g.value=!1)})}function s(){const f=[];return l.prepend!==void 0&&f.push(h("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:pe},l.prepend())),f.push(h("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},w())),p.value===!0&&t.noErrorIcon===!1&&f.push(O("error",[h(re,{name:r.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?f.push(O("inner-loading-append",l.loading!==void 0?l.loading():[h(gt,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&f.push(O("inner-clearable-append",[h(re,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||r.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:x})])),l.append!==void 0&&f.push(h("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:pe},l.append())),e.getInnerAppend!==void 0&&f.push(O("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&f.push(e.getControlChild()),f}function w(){const f=[];return t.prefix!==void 0&&t.prefix!==null&&f.push(h("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&f.push(e.getShadowControl()),e.getControl!==void 0?f.push(e.getControl()):l.rawControl!==void 0?f.push(l.rawControl()):l.control!==void 0&&f.push(h("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},l.control(z.value))),q.value===!0&&f.push(h("div",{class:Q.value},ee(l.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&f.push(h("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),f.concat(ee(l.default))}function M(){let f,N;p.value===!0?u.value!==null?(f=[h("div",{role:"alert"},u.value)],N=`q--slot-error-${u.value}`):(f=ee(l.error),N="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(f=[h("div",t.hint)],N=`q--slot-hint-${t.hint}`):(f=ee(l.hint),N="q--slot-hint"));const J=t.counter===!0||l.counter!==void 0;if(t.hideBottomSpace===!0&&J===!1&&f===void 0)return;const $=h("div",{key:N,class:"q-field__messages col"},f);return h("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:pe},[t.hideBottomSpace===!0?$:h(Be,{name:"q-transition--field-message"},()=>$),J===!0?h("div",{class:"q-field__counter"},l.counter!==void 0?l.counter():e.computedCounter.value):null])}function O(f,N){return N===null?null:h("div",{key:f,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},N)}let E=!1;return mt(()=>{E=!0}),Pt(()=>{E===!0&&t.autofocus===!0&&a.focus()}),be(()=>{Ot.value===!0&&e.requiredForAttr===!0&&t.for===void 0&&(e.targetUid.value=`f_${We()}`),t.autofocus===!0&&a.focus()}),ve(()=>{i!==null&&clearTimeout(i)}),Object.assign(a,{focus:C,blur:y}),function(){const N=e.getControl===void 0&&l.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...j.value}:j.value;return h(e.tag.value,{ref:e.rootRef,class:[P.value,n.class],style:n.style,...N},[l.before!==void 0?h("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:pe},l.before()):null,h("div",{class:"q-field__inner relative-position col self-stretch"},[h("div",{ref:e.controlRef,class:A.value,tabindex:-1,...e.controlEvents},s()),V.value===!0?M():null]),l.after!==void 0?h("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:pe},l.after()):null])}}const rt={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Me={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},qt=Object.keys(Me);qt.forEach(e=>{Me[e].regex=new RegExp(Me[e].pattern)});const wo=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+qt.join("")+"])|(.)","g"),st=/[.*+?^${}()|[\]\\]/g,H="",qo={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function So(e,t,o,l){let n,a,r,i,g,b;const p=B(null),u=B(k());function _(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}W(()=>e.type+e.autogrow,R),W(()=>e.mask,d=>{if(d!==void 0)P(u.value,!0);else{const c=C(u.value);R(),e.modelValue!==c&&t("update:modelValue",c)}}),W(()=>e.fillMask+e.reverseFillMask,()=>{p.value===!0&&P(u.value,!0)}),W(()=>e.unmaskedValue,()=>{p.value===!0&&P(u.value)});function k(){if(R(),p.value===!0){const d=j(C(e.modelValue));return e.fillMask!==!1?y(d):d}return e.modelValue}function V(d){if(d<n.length)return n.slice(-d);let c="",x=n;const s=x.indexOf(H);if(s>-1){for(let w=d-x.length;w>0;w--)c+=H;x=x.slice(0,s)+c+x.slice(s)}return x}function R(){if(p.value=e.mask!==void 0&&e.mask.length!==0&&_(),p.value===!1){i=void 0,n="",a="";return}const d=rt[e.mask]===void 0?e.mask:rt[e.mask],c=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",x=c.replace(st,"\\$&"),s=[],w=[],M=[];let O=e.reverseFillMask===!0,E="",f="";d.replace(wo,(U,v,L,le,S)=>{if(le!==void 0){const I=Me[le];M.push(I),f=I.negate,O===!0&&(w.push("(?:"+f+"+)?("+I.pattern+"+)?(?:"+f+"+)?("+I.pattern+"+)?"),O=!1),w.push("(?:"+f+"+)?("+I.pattern+")?")}else if(L!==void 0)E="\\"+(L==="\\"?"":L),M.push(L),s.push("([^"+E+"]+)?"+E+"?");else{const I=v!==void 0?v:S;E=I==="\\"?"\\\\\\\\":I.replace(st,"\\\\$&"),M.push(I),s.push("([^"+E+"]+)?"+E+"?")}});const N=new RegExp("^"+s.join("")+"("+(E===""?".":"[^"+E+"]")+"+)?"+(E===""?"":"["+E+"]*")+"$"),J=w.length-1,$=w.map((U,v)=>v===0&&e.reverseFillMask===!0?new RegExp("^"+x+"*"+U):v===J?new RegExp("^"+U+"("+(f===""?".":f)+"+)?"+(e.reverseFillMask===!0?"$":x+"*")):new RegExp("^"+U));r=M,i=U=>{const v=N.exec(e.reverseFillMask===!0?U:U.slice(0,M.length+1));v!==null&&(U=v.slice(1).join(""));const L=[],le=$.length;for(let S=0,I=U;S<le;S++){const ae=$[S].exec(I);if(ae===null)break;I=I.slice(ae.shift().length),L.push(...ae)}return L.length!==0?L.join(""):U},n=M.map(U=>typeof U=="string"?U:H).join(""),a=n.split(H).join(c)}function P(d,c,x){const s=l.value,w=s.selectionEnd,M=s.value.length-w,O=C(d);c===!0&&R();const E=j(O),f=e.fillMask!==!1?y(E):E,N=u.value!==f;s.value!==f&&(s.value=f),N===!0&&(u.value=f),document.activeElement===s&&se(()=>{if(f===a){const $=e.reverseFillMask===!0?a.length:0;s.setSelectionRange($,$,"forward");return}if(x==="insertFromPaste"&&e.reverseFillMask!==!0){const $=s.selectionEnd;let U=w-1;for(let v=g;v<=U&&v<$;v++)n[v]!==H&&U++;q.right(s,U);return}if(["deleteContentBackward","deleteContentForward"].indexOf(x)>-1){const $=e.reverseFillMask===!0?w===0?f.length>E.length?1:0:Math.max(0,f.length-(f===a?0:Math.min(E.length,M)+1))+1:w;s.setSelectionRange($,$,"forward");return}if(e.reverseFillMask===!0)if(N===!0){const $=Math.max(0,f.length-(f===a?0:Math.min(E.length,M+1)));$===1&&w===1?s.setSelectionRange($,$,"forward"):q.rightReverse(s,$)}else{const $=f.length-M;s.setSelectionRange($,$,"backward")}else if(N===!0){const $=Math.max(0,n.indexOf(H),Math.min(E.length,w)-1);q.right(s,$)}else{const $=w-1;q.right(s,$)}});const J=e.unmaskedValue===!0?C(f):f;String(e.modelValue)!==J&&(e.modelValue!==null||J!=="")&&o(J,!0)}function A(d,c,x){const s=j(C(d.value));c=Math.max(0,n.indexOf(H),Math.min(s.length,c)),g=c,d.setSelectionRange(c,x,"forward")}const q={left(d,c){const x=n.slice(c-1).indexOf(H)===-1;let s=Math.max(0,c-1);for(;s>=0;s--)if(n[s]===H){c=s,x===!0&&c++;break}if(s<0&&n[c]!==void 0&&n[c]!==H)return q.right(d,0);c>=0&&d.setSelectionRange(c,c,"backward")},right(d,c){const x=d.value.length;let s=Math.min(x,c+1);for(;s<=x;s++)if(n[s]===H){c=s;break}else n[s-1]===H&&(c=s);if(s>x&&n[c-1]!==void 0&&n[c-1]!==H)return q.left(d,x);d.setSelectionRange(c,c,"forward")},leftReverse(d,c){const x=V(d.value.length);let s=Math.max(0,c-1);for(;s>=0;s--)if(x[s-1]===H){c=s;break}else if(x[s]===H&&(c=s,s===0))break;if(s<0&&x[c]!==void 0&&x[c]!==H)return q.rightReverse(d,0);c>=0&&d.setSelectionRange(c,c,"backward")},rightReverse(d,c){const x=d.value.length,s=V(x),w=s.slice(0,c+1).indexOf(H)===-1;let M=Math.min(x,c+1);for(;M<=x;M++)if(s[M-1]===H){c=M,c>0&&w===!0&&c--;break}if(M>x&&s[c-1]!==void 0&&s[c-1]!==H)return q.leftReverse(d,x);d.setSelectionRange(c,c,"forward")}};function Q(d){t("click",d),b=void 0}function z(d){if(t("keydown",d),Dt(d)===!0||d.altKey===!0)return;const c=l.value,x=c.selectionStart,s=c.selectionEnd;if(d.shiftKey||(b=void 0),d.keyCode===37||d.keyCode===39){d.shiftKey&&b===void 0&&(b=c.selectionDirection==="forward"?x:s);const w=q[(d.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(d.preventDefault(),w(c,b===x?s:x),d.shiftKey){const M=c.selectionStart;c.setSelectionRange(Math.min(b,M),Math.max(b,M),"forward")}}else d.keyCode===8&&e.reverseFillMask!==!0&&x===s?(q.left(c,x),c.setSelectionRange(c.selectionStart,s,"backward")):d.keyCode===46&&e.reverseFillMask===!0&&x===s&&(q.rightReverse(c,s),c.setSelectionRange(x,c.selectionEnd,"forward"))}function j(d){if(d==null||d==="")return"";if(e.reverseFillMask===!0)return T(d);const c=r;let x=0,s="";for(let w=0;w<c.length;w++){const M=d[x],O=c[w];if(typeof O=="string")s+=O,M===O&&x++;else if(M!==void 0&&O.regex.test(M))s+=O.transform!==void 0?O.transform(M):M,x++;else return s}return s}function T(d){const c=r,x=n.indexOf(H);let s=d.length-1,w="";for(let M=c.length-1;M>=0&&s>-1;M--){const O=c[M];let E=d[s];if(typeof O=="string")w=O+w,E===O&&s--;else if(E!==void 0&&O.regex.test(E))do w=(O.transform!==void 0?O.transform(E):E)+w,s--,E=d[s];while(x===M&&E!==void 0&&O.regex.test(E));else return w}return w}function C(d){return typeof d!="string"||i===void 0?typeof d=="number"?i(""+d):d:i(d)}function y(d){return a.length-d.length<=0?d:e.reverseFillMask===!0&&d.length!==0?a.slice(0,-d.length)+d:d+a.slice(d.length)}return{innerValue:u,hasMask:p,moveCursorForPaste:A,updateMaskValue:P,onMaskedKeydown:z,onMaskedClick:Q}}const Ye={name:String};function St(e={}){return(t,o,l)=>{t[o](h("input",{class:"hidden"+(l||""),...e.value}))}}function Vo(e){return m(()=>e.name||e.for)}function Bo(e,t){function o(){const l=e.modelValue;try{const n="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(l)===l&&("length"in l?Array.from(l):[l]).forEach(a=>{n.items.add(a)}),{files:n.files}}catch{return{files:void 0}}}return t===!0?m(()=>{if(e.type==="file")return o()}):m(o)}const Mo=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Ao=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Eo=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Fo=/[a-z0-9_ -]$/i;function Ro(e){return function(o){if(o.type==="compositionend"||o.type==="change"){if(o.target.qComposing!==!0)return;o.target.qComposing=!1,e(o)}else o.type==="compositionupdate"&&o.target.qComposing!==!0&&typeof o.data=="string"&&(He.is.firefox===!0?Fo.test(o.data)===!1:Mo.test(o.data)===!0||Ao.test(o.data)===!0||Eo.test(o.data)===!0)===!0&&(o.target.qComposing=!0)}}const Se=te({name:"QInput",inheritAttrs:!1,props:{...ko,...qo,...Ye,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...xo,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:o}){const{proxy:l}=oe(),{$q:n}=l,a={};let r=NaN,i,g,b=null,p;const u=B(null),_=Vo(e),{innerValue:k,hasMask:V,moveCursorForPaste:R,updateMaskValue:P,onMaskedKeydown:A,onMaskedClick:q}=So(e,t,E,u),Q=Bo(e,!0),z=m(()=>Le(k.value)),j=Ro(M),T=Co(),C=m(()=>e.type==="textarea"||e.autogrow===!0),y=m(()=>C.value===!0||["text","search","url","tel","password"].includes(e.type)),d=m(()=>{const v={...T.splitAttrs.listeners.value,onInput:M,onPaste:w,onChange:N,onBlur:J,onFocus:Xe};return v.onCompositionstart=v.onCompositionupdate=v.onCompositionend=j,V.value===!0&&(v.onKeydown=A,v.onClick=q),e.autogrow===!0&&(v.onAnimationend=O),v}),c=m(()=>{const v={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:_.value,...T.splitAttrs.attributes.value,id:T.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return C.value===!1&&(v.type=e.type),e.autogrow===!0&&(v.rows=1),v});W(()=>e.type,()=>{u.value&&(u.value.value=e.modelValue)}),W(()=>e.modelValue,v=>{if(V.value===!0){if(g===!0&&(g=!1,String(v)===r))return;P(v)}else k.value!==v&&(k.value=v,e.type==="number"&&a.hasOwnProperty("value")===!0&&(i===!0?i=!1:delete a.value));e.autogrow===!0&&se(f)}),W(()=>e.autogrow,v=>{v===!0?se(f):u.value!==null&&o.rows>0&&(u.value.style.height="auto")}),W(()=>e.dense,()=>{e.autogrow===!0&&se(f)});function x(){Ge(()=>{const v=document.activeElement;u.value!==null&&u.value!==v&&(v===null||v.id!==T.targetUid.value)&&u.value.focus({preventScroll:!0})})}function s(){u.value!==null&&u.value.select()}function w(v){if(V.value===!0&&e.reverseFillMask!==!0){const L=v.target;R(L,L.selectionStart,L.selectionEnd)}t("paste",v)}function M(v){if(!v||!v.target)return;if(e.type==="file"){t("update:modelValue",v.target.files);return}const L=v.target.value;if(v.target.qComposing===!0){a.value=L;return}if(V.value===!0)P(L,!1,v.inputType);else if(E(L),y.value===!0&&v.target===document.activeElement){const{selectionStart:le,selectionEnd:S}=v.target;le!==void 0&&S!==void 0&&se(()=>{v.target===document.activeElement&&L.indexOf(v.target.value)===0&&v.target.setSelectionRange(le,S)})}e.autogrow===!0&&f()}function O(v){t("animationend",v),f()}function E(v,L){p=()=>{b=null,e.type!=="number"&&a.hasOwnProperty("value")===!0&&delete a.value,e.modelValue!==v&&r!==v&&(r=v,L===!0&&(g=!0),t("update:modelValue",v),se(()=>{r===v&&(r=NaN)})),p=void 0},e.type==="number"&&(i=!0,a.value=v),e.debounce!==void 0?(b!==null&&clearTimeout(b),a.value=v,b=setTimeout(p,e.debounce)):p()}function f(){requestAnimationFrame(()=>{const v=u.value;if(v!==null){const L=v.parentNode.style,{scrollTop:le}=v,{overflowY:S,maxHeight:I}=n.platform.is.firefox===!0?{}:window.getComputedStyle(v),ae=S!==void 0&&S!=="scroll";ae===!0&&(v.style.overflowY="hidden"),L.marginBottom=v.scrollHeight-1+"px",v.style.height="1px",v.style.height=v.scrollHeight+"px",ae===!0&&(v.style.overflowY=parseInt(I,10)<v.scrollHeight?"auto":"hidden"),L.marginBottom="",v.scrollTop=le}})}function N(v){j(v),b!==null&&(clearTimeout(b),b=null),p!==void 0&&p(),t("change",v.target.value)}function J(v){v!==void 0&&Xe(v),b!==null&&(clearTimeout(b),b=null),p!==void 0&&p(),i=!1,g=!1,delete a.value,e.type!=="file"&&setTimeout(()=>{u.value!==null&&(u.value.value=k.value!==void 0?k.value:"")})}function $(){return a.hasOwnProperty("value")===!0?a.value:k.value!==void 0?k.value:""}ve(()=>{J()}),be(()=>{e.autogrow===!0&&f()}),Object.assign(T,{innerValue:k,fieldClass:m(()=>`q-${C.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:m(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:u,emitValue:E,hasValue:z,floatingLabel:m(()=>z.value===!0&&(e.type!=="number"||isNaN(k.value)===!1)||Le(e.displayValue)),getControl:()=>h(C.value===!0?"textarea":"input",{ref:u,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...c.value,...d.value,...e.type!=="file"?{value:$()}:Q.value}),getShadowControl:()=>h("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(C.value===!0?"":" text-no-wrap")},[h("span",{class:"invisible"},$()),h("span",e.shadowText)])});const U=_o(T);return Object.assign(l,{focus:x,select:s,getNativeElement:()=>u.value}),je(l,"nativeEl",()=>u.value),U}}),To=te({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const o=m(()=>{const l=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(n=>e[n]===!0).map(n=>`q-btn-group--${n}`).join(" ");return`q-btn-group row no-wrap${l.length!==0?" "+l:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>h("div",{class:o.value},ee(t.default))}}),No=te({name:"QBtnToggle",props:{...Ye,modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(t=>("label"in t||"icon"in t||"slot"in t)&&"value"in t)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(e,{slots:t,emit:o}){const l=m(()=>e.options.find(_=>_.value===e.modelValue)!==void 0),n=m(()=>({type:"hidden",name:e.name,value:e.modelValue})),a=St(n),r=m(()=>Lt(e)),i=m(()=>({rounded:e.rounded,dense:e.dense,...r.value})),g=m(()=>e.options.map((_,k)=>{const{attrs:V,value:R,slot:P,...A}=_;return{slot:P,props:{key:k,"aria-pressed":R===e.modelValue?"true":"false",...V,...A,...i.value,disable:e.disable===!0||A.disable===!0,color:R===e.modelValue?p(A,"toggleColor"):p(A,"color"),textColor:R===e.modelValue?p(A,"toggleTextColor"):p(A,"textColor"),noCaps:p(A,"noCaps")===!0,noWrap:p(A,"noWrap")===!0,size:p(A,"size"),padding:p(A,"padding"),ripple:p(A,"ripple"),stack:p(A,"stack")===!0,stretch:p(A,"stretch")===!0,onClick(q){b(R,_,q)}}}}));function b(_,k,V){e.readonly!==!0&&(e.modelValue===_?e.clearable===!0&&(o("update:modelValue",null,null),o("clear")):o("update:modelValue",_,k),o("click",V))}function p(_,k){return _[k]===void 0?e[k]:_[k]}function u(){const _=g.value.map(k=>h(X,k.props,k.slot!==void 0?t[k.slot]:void 0));return e.name!==void 0&&e.disable!==!0&&l.value===!0&&a(_,"push"),Ee(t.default,_)}return()=>h(To,{class:"q-btn-toggle",...r.value,rounded:e.rounded,stretch:e.stretch,glossy:e.glossy,spread:e.spread},u)}}),Vt=zt("notesStore",()=>{const e=B([]),t=async()=>{const r=await fetch("http://localhost:3000/notes");e.value=await r.json()};return{notes:e,fetchNotes:t,addNote:async r=>{const g=await(await fetch("http://localhost:3000/notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();e.value.push(g)},updateNote:async(r,i)=>{await fetch(`http://localhost:3000/notes/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),await t()},deleteNote:async r=>{await fetch(`http://localhost:3000/notes/${r}`,{method:"DELETE"}),e.value=e.value.filter(i=>i.id!==r)},uploadImage:async r=>{const i=new FormData;i.append("image",r,`note-image-${Date.now()}.jpg`);try{const g=await fetch("http://localhost:3000/upload",{method:"POST",body:i});if(!g.ok)throw new Error("Failed to upload image");return(await g.json()).filePath}catch(g){return console.error("Error uploading image:",g),null}}}}),$o={ratio:[String,Number]};function Io(e,t){return m(()=>{const o=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(o)!==!0&&o>0?{paddingBottom:`${100/o}%`}:null})}const Po=16/9,ze=te({name:"QImg",props:{...$o,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Po},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:o}){const l=B(e.initialRatio),n=Io(e,l);let a=null,r=!1;const i=[B(null),B(P())],g=B(0),b=B(!1),p=B(!1),u=m(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),_=m(()=>({width:e.width,height:e.height})),k=m(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),V=m(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));W(()=>R(),A);function R(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function P(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function A(y){a!==null&&(clearTimeout(a),a=null),p.value=!1,y===null?(b.value=!1,i[g.value^1].value=P()):b.value=!0,i[g.value].value=y}function q({target:y}){r!==!0&&(a!==null&&(clearTimeout(a),a=null),l.value=y.naturalHeight===0?.5:y.naturalWidth/y.naturalHeight,Q(y,1))}function Q(y,d){r===!0||d===1e3||(y.complete===!0?z(y):a=setTimeout(()=>{a=null,Q(y,d+1)},50))}function z(y){r!==!0&&(g.value=g.value^1,i[g.value].value=null,b.value=!1,p.value=!1,o("load",y.currentSrc||y.src))}function j(y){a!==null&&(clearTimeout(a),a=null),b.value=!1,p.value=!0,i[g.value].value=null,i[g.value^1].value=P(),o("error",y)}function T(y){const d=i[y].value,c={key:"img_"+y,class:k.value,style:V.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...d};return g.value===y?(c.class+=" q-img__image--waiting",Object.assign(c,{onLoad:q,onError:j})):c.class+=" q-img__image--loaded",h("div",{class:"q-img__container absolute-full",key:"img"+y},h("img",c))}function C(){return b.value!==!0?h("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},ee(t[p.value===!0?"error":"default"])):h("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[h(gt,{color:e.spinnerColor,size:e.spinnerSize})])}return A(R()),ve(()=>{r=!0,a!==null&&(clearTimeout(a),a=null)}),()=>{const y=[];return n.value!==null&&y.push(h("div",{key:"filler",style:n.value})),p.value!==!0&&(i[0].value!==null&&y.push(T(0)),i[1].value!==null&&y.push(T(1))),y.push(h(Be,{name:"q-transition--fade"},C)),h("div",{class:u.value,style:_.value,role:"img","aria-label":e.alt},y)}}}),ge=te({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const o=m(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>h(e.tag,{class:o.value},ee(t.default))}}),Re=te({name:"QCard",props:{...Ue,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:o}}=oe(),l=Qe(e,o),n=m(()=>"q-card"+(l.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>h(e.tag,{class:n.value},ee(t.default))}}),Oo={props:{note:Object,onClick:Function,isListView:Boolean},computed:{completedTodos(){return this.note.type==="todo"?this.note.items.filter(e=>e.completed).length:0},totalTodos(){return this.note.type==="todo"?this.note.items.length:0}},methods:{deleteNote(){this.$emit("delete-note",this.note.id)}}},Do={key:0,class:"row items-center q-pa-md"},Lo={class:"col"},zo={class:"text-h6"},jo={key:0,class:"text-caption text-muted-foreground row items-center"},Uo={key:1,class:"text-caption text-muted-foreground ellipsis"},Qo={class:"text-h6"},Ho={key:0},Ko={key:0,class:"text-caption text-muted-foreground"},Zo={class:"text-caption text-muted-foreground row items-center"},Wo={key:1},Go={class:"ellipsis"};function Yo(e,t,o,l,n,a){const r=ht("q-audio");return D(),ie(Re,{onClick:o.onClick,class:De(["cursor-pointer hover-shadow-lg bg-card text-card-foreground",{"row items-center":o.isListView}])},{default:K(()=>[F(X,{icon:"delete",onClick:jt(a.deleteNote,["stop"]),class:"absolute-top-right",color:"negative",flat:""},null,8,["onClick"]),o.isListView?(D(),Z("div",Do,[Y("div",Lo,[Y("h3",zo,ne(o.note.title||"Untitled"),1),o.note.type==="todo"?(D(),Z("p",jo,[F(re,{name:"check_square",size:"16px",class:"q-mr-xs"}),et(" "+ne(a.completedTodos)+"/"+ne(a.totalTodos)+" completed ",1)])):(D(),Z("p",Uo,ne(o.note.content),1))]),o.note.image?(D(),ie(ze,{key:0,src:o.note.image||"/placeholder.svg",alt:"Note image",class:"col-auto q-ml-md",style:{width:"48px",height:"48px","border-radius":"4px","object-fit":"cover"}},null,8,["src"])):ue("",!0)])):(D(),Z(ye,{key:1},[F(ge,null,{default:K(()=>[Y("div",Qo,ne(o.note.title||"Untitled"),1)]),_:1}),F(ge,null,{default:K(()=>[o.note.type==="todo"?(D(),Z("div",Ho,[(D(!0),Z(ye,null,Ke(o.note.items.slice(0,3),(i,g)=>(D(),Z("div",{key:i.id,class:De(["text-body2",{"text-strike text-muted-foreground":i.completed}])},ne(i.text||"Untitled item"),3))),128)),o.note.items.length>3?(D(),Z("p",Ko," +"+ne(o.note.items.length-3)+" more items ",1)):ue("",!0),Y("p",Zo,[F(re,{name:"check_square",size:"16px",class:"q-mr-xs"}),et(" "+ne(a.completedTodos)+"/"+ne(a.totalTodos)+" completed ",1)])])):(D(),Z("div",Wo,[Y("p",Go,ne(o.note.content),1),o.note.image?(D(),ie(ze,{key:0,src:o.note.image||"/placeholder.svg",alt:"Note image",class:"q-mt-md",style:{width:"100%",height:"128px","border-radius":"4px","object-fit":"cover"}},null,8,["src"])):ue("",!0),o.note.voiceMemo?(D(),ie(r,{key:1,src:o.note.voiceMemo,controls:"",class:"q-mt-md"},null,8,["src"])):ue("",!0)]))]),_:1})],64))]),_:1},8,["onClick","class"])}const Jo=Fe(Oo,[["render",Yo],["__scopeId","data-v-c4f54bb7"]]),Xo=h("div",{class:"q-space"}),el=te({name:"QSpace",setup(){return()=>Xo}});function tl(e,t){const o=B(null),l=m(()=>e.disable===!0?null:h("span",{ref:o,class:"no-outline",tabindex:-1}));function n(a){const r=t.value;a!==void 0&&a.type.indexOf("key")===0?r!==null&&document.activeElement!==r&&r.contains(document.activeElement)===!0&&r.focus():o.value!==null&&(a===void 0||r!==null&&r.contains(a.target)===!0)&&o.value.focus()}return{refocusTargetEl:l,refocusTarget:n}}const ol={xs:30,sm:35,md:40,lg:50,xl:60},ll={...Ue,...Qt,...Ye,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},nl=["update:modelValue"];function al(e,t){const{props:o,slots:l,emit:n,proxy:a}=oe(),{$q:r}=a,i=Qe(o,r),g=B(null),{refocusTargetEl:b,refocusTarget:p}=tl(o,g),u=Ut(o,ol),_=m(()=>o.val!==void 0&&Array.isArray(o.modelValue)),k=m(()=>{const s=me(o.val);return _.value===!0?o.modelValue.findIndex(w=>me(w)===s):-1}),V=m(()=>_.value===!0?k.value>-1:me(o.modelValue)===me(o.trueValue)),R=m(()=>_.value===!0?k.value===-1:me(o.modelValue)===me(o.falseValue)),P=m(()=>V.value===!1&&R.value===!1),A=m(()=>o.disable===!0?-1:o.tabindex||0),q=m(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(o.disable===!0?" disabled":"")+(i.value===!0?` q-${e}--dark`:"")+(o.dense===!0?` q-${e}--dense`:"")+(o.leftLabel===!0?" reverse":"")),Q=m(()=>{const s=V.value===!0?"truthy":R.value===!0?"falsy":"indet",w=o.color!==void 0&&(o.keepColor===!0||(e==="toggle"?V.value===!0:R.value!==!0))?` text-${o.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${s}${w}`}),z=m(()=>{const s={type:"checkbox"};return o.name!==void 0&&Object.assign(s,{".checked":V.value,"^checked":V.value===!0?"checked":void 0,name:o.name,value:_.value===!0?o.val:o.trueValue}),s}),j=St(z),T=m(()=>{const s={tabindex:A.value,role:e==="toggle"?"switch":"checkbox","aria-label":o.label,"aria-checked":P.value===!0?"mixed":V.value===!0?"true":"false"};return o.disable===!0&&(s["aria-disabled"]="true"),s});function C(s){s!==void 0&&(Oe(s),p(s)),o.disable!==!0&&n("update:modelValue",y(),s)}function y(){if(_.value===!0){if(V.value===!0){const s=o.modelValue.slice();return s.splice(k.value,1),s}return o.modelValue.concat([o.val])}if(V.value===!0){if(o.toggleOrder!=="ft"||o.toggleIndeterminate===!1)return o.falseValue}else if(R.value===!0){if(o.toggleOrder==="ft"||o.toggleIndeterminate===!1)return o.trueValue}else return o.toggleOrder!=="ft"?o.trueValue:o.falseValue;return o.indeterminateValue}function d(s){(s.keyCode===13||s.keyCode===32)&&Oe(s)}function c(s){(s.keyCode===13||s.keyCode===32)&&C(s)}const x=t(V,P);return Object.assign(a,{toggle:C}),()=>{const s=x();o.disable!==!0&&j(s,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const w=[h("div",{class:Q.value,style:u.value,"aria-hidden":"true"},s)];b.value!==null&&w.push(b.value);const M=o.label!==void 0?Ee(l.default,[o.label]):ee(l.default);return M!==void 0&&w.push(h("div",{class:`q-${e}__label q-anchor--skip`},M)),h("div",{ref:g,class:q.value,...T.value,onClick:C,onKeydown:d,onKeyup:c},w)}}const il=h("div",{key:"svg",class:"q-checkbox__bg absolute"},[h("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[h("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),h("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]),rl=te({name:"QCheckbox",props:ll,emits:nl,setup(e){function t(o,l){const n=m(()=>(o.value===!0?e.checkedIcon:l.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>n.value!==null?[h("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[h(re,{class:"q-checkbox__icon",name:n.value})])]:[il]}return al("checkbox",t)}}),Bt=te({name:"QCardActions",props:{...Ht,vertical:Boolean},setup(e,{slots:t}){const o=Kt(e),l=m(()=>`q-card__actions ${o.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>h("div",{class:l.value},ee(t.default))}}),sl=["top","right","bottom","left"],Mt={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:e=>sl.includes(e)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function At(e,t){return{formClass:m(()=>`q-fab--form-${e.square===!0?"square":"rounded"}`),stacked:m(()=>e.externalLabel===!1&&["top","bottom"].includes(e.labelPosition)),labelProps:m(()=>{if(e.externalLabel===!0){const o=e.hideLabel===null?t.value===!1:e.hideLabel;return{action:"push",data:{class:[e.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${e.labelPosition}`+(o===!0?" q-fab__label--external-hidden":"")],style:e.labelStyle}}}return{action:["left","top"].includes(e.labelPosition)?"unshift":"push",data:{class:[e.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${e.labelPosition}`+(e.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:e.labelStyle}}})}}const Et={start:"self-end",center:"self-center",end:"self-start"},ul=Object.keys(Et),Pe=te({name:"QFabAction",props:{...Mt,icon:{type:String,default:""},anchor:{type:String,validator:e=>ul.includes(e)},to:[String,Object],replace:Boolean},emits:["click"],setup(e,{slots:t,emit:o}){const l=Ae(bt,()=>({showing:{value:!0},onChildClick:Zt})),{formClass:n,labelProps:a}=At(e,l.showing),r=m(()=>{const u=Et[e.anchor];return n.value+(u!==void 0?` ${u}`:"")}),i=m(()=>e.disable===!0||l.showing.value!==!0);function g(u){l.onChildClick(u),o("click",u)}function b(){const u=[];return t.icon!==void 0?u.push(t.icon()):e.icon!==""&&u.push(h(re,{name:e.icon})),(e.label!==""||t.label!==void 0)&&u[a.value.action](h("div",a.value.data,t.label!==void 0?t.label():[e.label])),Ee(t.default,u)}const p=oe();return Object.assign(p.proxy,{click:g}),()=>h(X,{class:r.value,...e,noWrap:!0,stack:e.stacked,icon:void 0,label:void 0,noCaps:!0,fabMini:!0,disable:i.value,onClick:g},b)}}),cl=["up","right","down","left"],dl=["left","center","right"],fl=te({name:"QFab",props:{...Mt,...pt,icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{default:null},direction:{type:String,default:"right",validator:e=>cl.includes(e)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:e=>dl.includes(e)}},emits:yt,setup(e,{slots:t}){const o=B(null),l=B(e.modelValue===!0),n=We(),{proxy:{$q:a}}=oe(),{formClass:r,labelProps:i}=At(e,l),g=m(()=>e.persistent!==!0),{hide:b,toggle:p}=kt({showing:l,hideOnRouteChange:g}),u=m(()=>({opened:l.value})),_=m(()=>`q-fab z-fab row inline justify-center q-fab--align-${e.verticalActionsAlign} ${r.value}`+(l.value===!0?" q-fab--opened":" q-fab--closed")),k=m(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${e.direction} q-fab__actions--${l.value===!0?"opened":"closed"}`),V=m(()=>{const q={id:n,role:"menu"};return l.value!==!0&&(q["aria-hidden"]="true"),q}),R=m(()=>`q-fab__icon-holder  q-fab__icon-holder--${l.value===!0?"opened":"closed"}`);function P(q,Q){const z=t[q],j=`q-fab__${q} absolute-full`;return z===void 0?h(re,{class:j,name:e[Q]||a.iconSet.fab[Q]}):h("div",{class:j},z(u.value))}function A(){const q=[];return e.hideIcon!==!0&&q.push(h("div",{class:R.value},[P("icon","icon"),P("active-icon","activeIcon")])),(e.label!==""||t.label!==void 0)&&q[i.value.action](h("div",i.value.data,t.label!==void 0?t.label(u.value):[e.label])),Ee(t.tooltip,q)}return Wt(bt,{showing:l,onChildClick(q){b(q),o.value!==null&&o.value.$el.focus()}}),()=>h("div",{class:_.value},[h(X,{ref:o,class:r.value,...e,noWrap:!0,stack:e.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":l.value===!0?"true":"false","aria-haspopup":"true","aria-controls":n,onClick:p},A),h("div",{class:k.value,...V.value},ee(t.default))])}}),vl={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>e.length===2},expand:Boolean};function ml(){const{props:e,proxy:{$q:t}}=oe(),o=Ae(Gt,Ne);if(o===Ne)return console.error("QPageSticky needs to be child of QLayout"),Ne;const l=m(()=>{const u=e.position;return{top:u.indexOf("top")>-1,right:u.indexOf("right")>-1,bottom:u.indexOf("bottom")>-1,left:u.indexOf("left")>-1,vertical:u==="top"||u==="bottom",horizontal:u==="left"||u==="right"}}),n=m(()=>o.header.offset),a=m(()=>o.right.offset),r=m(()=>o.footer.offset),i=m(()=>o.left.offset),g=m(()=>{let u=0,_=0;const k=l.value,V=t.lang.rtl===!0?-1:1;k.top===!0&&n.value!==0?_=`${n.value}px`:k.bottom===!0&&r.value!==0&&(_=`${-r.value}px`),k.left===!0&&i.value!==0?u=`${V*i.value}px`:k.right===!0&&a.value!==0&&(u=`${-V*a.value}px`);const R={transform:`translate(${u}, ${_})`};return e.offset&&(R.margin=`${e.offset[1]}px ${e.offset[0]}px`),k.vertical===!0?(i.value!==0&&(R[t.lang.rtl===!0?"right":"left"]=`${i.value}px`),a.value!==0&&(R[t.lang.rtl===!0?"left":"right"]=`${a.value}px`)):k.horizontal===!0&&(n.value!==0&&(R.top=`${n.value}px`),r.value!==0&&(R.bottom=`${r.value}px`)),R}),b=m(()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--${e.expand===!0?"expand":"shrink"}`);function p(u){const _=ee(u.default);return h("div",{class:b.value,style:g.value},e.expand===!0?_:[h("div",_)])}return{$layout:o,getStickyContent:p}}const gl=te({name:"QPageSticky",props:vl,setup(e,{slots:t}){const{getStickyContent:o}=ml();return()=>o(t)}});function hl(){let e;const t=oe();function o(){e=void 0}return mt(o),ve(o),{removeTick:o,registerTick(l){e=l,se(()=>{e===l&&(Yt(t)===!1&&e(),e=void 0)})}}}const bl={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function pl(e,t=()=>{},o=()=>{}){return{transitionProps:m(()=>{const l=`q-transition--${e.transitionShow||t()}`,n=`q-transition--${e.transitionHide||o()}`;return{appear:!0,enterFromClass:`${l}-enter-from`,enterActiveClass:`${l}-enter-active`,enterToClass:`${l}-enter-to`,leaveFromClass:`${n}-leave-from`,leaveActiveClass:`${n}-leave-active`,leaveToClass:`${n}-leave-to`}}),transitionStyle:m(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}const Ve=[];function yl(e){return Ve.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function kl(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return qe(e)}else if(e.__qPortal===!0){const o=qe(e);return o!==void 0&&o.$options.name==="QPopupProxy"?(e.hide(t),o):e}e=qe(e)}while(e!=null)}function xl(e,t,o){for(;o!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(o--,e.$options.name==="QMenu"){e=kl(e,t);continue}e.hide(t)}e=qe(e)}}function Cl(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function _l(e,t,o,l){const n=B(!1),a=B(!1);let r=null;const i={},g=l==="dialog"&&Cl(e);function b(u){if(u===!0){it(i),a.value=!0;return}a.value=!1,n.value===!1&&(g===!1&&r===null&&(r=Xt(!1,l)),n.value=!0,Ve.push(e.proxy),po(i))}function p(u){if(a.value=!1,u!==!0)return;it(i),n.value=!1;const _=Ve.indexOf(e.proxy);_!==-1&&Ve.splice(_,1),r!==null&&(eo(r),r=null)}return Ze(()=>{p(!0)}),e.proxy.__qPortal=!0,je(e.proxy,"contentEl",()=>t.value),{showPortal:b,hidePortal:p,portalIsActive:n,portalIsAccessible:a,renderPortal:()=>g===!0?o():n.value===!0?[h(Jt,{to:r},o())]:void 0}}const de=[];let he;function wl(e){he=e.keyCode===27}function ql(){he===!0&&(he=!1)}function Sl(e){he===!0&&(he=!1,xt(e,27)===!0&&de[de.length-1](e))}function Ft(e){window[e]("keydown",wl),window[e]("blur",ql),window[e]("keyup",Sl),he=!1}function Vl(e){He.is.desktop===!0&&(de.push(e),de.length===1&&Ft("addEventListener"))}function ut(e){const t=de.indexOf(e);t>-1&&(de.splice(t,1),de.length===0&&Ft("removeEventListener"))}const fe=[];function Rt(e){fe[fe.length-1](e)}function Bl(e){He.is.desktop===!0&&(fe.push(e),fe.length===1&&document.body.addEventListener("focusin",Rt))}function ct(e){const t=fe.indexOf(e);t>-1&&(fe.splice(t,1),fe.length===0&&document.body.removeEventListener("focusin",Rt))}let we=0;const Ml={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},dt={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},ft=te({name:"QDialog",inheritAttrs:!1,props:{...pt,...bl,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...yt,"shake","click","escapeKey"],setup(e,{slots:t,emit:o,attrs:l}){const n=oe(),a=B(null),r=B(!1),i=B(!1);let g=null,b=null,p,u;const _=m(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:k}=lo(),{registerTimeout:V}=to(),{registerTick:R,removeTick:P}=hl(),{transitionProps:A,transitionStyle:q}=pl(e,()=>dt[e.position][0],()=>dt[e.position][1]),{showPortal:Q,hidePortal:z,portalIsAccessible:j,renderPortal:T}=_l(n,a,le,"dialog"),{hide:C}=kt({showing:r,hideOnRouteChange:_,handleShow:M,handleHide:O,processOnMount:!0}),{addToHistory:y,removeFromHistory:d}=oo(r,C,_),c=m(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Ml[e.position]}`+(i.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),x=m(()=>r.value===!0&&e.seamless!==!0),s=m(()=>e.autoClose===!0?{onClick:U}:{}),w=m(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${x.value===!0?"modal":"seamless"}`,l.class]);W(()=>e.maximized,S=>{r.value===!0&&$(S)}),W(x,S=>{k(S),S===!0?(Bl(L),Vl(N)):(ct(L),ut(N))});function M(S){y(),b=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,$(e.maximized),Q(),i.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),R(E)):P(),V(()=>{if(n.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:I,bottom:ae}=document.activeElement.getBoundingClientRect(),{innerHeight:Je}=window,Te=window.visualViewport!==void 0?window.visualViewport.height:Je;I>0&&ae>Te/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-Te,ae>=Je?1/0:Math.ceil(document.scrollingElement.scrollTop+ae-Te/2))),document.activeElement.scrollIntoView()}u=!0,a.value.click(),u=!1}Q(!0),i.value=!1,o("show",S)},e.transitionDuration)}function O(S){P(),d(),J(!0),i.value=!0,z(),b!==null&&(((S&&S.type.indexOf("key")===0?b.closest('[tabindex]:not([tabindex^="-"])'):void 0)||b).focus(),b=null),V(()=>{z(!0),i.value=!1,o("hide",S)},e.transitionDuration)}function E(S){Ge(()=>{let I=a.value;I===null||I.contains(document.activeElement)===!0||(I=(S!==""?I.querySelector(S):null)||I.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||I.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||I.querySelector("[autofocus], [data-autofocus]")||I,I.focus({preventScroll:!0}))})}function f(S){S&&typeof S.focus=="function"?S.focus({preventScroll:!0}):E(),o("shake");const I=a.value;I!==null&&(I.classList.remove("q-animate--scale"),I.classList.add("q-animate--scale"),g!==null&&clearTimeout(g),g=setTimeout(()=>{g=null,a.value!==null&&(I.classList.remove("q-animate--scale"),E())},170))}function N(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&f():(o("escapeKey"),C()))}function J(S){g!==null&&(clearTimeout(g),g=null),(S===!0||r.value===!0)&&($(!1),e.seamless!==!0&&(k(!1),ct(L),ut(N))),S!==!0&&(b=null)}function $(S){S===!0?p!==!0&&(we<1&&document.body.classList.add("q-body--dialog"),we++,p=!0):p===!0&&(we<2&&document.body.classList.remove("q-body--dialog"),we--,p=!1)}function U(S){u!==!0&&(C(S),o("click",S))}function v(S){e.persistent!==!0&&e.noBackdropDismiss!==!0?C(S):e.noShake!==!0&&f()}function L(S){e.allowFocusOutside!==!0&&j.value===!0&&no(a.value,S.target)!==!0&&E('[tabindex]:not([tabindex="-1"])')}Object.assign(n.proxy,{focus:E,shake:f,__updateRefocusTarget(S){b=S||null}}),ve(J);function le(){return h("div",{role:"dialog","aria-modal":x.value===!0?"true":"false",...l,class:w.value},[h(Be,{name:"q-transition--fade",appear:!0},()=>x.value===!0?h("div",{class:"q-dialog__backdrop fixed-full",style:q.value,"aria-hidden":"true",tabindex:-1,onClick:v}):null),h(Be,A.value,()=>r.value===!0?h("div",{ref:a,class:c.value,style:q.value,tabindex:-1,...s.value},ee(t.default)):null)])}return T}});function vt(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}const Tt=ao({name:"close-popup",beforeMount(e,{value:t}){const o={depth:vt(t),handler(l){o.depth!==0&&setTimeout(()=>{const n=yl(e);n!==void 0&&xl(n,l,o.depth)})},handlerKey(l){xt(l,13)===!0&&o.handler(l)}};e.__qclosepopup=o,e.addEventListener("click",o.handler),e.addEventListener("keyup",o.handlerKey)},updated(e,{value:t,oldValue:o}){t!==o&&(e.__qclosepopup.depth=vt(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});function Al(){return Ae(io)}const El={name:"CameraPreview",emits:["capture","close"],setup(e,{emit:t}){const o=B(null);let l=null;const n=async()=>{try{l=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),o.value&&(o.value.srcObject=l)}catch(i){console.error("Error accessing camera:",i),t("close")}},a=()=>{l&&l.getTracks().forEach(i=>i.stop())},r=()=>{const i=document.createElement("canvas");i.width=o.value.videoWidth,i.height=o.value.videoHeight,i.getContext("2d").drawImage(o.value,0,0);const g=i.toDataURL("image/jpeg");t("capture",g),a()};return be(()=>{n()}),Ze(()=>{a()}),{videoElement:o,captureImage:r}}},Fl={ref:"videoElement",autoplay:"",playsinline:"",class:"full-width"};function Rl(e,t,o,l,n,a){return D(),ie(Re,{class:"camera-preview"},{default:K(()=>[F(ge,null,{default:K(()=>[Y("video",Fl,null,512)]),_:1}),F(Bt,{align:"right"},{default:K(()=>[Ct(F(X,{flat:"",label:"Close",color:"primary"},null,512),[[Tt]]),F(X,{flat:"",label:"Capture",color:"primary",onClick:l.captureImage},null,8,["onClick"])]),_:1})]),_:1})}const Tl=Fe(El,[["render",Rl],["__scopeId","data-v-a46b76bb"]]),Nl={name:"NoteModal",components:{CameraPreview:Tl},props:{note:{type:Object,required:!0}},emits:["update","delete","close"],setup(e,{emit:t}){const o=Al(),l=B(!0),n=ro({...e.note}),a=B(null),r=B(!1),i=B(!1),g=B(null),b=B([]);W(()=>e.note,C=>{Object.assign(n,C)});const p=()=>{u(n)?t("delete",n.id):t("update",n),t("close")},u=C=>C.title.trim()===""&&C.content.trim()===""&&!C.image&&!C.voiceMemo&&(C.type!=="todo"||C.items&&C.items.every(y=>y.text.trim()==="")),_=()=>{t("update",n),l.value=!1},k=()=>{o.dialog({title:"Confirm",message:"Are you sure you want to delete this note?",cancel:!0,persistent:!0}).onOk(()=>{t("delete",n.id),l.value=!1})},V=()=>{n.type==="todo"&&n.items.push({id:Date.now(),text:"",completed:!1})},R=(C,y)=>{n.type==="todo"&&(n.items[C].text=y)},P=()=>{a.value.click()},A=C=>{const y=C.target.files[0];if(y){const d=new FileReader;d.onload=c=>{n.image=c.target.result},d.readAsDataURL(y)}},q=()=>{n.image=null},Q=()=>{r.value=!0},z=C=>{n.image=C,r.value=!1},j=async()=>{if(i.value)T();else try{const C=await navigator.mediaDevices.getUserMedia({audio:!0});g.value=new MediaRecorder(C),g.value.ondataavailable=y=>{b.value.push(y.data)},g.value.onstop=()=>{const y=new Blob(b.value,{type:"audio/webm"});n.voiceMemo=URL.createObjectURL(y),b.value=[]},g.value.start(),i.value=!0}catch(C){console.error("Error accessing microphone:",C),o.notify({color:"negative",message:"Error accessing microphone. Please check your permissions."})}},T=()=>{g.value&&g.value.state!=="inactive"&&(g.value.stop(),i.value=!1)};return be(()=>{window.addEventListener("beforeunload",T)}),Ze(()=>{window.removeEventListener("beforeunload",T),T()}),{showModal:l,editedNote:n,fileInput:a,showCamera:r,recording:i,closeModal:p,saveNote:_,deleteNote:k,addTodoItem:V,updateTodoItem:R,triggerFileInput:P,handleFileUpload:A,removeImage:q,openCamera:Q,handleCameraCapture:z,toggleRecording:j}}},$l={class:"text-h6"},Il={key:2,class:"q-mt-md"},Pl={class:"absolute-top-right"},Ol={key:3,class:"q-mt-md"},Dl=["src"];function Ll(e,t,o,l,n,a){const r=ht("camera-preview");return D(),ie(ft,{modelValue:l.showModal,"onUpdate:modelValue":t[5]||(t[5]=i=>l.showModal=i),onHide:l.closeModal,maximized:"","transition-show":"slide-up","transition-hide":"slide-down"},{default:K(()=>[F(Re,{class:"column full-height"},{default:K(()=>[F(ge,{class:"row items-center q-pb-none"},{default:K(()=>[Y("div",$l,ne(l.editedNote.title||"Untitled"),1),F(el),Ct(F(X,{icon:"close",flat:"",round:"",dense:""},null,512),[[Tt]])]),_:1}),F(ge,{class:"q-pa-sm flex-grow-1 overflow-auto"},{default:K(()=>[F(Se,{modelValue:l.editedNote.title,"onUpdate:modelValue":t[0]||(t[0]=i=>l.editedNote.title=i),label:"Title",dense:"",autofocus:"",class:"q-mb-md"},null,8,["modelValue"]),l.editedNote.type==="todo"?(D(),Z(ye,{key:0},[(D(!0),Z(ye,null,Ke(l.editedNote.items,(i,g)=>(D(),Z("div",{key:i.id,class:"q-mb-sm"},[F(rl,{modelValue:i.completed,"onUpdate:modelValue":[b=>i.completed=b,b=>l.updateTodoItem(g,i.text)],label:i.text},null,8,["modelValue","onUpdate:modelValue","label"]),F(Se,{modelValue:i.text,"onUpdate:modelValue":[b=>i.text=b,b=>l.updateTodoItem(g,b)],dense:"",class:"q-ml-lg"},null,8,["modelValue","onUpdate:modelValue"])]))),128)),F(X,{label:"Add Item",icon:"add",color:"primary",onClick:l.addTodoItem,class:"q-mt-sm"},null,8,["onClick"])],64)):(D(),ie(Se,{key:1,modelValue:l.editedNote.content,"onUpdate:modelValue":t[1]||(t[1]=i=>l.editedNote.content=i),type:"textarea",label:"Content",autogrow:""},null,8,["modelValue"])),l.editedNote.image?(D(),Z("div",Il,[F(ze,{src:l.editedNote.image,"spinner-color":"primary",style:{"max-height":"600px"}},{default:K(()=>[Y("div",Pl,[F(X,{round:"",color:"negative",icon:"delete",size:"sm",onClick:l.removeImage},null,8,["onClick"])])]),_:1},8,["src"])])):ue("",!0),l.editedNote.voiceMemo?(D(),Z("div",Ol,[Y("audio",{src:l.editedNote.voiceMemo,controls:"",class:"full-width"},null,8,Dl)])):ue("",!0)]),_:1}),F(Bt,{position:"bottom-left"},{default:K(()=>[F(X,{flat:"",color:"negative",label:"Delete",onClick:l.deleteNote},null,8,["onClick"]),F(X,{flat:"",color:"primary",label:"Save",onClick:l.saveNote},null,8,["onClick"])]),_:1}),F(gl,{position:"bottom-right",offset:[18,18]},{default:K(()=>[F(fl,{icon:"add",direction:"up",color:"primary"},{default:K(()=>[F(Pe,{color:"primary",icon:"attach_file",onClick:l.triggerFileInput},null,8,["onClick"]),F(Pe,{color:"primary",icon:"photo_camera",onClick:l.openCamera},null,8,["onClick"]),F(Pe,{color:"primary",icon:l.recording?"stop":"mic",onClick:l.toggleRecording},null,8,["icon","onClick"])]),_:1})]),_:1})]),_:1}),Y("input",{type:"file",ref:"fileInput",accept:"image/*",style:{display:"none"},onChange:t[2]||(t[2]=(...i)=>l.handleFileUpload&&l.handleFileUpload(...i))},null,544),F(ft,{modelValue:l.showCamera,"onUpdate:modelValue":t[4]||(t[4]=i=>l.showCamera=i)},{default:K(()=>[F(r,{onCapture:l.handleCameraCapture,onClose:t[3]||(t[3]=i=>l.showCamera=!1)},null,8,["onCapture"])]),_:1},8,["modelValue"])]),_:1},8,["modelValue","onHide"])}const zl=Fe(Nl,[["render",Ll],["__scopeId","data-v-d2ac1886"]]),jl={name:"QuickCreateArea",emits:["create-note"],setup(e,{emit:t}){const o=B(!1),l=Vt();return{expanded:o,expandArea:()=>{o.value=!0},createNote:async r=>{const i={title:"",content:"",type:r,...r==="todo"?{items:[]}:{}};await l.addNote(i),t("create-note",i),o.value=!1}}}},Ul=e=>(so("data-v-6037507c"),e=e(),uo(),e),Ql={key:0,class:"row items-center"},Hl=Ul(()=>Y("div",{class:"text-primary q-ml-sm"},"Click to create...",-1)),Kl={key:1,class:"column q-gutter-y-sm"};function Zl(e,t,o,l,n,a){return D(),ie(Re,{class:"quick-create-area cursor-pointer",onClick:l.expandArea},{default:K(()=>[F(ge,null,{default:K(()=>[l.expanded?(D(),Z("div",Kl,[F(X,{flat:"",color:"primary",icon:"note_add",label:"Create a new note",onClick:t[0]||(t[0]=r=>l.createNote("note"))}),F(X,{flat:"",color:"primary",icon:"checklist",label:"Create a to-do list",onClick:t[1]||(t[1]=r=>l.createNote("todo"))})])):(D(),Z("div",Ql,[F(re,{name:"add",size:"sm",color:"primary"}),Hl]))]),_:1})]),_:1},8,["onClick"])}const Wl=Fe(jl,[["render",Zl],["__scopeId","data-v-6037507c"]]),Gl={class:"row q-col-gutter-md"},Yl={class:"col-12"},Jl={class:"col-12"},Xl={class:"col-12"},tn={__name:"HomeView",setup(e){const t=Vt(),o=B(""),l=B(null),n=B("grid"),a=m(()=>t.notes.filter(u=>u.title.toLowerCase().includes(o.value.toLowerCase())||u.content.toLowerCase().includes(o.value.toLowerCase()))),r=async u=>{const _={title:"",content:"",type:u,...u==="todo"?{items:[]}:{}};await t.addNote(_),l.value=_},i=async u=>{await t.updateNote(u.id,u),l.value=null},g=async u=>{await t.deleteNote(u),l.value=null},b=u=>{l.value=u},p=()=>{l.value=null};return be(()=>{t.fetchNotes()}),(u,_)=>(D(),ie(co,{padding:""},{default:K(()=>[Y("div",Gl,[Y("div",Yl,[F(Se,{modelValue:o.value,"onUpdate:modelValue":_[0]||(_[0]=k=>o.value=k),filled:"",type:"search",label:"Search notes"},{prepend:K(()=>[F(re,{name:"search"})]),_:1},8,["modelValue"])]),Y("div",Jl,[F(No,{modelValue:n.value,"onUpdate:modelValue":_[1]||(_[1]=k=>n.value=k),spread:"","no-caps":"","toggle-color":"primary",color:"white","text-color":"primary",options:[{label:"Grid",value:"grid",icon:"grid_view"},{label:"List",value:"list",icon:"view_list"}]},null,8,["modelValue"])]),Y("div",Xl,[F(Wl,{onCreateNote:r})]),(D(!0),Z(ye,null,Ke(a.value,k=>(D(),Z("div",{key:k.id,class:De({"col-12":n.value==="list","col-12 col-md-6 col-lg-4":n.value==="grid"})},[F(Jo,{note:k,"is-list-view":n.value==="list",onClick:V=>b(k),onDeleteNote:g},null,8,["note","is-list-view","onClick"])],2))),128))]),l.value?(D(),ie(zl,{key:0,note:l.value,onClose:p,onUpdate:i,onDelete:g},null,8,["note"])):ue("",!0)]),_:1}))}};export{tn as default};
