import{i as $e,f as Ft,g as te,w as Z,o as be,a as ve,r as M,c as m,d as At,b as je,e as Tt,s as Ne,n as se,h as mt,j as Pt,k as It,l as b,p as pe,u as Ue,m as Qe,Q as re,q as gt,t as X,T as Be,v as Ot,x as He,y as ee,z as Xe,A as Nt,B as ae,C as Ee,D as Dt,_ as Re,E as Lt,F as L,G as ie,H as K,I as ne,J as Y,K as A,L as et,M as G,N as ue,O as ye,P as De,R as Ke,S as zt,U as me,V as jt,W as Ut,X as Qt,Y as Ht,Z as ht,$ as bt,a0 as pt,a1 as yt,a2 as Kt,a3 as Te,a4 as Zt,a5 as Wt,a6 as qe,a7 as Ze,a8 as Gt,a9 as Yt,aa as Jt,ab as kt,ac as Xt,ad as el,ae as tl,af as ll,ag as nl,ah as ol,ai as xt,aj as al,ak as il,al as rl,am as sl}from"./index-C0_3yNY3.js";function ul({validate:e,resetValidation:l,requiresQForm:t}){const n=$e(Ft,!1);if(n!==!1){const{props:u,proxy:i}=te();Object.assign(i,{validate:e,resetValidation:l}),Z(()=>u.disable,o=>{o===!0?(typeof l=="function"&&l(),n.unbindComponent(i)):n.bindComponent(i)}),be(()=>{u.disable!==!0&&n.bindComponent(i)}),ve(()=>{u.disable!==!0&&n.unbindComponent(i)})}else t===!0&&console.error("Parent QForm not found on useFormChild()!")}const tt=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,lt=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,nt=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,xe=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,_e=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Pe={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>tt.test(e),hexaColor:e=>lt.test(e),hexOrHexaColor:e=>nt.test(e),rgbColor:e=>xe.test(e),rgbaColor:e=>_e.test(e),rgbOrRgbaColor:e=>xe.test(e)||_e.test(e),hexOrRgbColor:e=>tt.test(e)||xe.test(e),hexaOrRgbaColor:e=>lt.test(e)||_e.test(e),anyColor:e=>nt.test(e)||xe.test(e)||_e.test(e)},cl=[!0,!1,"ondemand"],dl={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>cl.includes(e)}};function fl(e,l){const{props:t,proxy:n}=te(),u=M(!1),i=M(null),o=M(null);ul({validate:S,resetValidation:y});let d=0,p;const k=m(()=>t.rules!==void 0&&t.rules!==null&&t.rules.length!==0),h=m(()=>t.disable!==!0&&k.value===!0),c=m(()=>t.error===!0||u.value===!0),x=m(()=>typeof t.errorMessage=="string"&&t.errorMessage.length!==0?t.errorMessage:i.value);Z(()=>t.modelValue,()=>{R()}),Z(()=>t.reactiveRules,V=>{V===!0?p===void 0&&(p=Z(()=>t.rules,()=>{R(!0)})):p!==void 0&&(p(),p=void 0)},{immediate:!0}),Z(e,V=>{V===!0?o.value===null&&(o.value=!1):o.value===!1&&(o.value=!0,h.value===!0&&t.lazyRules!=="ondemand"&&l.value===!1&&O())});function y(){d++,l.value=!1,o.value=null,u.value=!1,i.value=null,O.cancel()}function S(V=t.modelValue){if(h.value!==!0)return!0;const C=++d,Q=l.value!==!0?()=>{o.value=!0}:()=>{},z=(T,$)=>{T===!0&&Q(),u.value=T,i.value=$||null,l.value=!1},j=[];for(let T=0;T<t.rules.length;T++){const $=t.rules[T];let _;if(typeof $=="function"?_=$(V,Pe):typeof $=="string"&&Pe[$]!==void 0&&(_=Pe[$](V)),_===!1||typeof _=="string")return z(!0,_),!1;_!==!0&&_!==void 0&&j.push(_)}return j.length===0?(z(!1),!0):(l.value=!0,Promise.all(j).then(T=>{if(T===void 0||Array.isArray(T)===!1||T.length===0)return C===d&&z(!1),!0;const $=T.find(_=>_===!1||typeof _=="string");return C===d&&z($!==void 0,$),$===void 0},T=>(C===d&&(console.error(T),z(!0)),!1)))}function R(V){h.value===!0&&t.lazyRules!=="ondemand"&&(o.value===!0||t.lazyRules!==!0&&V!==!0)&&O()}const O=At(S,0);return ve(()=>{p!==void 0&&p(),O.cancel()}),Object.assign(n,{resetValidation:y,validate:S}),je(n,"hasError",()=>c.value),{isDirtyModel:o,hasRules:k,hasError:c,errorMessage:x,validate:S,resetValidation:y}}const ot=/^on[A-Z]/;function vl(e,l){const t={listeners:M({}),attributes:M({})};function n(){const u={},i={};for(const o in e)o!=="class"&&o!=="style"&&ot.test(o)===!1&&(u[o]=e[o]);for(const o in l.props)ot.test(o)===!0&&(i[o]=l.props[o]);t.attributes.value=u,t.listeners.value=i}return Tt(n),n(),t}let Ie,we=0;const W=new Array(256);for(let e=0;e<256;e++)W[e]=(e+256).toString(16).substring(1);const ml=(()=>{const e=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return l=>{const t=new Uint8Array(l);return e.getRandomValues(t),t}}return l=>{const t=[];for(let n=l;n>0;n--)t.push(Math.floor(Math.random()*256));return t}})(),at=4096;function We(){(Ie===void 0||we+16>at)&&(we=0,Ie=ml(at));const e=Array.prototype.slice.call(Ie,we,we+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,W[e[0]]+W[e[1]]+W[e[2]]+W[e[3]]+"-"+W[e[4]]+W[e[5]]+"-"+W[e[6]]+W[e[7]]+"-"+W[e[8]]+W[e[9]]+"-"+W[e[10]]+W[e[11]]+W[e[12]]+W[e[13]]+W[e[14]]+W[e[15]]}let ce=[],ke=[];function _t(e){ke=ke.filter(l=>l!==e)}function gl(e){_t(e),ke.push(e)}function it(e){_t(e),ke.length===0&&ce.length!==0&&(ce[ce.length-1](),ce=[])}function Ge(e){ke.length===0?e():ce.push(e)}function hl(e){ce=ce.filter(l=>l!==e)}function wt(e,l){return e===void 0?l===!0?`f_${We()}`:void 0:e}function Le(e){return e!=null&&(""+e).length!==0}const bl={...Ue,...dl,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},pl=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function yl({requiredForAttr:e=!0,tagProp:l}={}){const{props:t,attrs:n,proxy:u,vnode:i}=te(),o=Qe(t,u.$q);return{requiredForAttr:e,tag:l===!0?m(()=>t.tag):{value:"label"},isDark:o,editable:m(()=>t.disable!==!0&&t.readonly!==!0),innerLoading:M(!1),focused:M(!1),hasPopupOpen:!1,splitAttrs:vl(n,i),targetUid:M(wt(t.for,e)),rootRef:M(null),targetRef:M(null),controlRef:M(null)}}function kl(e){const{props:l,emit:t,slots:n,attrs:u,proxy:i}=te(),{$q:o}=i;let d=null;e.hasValue===void 0&&(e.hasValue=m(()=>Le(l.modelValue))),e.emitValue===void 0&&(e.emitValue=f=>{t("update:modelValue",f)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:s,onFocusout:r}),Object.assign(e,{clearValue:g,onControlFocusin:s,onControlFocusout:r,focus:$}),e.computedCounter===void 0&&(e.computedCounter=m(()=>{if(l.counter!==!1){const f=typeof l.modelValue=="string"||typeof l.modelValue=="number"?(""+l.modelValue).length:Array.isArray(l.modelValue)===!0?l.modelValue.length:0,F=l.maxlength!==void 0?l.maxlength:l.maxValues;return f+(F!==void 0?" / "+F:"")}}));const{isDirtyModel:p,hasRules:k,hasError:h,errorMessage:c,resetValidation:x}=fl(e.focused,e.innerLoading),y=e.floatingLabel!==void 0?m(()=>l.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):m(()=>l.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),S=m(()=>l.bottomSlots===!0||l.hint!==void 0||k.value===!0||l.counter===!0||l.error!==null),R=m(()=>l.filled===!0?"filled":l.outlined===!0?"outlined":l.borderless===!0?"borderless":l.standout?"standout":"standard"),O=m(()=>`q-field row no-wrap items-start q-field--${R.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(l.rounded===!0?" q-field--rounded":"")+(l.square===!0?" q-field--square":"")+(y.value===!0?" q-field--float":"")+(C.value===!0?" q-field--labeled":"")+(l.dense===!0?" q-field--dense":"")+(l.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(h.value===!0?" q-field--error":"")+(h.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(l.hideBottomSpace!==!0&&S.value===!0?" q-field--with-bottom":"")+(l.disable===!0?" q-field--disabled":l.readonly===!0?" q-field--readonly":"")),V=m(()=>"q-field__control relative-position row no-wrap"+(l.bgColor!==void 0?` bg-${l.bgColor}`:"")+(h.value===!0?" text-negative":typeof l.standout=="string"&&l.standout.length!==0&&e.focused.value===!0?` ${l.standout}`:l.color!==void 0?` text-${l.color}`:"")),C=m(()=>l.labelSlot===!0||l.label!==void 0),Q=m(()=>"q-field__label no-pointer-events absolute ellipsis"+(l.labelColor!==void 0&&h.value!==!0?` text-${l.labelColor}`:"")),z=m(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:y.value,modelValue:l.modelValue,emitValue:e.emitValue})),j=m(()=>{const f={for:e.targetUid.value};return l.disable===!0?f["aria-disabled"]="true":l.readonly===!0&&(f["aria-readonly"]="true"),f});Z(()=>l.for,f=>{e.targetUid.value=wt(f,e.requiredForAttr)});function T(){const f=document.activeElement;let F=e.targetRef!==void 0&&e.targetRef.value;F&&(f===null||f.id!==e.targetUid.value)&&(F.hasAttribute("tabindex")===!0||(F=F.querySelector("[tabindex]")),F&&F!==f&&F.focus({preventScroll:!0}))}function $(){Ge(T)}function _(){hl(T);const f=document.activeElement;f!==null&&e.rootRef.value.contains(f)&&f.blur()}function s(f){d!==null&&(clearTimeout(d),d=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,t("focus",f))}function r(f,F){d!==null&&clearTimeout(d),d=setTimeout(()=>{d=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,t("blur",f)),F!==void 0&&F())})}function g(f){Ne(f),o.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),l.type==="file"&&(e.inputRef.value.value=null),t("update:modelValue",null),t("clear",l.modelValue),se(()=>{x(),o.platform.is.mobile!==!0&&(p.value=!1)})}function a(){const f=[];return n.prepend!==void 0&&f.push(b("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:pe},n.prepend())),f.push(b("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},w())),h.value===!0&&l.noErrorIcon===!1&&f.push(N("error",[b(re,{name:o.iconSet.field.error,color:"negative"})])),l.loading===!0||e.innerLoading.value===!0?f.push(N("inner-loading-append",n.loading!==void 0?n.loading():[b(gt,{color:l.color})])):l.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&f.push(N("inner-clearable-append",[b(re,{class:"q-field__focusable-action",tag:"button",name:l.clearIcon||o.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:g})])),n.append!==void 0&&f.push(b("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:pe},n.append())),e.getInnerAppend!==void 0&&f.push(N("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&f.push(e.getControlChild()),f}function w(){const f=[];return l.prefix!==void 0&&l.prefix!==null&&f.push(b("div",{class:"q-field__prefix no-pointer-events row items-center"},l.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&f.push(e.getShadowControl()),e.getControl!==void 0?f.push(e.getControl()):n.rawControl!==void 0?f.push(n.rawControl()):n.control!==void 0&&f.push(b("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":l.autofocus===!0||void 0},n.control(z.value))),C.value===!0&&f.push(b("div",{class:Q.value},X(n.label,l.label))),l.suffix!==void 0&&l.suffix!==null&&f.push(b("div",{class:"q-field__suffix no-pointer-events row items-center"},l.suffix)),f.concat(X(n.default))}function B(){let f,F;h.value===!0?c.value!==null?(f=[b("div",{role:"alert"},c.value)],F=`q--slot-error-${c.value}`):(f=X(n.error),F="q--slot-error"):(l.hideHint!==!0||e.focused.value===!0)&&(l.hint!==void 0?(f=[b("div",l.hint)],F=`q--slot-hint-${l.hint}`):(f=X(n.hint),F="q--slot-hint"));const J=l.counter===!0||n.counter!==void 0;if(l.hideBottomSpace===!0&&J===!1&&f===void 0)return;const P=b("div",{key:F,class:"q-field__messages col"},f);return b("div",{class:"q-field__bottom row items-start q-field__bottom--"+(l.hideBottomSpace!==!0?"animated":"stale"),onClick:pe},[l.hideBottomSpace===!0?P:b(Be,{name:"q-transition--field-message"},()=>P),J===!0?b("div",{class:"q-field__counter"},n.counter!==void 0?n.counter():e.computedCounter.value):null])}function N(f,F){return F===null?null:b("div",{key:f,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},F)}let E=!1;return mt(()=>{E=!0}),Pt(()=>{E===!0&&l.autofocus===!0&&i.focus()}),be(()=>{It.value===!0&&e.requiredForAttr===!0&&l.for===void 0&&(e.targetUid.value=`f_${We()}`),l.autofocus===!0&&i.focus()}),ve(()=>{d!==null&&clearTimeout(d)}),Object.assign(i,{focus:$,blur:_}),function(){const F=e.getControl===void 0&&n.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":l.autofocus===!0||void 0,...j.value}:j.value;return b(e.tag.value,{ref:e.rootRef,class:[O.value,u.class],style:u.style,...F},[n.before!==void 0?b("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:pe},n.before()):null,b("div",{class:"q-field__inner relative-position col self-stretch"},[b("div",{ref:e.controlRef,class:V.value,tabindex:-1,...e.controlEvents},a()),S.value===!0?B():null]),n.after!==void 0?b("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:pe},n.after()):null])}}const rt={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Me={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Ct=Object.keys(Me);Ct.forEach(e=>{Me[e].regex=new RegExp(Me[e].pattern)});const xl=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Ct.join("")+"])|(.)","g"),st=/[.*+?^${}()|[\]\\]/g,H="",_l={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function wl(e,l,t,n){let u,i,o,d,p,k;const h=M(null),c=M(y());function x(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}Z(()=>e.type+e.autogrow,R),Z(()=>e.mask,s=>{if(s!==void 0)O(c.value,!0);else{const r=$(c.value);R(),e.modelValue!==r&&l("update:modelValue",r)}}),Z(()=>e.fillMask+e.reverseFillMask,()=>{h.value===!0&&O(c.value,!0)}),Z(()=>e.unmaskedValue,()=>{h.value===!0&&O(c.value)});function y(){if(R(),h.value===!0){const s=j($(e.modelValue));return e.fillMask!==!1?_(s):s}return e.modelValue}function S(s){if(s<u.length)return u.slice(-s);let r="",g=u;const a=g.indexOf(H);if(a>-1){for(let w=s-g.length;w>0;w--)r+=H;g=g.slice(0,a)+r+g.slice(a)}return g}function R(){if(h.value=e.mask!==void 0&&e.mask.length!==0&&x(),h.value===!1){d=void 0,u="",i="";return}const s=rt[e.mask]===void 0?e.mask:rt[e.mask],r=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",g=r.replace(st,"\\$&"),a=[],w=[],B=[];let N=e.reverseFillMask===!0,E="",f="";s.replace(xl,(U,v,D,le,q)=>{if(le!==void 0){const I=Me[le];B.push(I),f=I.negate,N===!0&&(w.push("(?:"+f+"+)?("+I.pattern+"+)?(?:"+f+"+)?("+I.pattern+"+)?"),N=!1),w.push("(?:"+f+"+)?("+I.pattern+")?")}else if(D!==void 0)E="\\"+(D==="\\"?"":D),B.push(D),a.push("([^"+E+"]+)?"+E+"?");else{const I=v!==void 0?v:q;E=I==="\\"?"\\\\\\\\":I.replace(st,"\\\\$&"),B.push(I),a.push("([^"+E+"]+)?"+E+"?")}});const F=new RegExp("^"+a.join("")+"("+(E===""?".":"[^"+E+"]")+"+)?"+(E===""?"":"["+E+"]*")+"$"),J=w.length-1,P=w.map((U,v)=>v===0&&e.reverseFillMask===!0?new RegExp("^"+g+"*"+U):v===J?new RegExp("^"+U+"("+(f===""?".":f)+"+)?"+(e.reverseFillMask===!0?"$":g+"*")):new RegExp("^"+U));o=B,d=U=>{const v=F.exec(e.reverseFillMask===!0?U:U.slice(0,B.length+1));v!==null&&(U=v.slice(1).join(""));const D=[],le=P.length;for(let q=0,I=U;q<le;q++){const oe=P[q].exec(I);if(oe===null)break;I=I.slice(oe.shift().length),D.push(...oe)}return D.length!==0?D.join(""):U},u=B.map(U=>typeof U=="string"?U:H).join(""),i=u.split(H).join(r)}function O(s,r,g){const a=n.value,w=a.selectionEnd,B=a.value.length-w,N=$(s);r===!0&&R();const E=j(N),f=e.fillMask!==!1?_(E):E,F=c.value!==f;a.value!==f&&(a.value=f),F===!0&&(c.value=f),document.activeElement===a&&se(()=>{if(f===i){const P=e.reverseFillMask===!0?i.length:0;a.setSelectionRange(P,P,"forward");return}if(g==="insertFromPaste"&&e.reverseFillMask!==!0){const P=a.selectionEnd;let U=w-1;for(let v=p;v<=U&&v<P;v++)u[v]!==H&&U++;C.right(a,U);return}if(["deleteContentBackward","deleteContentForward"].indexOf(g)>-1){const P=e.reverseFillMask===!0?w===0?f.length>E.length?1:0:Math.max(0,f.length-(f===i?0:Math.min(E.length,B)+1))+1:w;a.setSelectionRange(P,P,"forward");return}if(e.reverseFillMask===!0)if(F===!0){const P=Math.max(0,f.length-(f===i?0:Math.min(E.length,B+1)));P===1&&w===1?a.setSelectionRange(P,P,"forward"):C.rightReverse(a,P)}else{const P=f.length-B;a.setSelectionRange(P,P,"backward")}else if(F===!0){const P=Math.max(0,u.indexOf(H),Math.min(E.length,w)-1);C.right(a,P)}else{const P=w-1;C.right(a,P)}});const J=e.unmaskedValue===!0?$(f):f;String(e.modelValue)!==J&&(e.modelValue!==null||J!=="")&&t(J,!0)}function V(s,r,g){const a=j($(s.value));r=Math.max(0,u.indexOf(H),Math.min(a.length,r)),p=r,s.setSelectionRange(r,g,"forward")}const C={left(s,r){const g=u.slice(r-1).indexOf(H)===-1;let a=Math.max(0,r-1);for(;a>=0;a--)if(u[a]===H){r=a,g===!0&&r++;break}if(a<0&&u[r]!==void 0&&u[r]!==H)return C.right(s,0);r>=0&&s.setSelectionRange(r,r,"backward")},right(s,r){const g=s.value.length;let a=Math.min(g,r+1);for(;a<=g;a++)if(u[a]===H){r=a;break}else u[a-1]===H&&(r=a);if(a>g&&u[r-1]!==void 0&&u[r-1]!==H)return C.left(s,g);s.setSelectionRange(r,r,"forward")},leftReverse(s,r){const g=S(s.value.length);let a=Math.max(0,r-1);for(;a>=0;a--)if(g[a-1]===H){r=a;break}else if(g[a]===H&&(r=a,a===0))break;if(a<0&&g[r]!==void 0&&g[r]!==H)return C.rightReverse(s,0);r>=0&&s.setSelectionRange(r,r,"backward")},rightReverse(s,r){const g=s.value.length,a=S(g),w=a.slice(0,r+1).indexOf(H)===-1;let B=Math.min(g,r+1);for(;B<=g;B++)if(a[B-1]===H){r=B,r>0&&w===!0&&r--;break}if(B>g&&a[r-1]!==void 0&&a[r-1]!==H)return C.leftReverse(s,g);s.setSelectionRange(r,r,"forward")}};function Q(s){l("click",s),k=void 0}function z(s){if(l("keydown",s),Ot(s)===!0||s.altKey===!0)return;const r=n.value,g=r.selectionStart,a=r.selectionEnd;if(s.shiftKey||(k=void 0),s.keyCode===37||s.keyCode===39){s.shiftKey&&k===void 0&&(k=r.selectionDirection==="forward"?g:a);const w=C[(s.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(s.preventDefault(),w(r,k===g?a:g),s.shiftKey){const B=r.selectionStart;r.setSelectionRange(Math.min(k,B),Math.max(k,B),"forward")}}else s.keyCode===8&&e.reverseFillMask!==!0&&g===a?(C.left(r,g),r.setSelectionRange(r.selectionStart,a,"backward")):s.keyCode===46&&e.reverseFillMask===!0&&g===a&&(C.rightReverse(r,a),r.setSelectionRange(g,r.selectionEnd,"forward"))}function j(s){if(s==null||s==="")return"";if(e.reverseFillMask===!0)return T(s);const r=o;let g=0,a="";for(let w=0;w<r.length;w++){const B=s[g],N=r[w];if(typeof N=="string")a+=N,B===N&&g++;else if(B!==void 0&&N.regex.test(B))a+=N.transform!==void 0?N.transform(B):B,g++;else return a}return a}function T(s){const r=o,g=u.indexOf(H);let a=s.length-1,w="";for(let B=r.length-1;B>=0&&a>-1;B--){const N=r[B];let E=s[a];if(typeof N=="string")w=N+w,E===N&&a--;else if(E!==void 0&&N.regex.test(E))do w=(N.transform!==void 0?N.transform(E):E)+w,a--,E=s[a];while(g===B&&E!==void 0&&N.regex.test(E));else return w}return w}function $(s){return typeof s!="string"||d===void 0?typeof s=="number"?d(""+s):s:d(s)}function _(s){return i.length-s.length<=0?s:e.reverseFillMask===!0&&s.length!==0?i.slice(0,-s.length)+s:s+i.slice(s.length)}return{innerValue:c,hasMask:h,moveCursorForPaste:V,updateMaskValue:O,onMaskedKeydown:z,onMaskedClick:Q}}const Ye={name:String};function qt(e={}){return(l,t,n)=>{l[t](b("input",{class:"hidden"+(n||""),...e.value}))}}function Cl(e){return m(()=>e.name||e.for)}function ql(e,l){function t(){const n=e.modelValue;try{const u="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(n)===n&&("length"in n?Array.from(n):[n]).forEach(i=>{u.items.add(i)}),{files:u.files}}catch{return{files:void 0}}}return l===!0?m(()=>{if(e.type==="file")return t()}):m(t)}const Sl=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Vl=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Bl=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Ml=/[a-z0-9_ -]$/i;function $l(e){return function(t){if(t.type==="compositionend"||t.type==="change"){if(t.target.qComposing!==!0)return;t.target.qComposing=!1,e(t)}else t.type==="compositionupdate"&&t.target.qComposing!==!0&&typeof t.data=="string"&&(He.is.firefox===!0?Ml.test(t.data)===!1:Sl.test(t.data)===!0||Vl.test(t.data)===!0||Bl.test(t.data)===!0)===!0&&(t.target.qComposing=!0)}}const Se=ee({name:"QInput",inheritAttrs:!1,props:{...bl,..._l,...Ye,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...pl,"paste","change","keydown","click","animationend"],setup(e,{emit:l,attrs:t}){const{proxy:n}=te(),{$q:u}=n,i={};let o=NaN,d,p,k=null,h;const c=M(null),x=Cl(e),{innerValue:y,hasMask:S,moveCursorForPaste:R,updateMaskValue:O,onMaskedKeydown:V,onMaskedClick:C}=wl(e,l,E,c),Q=ql(e,!0),z=m(()=>Le(y.value)),j=$l(B),T=yl(),$=m(()=>e.type==="textarea"||e.autogrow===!0),_=m(()=>$.value===!0||["text","search","url","tel","password"].includes(e.type)),s=m(()=>{const v={...T.splitAttrs.listeners.value,onInput:B,onPaste:w,onChange:F,onBlur:J,onFocus:Xe};return v.onCompositionstart=v.onCompositionupdate=v.onCompositionend=j,S.value===!0&&(v.onKeydown=V,v.onClick=C),e.autogrow===!0&&(v.onAnimationend=N),v}),r=m(()=>{const v={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:x.value,...T.splitAttrs.attributes.value,id:T.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return $.value===!1&&(v.type=e.type),e.autogrow===!0&&(v.rows=1),v});Z(()=>e.type,()=>{c.value&&(c.value.value=e.modelValue)}),Z(()=>e.modelValue,v=>{if(S.value===!0){if(p===!0&&(p=!1,String(v)===o))return;O(v)}else y.value!==v&&(y.value=v,e.type==="number"&&i.hasOwnProperty("value")===!0&&(d===!0?d=!1:delete i.value));e.autogrow===!0&&se(f)}),Z(()=>e.autogrow,v=>{v===!0?se(f):c.value!==null&&t.rows>0&&(c.value.style.height="auto")}),Z(()=>e.dense,()=>{e.autogrow===!0&&se(f)});function g(){Ge(()=>{const v=document.activeElement;c.value!==null&&c.value!==v&&(v===null||v.id!==T.targetUid.value)&&c.value.focus({preventScroll:!0})})}function a(){c.value!==null&&c.value.select()}function w(v){if(S.value===!0&&e.reverseFillMask!==!0){const D=v.target;R(D,D.selectionStart,D.selectionEnd)}l("paste",v)}function B(v){if(!v||!v.target)return;if(e.type==="file"){l("update:modelValue",v.target.files);return}const D=v.target.value;if(v.target.qComposing===!0){i.value=D;return}if(S.value===!0)O(D,!1,v.inputType);else if(E(D),_.value===!0&&v.target===document.activeElement){const{selectionStart:le,selectionEnd:q}=v.target;le!==void 0&&q!==void 0&&se(()=>{v.target===document.activeElement&&D.indexOf(v.target.value)===0&&v.target.setSelectionRange(le,q)})}e.autogrow===!0&&f()}function N(v){l("animationend",v),f()}function E(v,D){h=()=>{k=null,e.type!=="number"&&i.hasOwnProperty("value")===!0&&delete i.value,e.modelValue!==v&&o!==v&&(o=v,D===!0&&(p=!0),l("update:modelValue",v),se(()=>{o===v&&(o=NaN)})),h=void 0},e.type==="number"&&(d=!0,i.value=v),e.debounce!==void 0?(k!==null&&clearTimeout(k),i.value=v,k=setTimeout(h,e.debounce)):h()}function f(){requestAnimationFrame(()=>{const v=c.value;if(v!==null){const D=v.parentNode.style,{scrollTop:le}=v,{overflowY:q,maxHeight:I}=u.platform.is.firefox===!0?{}:window.getComputedStyle(v),oe=q!==void 0&&q!=="scroll";oe===!0&&(v.style.overflowY="hidden"),D.marginBottom=v.scrollHeight-1+"px",v.style.height="1px",v.style.height=v.scrollHeight+"px",oe===!0&&(v.style.overflowY=parseInt(I,10)<v.scrollHeight?"auto":"hidden"),D.marginBottom="",v.scrollTop=le}})}function F(v){j(v),k!==null&&(clearTimeout(k),k=null),h!==void 0&&h(),l("change",v.target.value)}function J(v){v!==void 0&&Xe(v),k!==null&&(clearTimeout(k),k=null),h!==void 0&&h(),d=!1,p=!1,delete i.value,e.type!=="file"&&setTimeout(()=>{c.value!==null&&(c.value.value=y.value!==void 0?y.value:"")})}function P(){return i.hasOwnProperty("value")===!0?i.value:y.value!==void 0?y.value:""}ve(()=>{J()}),be(()=>{e.autogrow===!0&&f()}),Object.assign(T,{innerValue:y,fieldClass:m(()=>`q-${$.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:m(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:c,emitValue:E,hasValue:z,floatingLabel:m(()=>z.value===!0&&(e.type!=="number"||isNaN(y.value)===!1)||Le(e.displayValue)),getControl:()=>b($.value===!0?"textarea":"input",{ref:c,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...r.value,...s.value,...e.type!=="file"?{value:P()}:Q.value}),getShadowControl:()=>b("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+($.value===!0?"":" text-no-wrap")},[b("span",{class:"invisible"},P()),b("span",e.shadowText)])});const U=kl(T);return Object.assign(n,{focus:g,select:a,getNativeElement:()=>c.value}),je(n,"nativeEl",()=>c.value),U}}),El=ee({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:l}){const t=m(()=>{const n=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(u=>e[u]===!0).map(u=>`q-btn-group--${u}`).join(" ");return`q-btn-group row no-wrap${n.length!==0?" "+n:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>b("div",{class:t.value},X(l.default))}}),Rl=ee({name:"QBtnToggle",props:{...Ye,modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(l=>("label"in l||"icon"in l||"slot"in l)&&"value"in l)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(e,{slots:l,emit:t}){const n=m(()=>e.options.find(x=>x.value===e.modelValue)!==void 0),u=m(()=>({type:"hidden",name:e.name,value:e.modelValue})),i=qt(u),o=m(()=>Nt(e)),d=m(()=>({rounded:e.rounded,dense:e.dense,...o.value})),p=m(()=>e.options.map((x,y)=>{const{attrs:S,value:R,slot:O,...V}=x;return{slot:O,props:{key:y,"aria-pressed":R===e.modelValue?"true":"false",...S,...V,...d.value,disable:e.disable===!0||V.disable===!0,color:R===e.modelValue?h(V,"toggleColor"):h(V,"color"),textColor:R===e.modelValue?h(V,"toggleTextColor"):h(V,"textColor"),noCaps:h(V,"noCaps")===!0,noWrap:h(V,"noWrap")===!0,size:h(V,"size"),padding:h(V,"padding"),ripple:h(V,"ripple"),stack:h(V,"stack")===!0,stretch:h(V,"stretch")===!0,onClick(C){k(R,x,C)}}}}));function k(x,y,S){e.readonly!==!0&&(e.modelValue===x?e.clearable===!0&&(t("update:modelValue",null,null),t("clear")):t("update:modelValue",x,y),t("click",S))}function h(x,y){return x[y]===void 0?e[y]:x[y]}function c(){const x=p.value.map(y=>b(ae,y.props,y.slot!==void 0?l[y.slot]:void 0));return e.name!==void 0&&e.disable!==!0&&n.value===!0&&i(x,"push"),Ee(l.default,x)}return()=>b(El,{class:"q-btn-toggle",...o.value,rounded:e.rounded,stretch:e.stretch,glossy:e.glossy,spread:e.spread},c)}}),ge=ee({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:l}){const t=m(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>b(e.tag,{class:t.value},X(l.default))}}),Fe=ee({name:"QCard",props:{...Ue,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:l}){const{proxy:{$q:t}}=te(),n=Qe(e,t),u=m(()=>"q-card"+(n.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>b(e.tag,{class:u.value},X(l.default))}}),Fl=Dt("notesStore",()=>{const e=M([]),l=async()=>{const o=await fetch("http://localhost:3000/notes");e.value=await o.json()};return{notes:e,fetchNotes:l,addNote:async o=>{const p=await(await fetch("http://localhost:3000/notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).json();e.value.push(p)},updateNote:async(o,d)=>{await fetch(`http://localhost:3000/notes/${o}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}),await l()},deleteNote:async o=>{await fetch(`http://localhost:3000/notes/${o}`,{method:"DELETE"}),e.value=e.value.filter(d=>d.id!==o)},uploadImage:async o=>{const d=new FormData;d.append("image",o,`note-image-${Date.now()}.jpg`);try{const p=await fetch("http://localhost:3000/upload",{method:"POST",body:d});if(!p.ok)throw new Error("Failed to upload image");return(await p.json()).filePath}catch(p){return console.error("Error uploading image:",p),null}}}}),Al={ratio:[String,Number]};function Tl(e,l){return m(()=>{const t=Number(e.ratio||(l!==void 0?l.value:void 0));return isNaN(t)!==!0&&t>0?{paddingBottom:`${100/t}%`}:null})}const Pl=16/9,ze=ee({name:"QImg",props:{...Al,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Pl},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:l,emit:t}){const n=M(e.initialRatio),u=Tl(e,n);let i=null,o=!1;const d=[M(null),M(O())],p=M(0),k=M(!1),h=M(!1),c=m(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),x=m(()=>({width:e.width,height:e.height})),y=m(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),S=m(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));Z(()=>R(),V);function R(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function O(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function V(_){i!==null&&(clearTimeout(i),i=null),h.value=!1,_===null?(k.value=!1,d[p.value^1].value=O()):k.value=!0,d[p.value].value=_}function C({target:_}){o!==!0&&(i!==null&&(clearTimeout(i),i=null),n.value=_.naturalHeight===0?.5:_.naturalWidth/_.naturalHeight,Q(_,1))}function Q(_,s){o===!0||s===1e3||(_.complete===!0?z(_):i=setTimeout(()=>{i=null,Q(_,s+1)},50))}function z(_){o!==!0&&(p.value=p.value^1,d[p.value].value=null,k.value=!1,h.value=!1,t("load",_.currentSrc||_.src))}function j(_){i!==null&&(clearTimeout(i),i=null),k.value=!1,h.value=!0,d[p.value].value=null,d[p.value^1].value=O(),t("error",_)}function T(_){const s=d[_].value,r={key:"img_"+_,class:y.value,style:S.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...s};return p.value===_?(r.class+=" q-img__image--waiting",Object.assign(r,{onLoad:C,onError:j})):r.class+=" q-img__image--loaded",b("div",{class:"q-img__container absolute-full",key:"img"+_},b("img",r))}function $(){return k.value!==!0?b("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},X(l[h.value===!0?"error":"default"])):b("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},l.loading!==void 0?l.loading():e.noSpinner===!0?void 0:[b(gt,{color:e.spinnerColor,size:e.spinnerSize})])}return V(R()),ve(()=>{o=!0,i!==null&&(clearTimeout(i),i=null)}),()=>{const _=[];return u.value!==null&&_.push(b("div",{key:"filler",style:u.value})),h.value!==!0&&(d[0].value!==null&&_.push(T(0)),d[1].value!==null&&_.push(T(1))),_.push(b(Be,{name:"q-transition--fade"},$)),b("div",{class:c.value,style:x.value,role:"img","aria-label":e.alt},_)}}}),Il={props:{note:Object,onClick:Function,isListView:Boolean},computed:{completedTodos(){return this.note.type==="todo"?this.note.items.filter(e=>e.completed).length:0},totalTodos(){return this.note.type==="todo"?this.note.items.length:0}}},Ol={key:0,class:"row items-center q-pa-md"},Nl={class:"col"},Dl={class:"text-h6"},Ll={key:0,class:"text-caption text-muted-foreground row items-center"},zl={key:1,class:"text-caption text-muted-foreground ellipsis"},jl={class:"text-h6"},Ul={key:0},Ql={key:0,class:"text-caption text-muted-foreground"},Hl={class:"text-caption text-muted-foreground row items-center"},Kl={key:1},Zl={class:"ellipsis"};function Wl(e,l,t,n,u,i){const o=Lt("q-audio");return L(),ie(Fe,{onClick:t.onClick,class:De(["cursor-pointer hover-shadow-lg bg-card text-card-foreground",{"row items-center":t.isListView}])},{default:K(()=>[t.isListView?(L(),G("div",Ol,[Y("div",Nl,[Y("h3",Dl,ne(t.note.title||"Untitled"),1),t.note.type==="todo"?(L(),G("p",Ll,[A(re,{name:"check_square",size:"16px",class:"q-mr-xs"}),et(" "+ne(i.completedTodos)+"/"+ne(i.totalTodos)+" completed ",1)])):(L(),G("p",zl,ne(t.note.content),1))]),t.note.image?(L(),ie(ze,{key:0,src:t.note.image||"/placeholder.svg",alt:"Note image",class:"col-auto q-ml-md",style:{width:"48px",height:"48px","border-radius":"4px","object-fit":"cover"}},null,8,["src"])):ue("",!0)])):(L(),G(ye,{key:1},[A(ge,null,{default:K(()=>[Y("div",jl,ne(t.note.title||"Untitled"),1)]),_:1}),A(ge,null,{default:K(()=>[t.note.type==="todo"?(L(),G("div",Ul,[(L(!0),G(ye,null,Ke(t.note.items.slice(0,3),(d,p)=>(L(),G("div",{key:d.id,class:De(["text-body2",{"text-strike text-muted-foreground":d.completed}])},ne(d.text||"Untitled item"),3))),128)),t.note.items.length>3?(L(),G("p",Ql," +"+ne(t.note.items.length-3)+" more items ",1)):ue("",!0),Y("p",Hl,[A(re,{name:"check_square",size:"16px",class:"q-mr-xs"}),et(" "+ne(i.completedTodos)+"/"+ne(i.totalTodos)+" completed ",1)])])):(L(),G("div",Kl,[Y("p",Zl,ne(t.note.content),1),t.note.image?(L(),ie(ze,{key:0,src:t.note.image||"/placeholder.svg",alt:"Note image",class:"q-mt-md",style:{width:"100%",height:"128px","border-radius":"4px","object-fit":"cover"}},null,8,["src"])):ue("",!0),t.note.voiceMemo?(L(),ie(o,{key:1,src:t.note.voiceMemo,controls:"",class:"q-mt-md"},null,8,["src"])):ue("",!0)]))]),_:1})],64))]),_:1},8,["onClick","class"])}const Gl=Re(Il,[["render",Wl],["__scopeId","data-v-1e2132e1"]]),Yl=b("div",{class:"q-space"}),Jl=ee({name:"QSpace",setup(){return()=>Yl}});function Xl(e,l){const t=M(null),n=m(()=>e.disable===!0?null:b("span",{ref:t,class:"no-outline",tabindex:-1}));function u(i){const o=l.value;i!==void 0&&i.type.indexOf("key")===0?o!==null&&document.activeElement!==o&&o.contains(document.activeElement)===!0&&o.focus():t.value!==null&&(i===void 0||o!==null&&o.contains(i.target)===!0)&&t.value.focus()}return{refocusTargetEl:n,refocusTarget:u}}const en={xs:30,sm:35,md:40,lg:50,xl:60},tn={...Ue,...jt,...Ye,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},ln=["update:modelValue"];function nn(e,l){const{props:t,slots:n,emit:u,proxy:i}=te(),{$q:o}=i,d=Qe(t,o),p=M(null),{refocusTargetEl:k,refocusTarget:h}=Xl(t,p),c=zt(t,en),x=m(()=>t.val!==void 0&&Array.isArray(t.modelValue)),y=m(()=>{const a=me(t.val);return x.value===!0?t.modelValue.findIndex(w=>me(w)===a):-1}),S=m(()=>x.value===!0?y.value>-1:me(t.modelValue)===me(t.trueValue)),R=m(()=>x.value===!0?y.value===-1:me(t.modelValue)===me(t.falseValue)),O=m(()=>S.value===!1&&R.value===!1),V=m(()=>t.disable===!0?-1:t.tabindex||0),C=m(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(t.disable===!0?" disabled":"")+(d.value===!0?` q-${e}--dark`:"")+(t.dense===!0?` q-${e}--dense`:"")+(t.leftLabel===!0?" reverse":"")),Q=m(()=>{const a=S.value===!0?"truthy":R.value===!0?"falsy":"indet",w=t.color!==void 0&&(t.keepColor===!0||(e==="toggle"?S.value===!0:R.value!==!0))?` text-${t.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${a}${w}`}),z=m(()=>{const a={type:"checkbox"};return t.name!==void 0&&Object.assign(a,{".checked":S.value,"^checked":S.value===!0?"checked":void 0,name:t.name,value:x.value===!0?t.val:t.trueValue}),a}),j=qt(z),T=m(()=>{const a={tabindex:V.value,role:e==="toggle"?"switch":"checkbox","aria-label":t.label,"aria-checked":O.value===!0?"mixed":S.value===!0?"true":"false"};return t.disable===!0&&(a["aria-disabled"]="true"),a});function $(a){a!==void 0&&(Ne(a),h(a)),t.disable!==!0&&u("update:modelValue",_(),a)}function _(){if(x.value===!0){if(S.value===!0){const a=t.modelValue.slice();return a.splice(y.value,1),a}return t.modelValue.concat([t.val])}if(S.value===!0){if(t.toggleOrder!=="ft"||t.toggleIndeterminate===!1)return t.falseValue}else if(R.value===!0){if(t.toggleOrder==="ft"||t.toggleIndeterminate===!1)return t.trueValue}else return t.toggleOrder!=="ft"?t.trueValue:t.falseValue;return t.indeterminateValue}function s(a){(a.keyCode===13||a.keyCode===32)&&Ne(a)}function r(a){(a.keyCode===13||a.keyCode===32)&&$(a)}const g=l(S,O);return Object.assign(i,{toggle:$}),()=>{const a=g();t.disable!==!0&&j(a,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const w=[b("div",{class:Q.value,style:c.value,"aria-hidden":"true"},a)];k.value!==null&&w.push(k.value);const B=t.label!==void 0?Ee(n.default,[t.label]):X(n.default);return B!==void 0&&w.push(b("div",{class:`q-${e}__label q-anchor--skip`},B)),b("div",{ref:p,class:C.value,...T.value,onClick:$,onKeydown:s,onKeyup:r},w)}}const on=b("div",{key:"svg",class:"q-checkbox__bg absolute"},[b("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[b("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),b("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]),an=ee({name:"QCheckbox",props:tn,emits:ln,setup(e){function l(t,n){const u=m(()=>(t.value===!0?e.checkedIcon:n.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>u.value!==null?[b("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[b(re,{class:"q-checkbox__icon",name:u.value})])]:[on]}return nn("checkbox",l)}}),St=ee({name:"QCardActions",props:{...Ut,vertical:Boolean},setup(e,{slots:l}){const t=Qt(e),n=m(()=>`q-card__actions ${t.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>b("div",{class:n.value},X(l.default))}}),rn=["top","right","bottom","left"],Vt={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:e=>rn.includes(e)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function Bt(e,l){return{formClass:m(()=>`q-fab--form-${e.square===!0?"square":"rounded"}`),stacked:m(()=>e.externalLabel===!1&&["top","bottom"].includes(e.labelPosition)),labelProps:m(()=>{if(e.externalLabel===!0){const t=e.hideLabel===null?l.value===!1:e.hideLabel;return{action:"push",data:{class:[e.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${e.labelPosition}`+(t===!0?" q-fab__label--external-hidden":"")],style:e.labelStyle}}}return{action:["left","top"].includes(e.labelPosition)?"unshift":"push",data:{class:[e.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${e.labelPosition}`+(e.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:e.labelStyle}}})}}const Mt={start:"self-end",center:"self-center",end:"self-start"},sn=Object.keys(Mt),Oe=ee({name:"QFabAction",props:{...Vt,icon:{type:String,default:""},anchor:{type:String,validator:e=>sn.includes(e)},to:[String,Object],replace:Boolean},emits:["click"],setup(e,{slots:l,emit:t}){const n=$e(ht,()=>({showing:{value:!0},onChildClick:Ht})),{formClass:u,labelProps:i}=Bt(e,n.showing),o=m(()=>{const c=Mt[e.anchor];return u.value+(c!==void 0?` ${c}`:"")}),d=m(()=>e.disable===!0||n.showing.value!==!0);function p(c){n.onChildClick(c),t("click",c)}function k(){const c=[];return l.icon!==void 0?c.push(l.icon()):e.icon!==""&&c.push(b(re,{name:e.icon})),(e.label!==""||l.label!==void 0)&&c[i.value.action](b("div",i.value.data,l.label!==void 0?l.label():[e.label])),Ee(l.default,c)}const h=te();return Object.assign(h.proxy,{click:p}),()=>b(ae,{class:o.value,...e,noWrap:!0,stack:e.stacked,icon:void 0,label:void 0,noCaps:!0,fabMini:!0,disable:d.value,onClick:p},k)}}),un=["up","right","down","left"],cn=["left","center","right"],dn=ee({name:"QFab",props:{...Vt,...bt,icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{default:null},direction:{type:String,default:"right",validator:e=>un.includes(e)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:e=>cn.includes(e)}},emits:pt,setup(e,{slots:l}){const t=M(null),n=M(e.modelValue===!0),u=We(),{proxy:{$q:i}}=te(),{formClass:o,labelProps:d}=Bt(e,n),p=m(()=>e.persistent!==!0),{hide:k,toggle:h}=yt({showing:n,hideOnRouteChange:p}),c=m(()=>({opened:n.value})),x=m(()=>`q-fab z-fab row inline justify-center q-fab--align-${e.verticalActionsAlign} ${o.value}`+(n.value===!0?" q-fab--opened":" q-fab--closed")),y=m(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${e.direction} q-fab__actions--${n.value===!0?"opened":"closed"}`),S=m(()=>{const C={id:u,role:"menu"};return n.value!==!0&&(C["aria-hidden"]="true"),C}),R=m(()=>`q-fab__icon-holder  q-fab__icon-holder--${n.value===!0?"opened":"closed"}`);function O(C,Q){const z=l[C],j=`q-fab__${C} absolute-full`;return z===void 0?b(re,{class:j,name:e[Q]||i.iconSet.fab[Q]}):b("div",{class:j},z(c.value))}function V(){const C=[];return e.hideIcon!==!0&&C.push(b("div",{class:R.value},[O("icon","icon"),O("active-icon","activeIcon")])),(e.label!==""||l.label!==void 0)&&C[d.value.action](b("div",d.value.data,l.label!==void 0?l.label(c.value):[e.label])),Ee(l.tooltip,C)}return Kt(ht,{showing:n,onChildClick(C){k(C),t.value!==null&&t.value.$el.focus()}}),()=>b("div",{class:x.value},[b(ae,{ref:t,class:o.value,...e,noWrap:!0,stack:e.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":n.value===!0?"true":"false","aria-haspopup":"true","aria-controls":u,onClick:h},V),b("div",{class:y.value,...S.value},X(l.default))])}}),fn={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>e.length===2},expand:Boolean};function vn(){const{props:e,proxy:{$q:l}}=te(),t=$e(Zt,Te);if(t===Te)return console.error("QPageSticky needs to be child of QLayout"),Te;const n=m(()=>{const c=e.position;return{top:c.indexOf("top")>-1,right:c.indexOf("right")>-1,bottom:c.indexOf("bottom")>-1,left:c.indexOf("left")>-1,vertical:c==="top"||c==="bottom",horizontal:c==="left"||c==="right"}}),u=m(()=>t.header.offset),i=m(()=>t.right.offset),o=m(()=>t.footer.offset),d=m(()=>t.left.offset),p=m(()=>{let c=0,x=0;const y=n.value,S=l.lang.rtl===!0?-1:1;y.top===!0&&u.value!==0?x=`${u.value}px`:y.bottom===!0&&o.value!==0&&(x=`${-o.value}px`),y.left===!0&&d.value!==0?c=`${S*d.value}px`:y.right===!0&&i.value!==0&&(c=`${-S*i.value}px`);const R={transform:`translate(${c}, ${x})`};return e.offset&&(R.margin=`${e.offset[1]}px ${e.offset[0]}px`),y.vertical===!0?(d.value!==0&&(R[l.lang.rtl===!0?"right":"left"]=`${d.value}px`),i.value!==0&&(R[l.lang.rtl===!0?"left":"right"]=`${i.value}px`)):y.horizontal===!0&&(u.value!==0&&(R.top=`${u.value}px`),o.value!==0&&(R.bottom=`${o.value}px`)),R}),k=m(()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--${e.expand===!0?"expand":"shrink"}`);function h(c){const x=X(c.default);return b("div",{class:k.value,style:p.value},e.expand===!0?x:[b("div",x)])}return{$layout:t,getStickyContent:h}}const mn=ee({name:"QPageSticky",props:fn,setup(e,{slots:l}){const{getStickyContent:t}=vn();return()=>t(l)}});function gn(){let e;const l=te();function t(){e=void 0}return mt(t),ve(t),{removeTick:t,registerTick(n){e=n,se(()=>{e===n&&(Wt(l)===!1&&e(),e=void 0)})}}}const hn={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function bn(e,l=()=>{},t=()=>{}){return{transitionProps:m(()=>{const n=`q-transition--${e.transitionShow||l()}`,u=`q-transition--${e.transitionHide||t()}`;return{appear:!0,enterFromClass:`${n}-enter-from`,enterActiveClass:`${n}-enter-active`,enterToClass:`${n}-enter-to`,leaveFromClass:`${u}-leave-from`,leaveActiveClass:`${u}-leave-active`,leaveToClass:`${u}-leave-to`}}),transitionStyle:m(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}const Ve=[];function pn(e){return Ve.find(l=>l.contentEl!==null&&l.contentEl.contains(e))}function yn(e,l){do{if(e.$options.name==="QMenu"){if(e.hide(l),e.$props.separateClosePopup===!0)return qe(e)}else if(e.__qPortal===!0){const t=qe(e);return t!==void 0&&t.$options.name==="QPopupProxy"?(e.hide(l),t):e}e=qe(e)}while(e!=null)}function kn(e,l,t){for(;t!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(t--,e.$options.name==="QMenu"){e=yn(e,l);continue}e.hide(l)}e=qe(e)}}function xn(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function _n(e,l,t,n){const u=M(!1),i=M(!1);let o=null;const d={},p=n==="dialog"&&xn(e);function k(c){if(c===!0){it(d),i.value=!0;return}i.value=!1,u.value===!1&&(p===!1&&o===null&&(o=Yt(!1,n)),u.value=!0,Ve.push(e.proxy),gl(d))}function h(c){if(i.value=!1,c!==!0)return;it(d),u.value=!1;const x=Ve.indexOf(e.proxy);x!==-1&&Ve.splice(x,1),o!==null&&(Jt(o),o=null)}return Ze(()=>{h(!0)}),e.proxy.__qPortal=!0,je(e.proxy,"contentEl",()=>l.value),{showPortal:k,hidePortal:h,portalIsActive:u,portalIsAccessible:i,renderPortal:()=>p===!0?t():u.value===!0?[b(Gt,{to:o},t())]:void 0}}const de=[];let he;function wn(e){he=e.keyCode===27}function Cn(){he===!0&&(he=!1)}function qn(e){he===!0&&(he=!1,kt(e,27)===!0&&de[de.length-1](e))}function $t(e){window[e]("keydown",wn),window[e]("blur",Cn),window[e]("keyup",qn),he=!1}function Sn(e){He.is.desktop===!0&&(de.push(e),de.length===1&&$t("addEventListener"))}function ut(e){const l=de.indexOf(e);l>-1&&(de.splice(l,1),de.length===0&&$t("removeEventListener"))}const fe=[];function Et(e){fe[fe.length-1](e)}function Vn(e){He.is.desktop===!0&&(fe.push(e),fe.length===1&&document.body.addEventListener("focusin",Et))}function ct(e){const l=fe.indexOf(e);l>-1&&(fe.splice(l,1),fe.length===0&&document.body.removeEventListener("focusin",Et))}let Ce=0;const Bn={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},dt={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},ft=ee({name:"QDialog",inheritAttrs:!1,props:{...bt,...hn,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...pt,"shake","click","escapeKey"],setup(e,{slots:l,emit:t,attrs:n}){const u=te(),i=M(null),o=M(!1),d=M(!1);let p=null,k=null,h,c;const x=m(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:y}=tl(),{registerTimeout:S}=Xt(),{registerTick:R,removeTick:O}=gn(),{transitionProps:V,transitionStyle:C}=bn(e,()=>dt[e.position][0],()=>dt[e.position][1]),{showPortal:Q,hidePortal:z,portalIsAccessible:j,renderPortal:T}=_n(u,i,le,"dialog"),{hide:$}=yt({showing:o,hideOnRouteChange:x,handleShow:B,handleHide:N,processOnMount:!0}),{addToHistory:_,removeFromHistory:s}=el(o,$,x),r=m(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Bn[e.position]}`+(d.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),g=m(()=>o.value===!0&&e.seamless!==!0),a=m(()=>e.autoClose===!0?{onClick:U}:{}),w=m(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${g.value===!0?"modal":"seamless"}`,n.class]);Z(()=>e.maximized,q=>{o.value===!0&&P(q)}),Z(g,q=>{y(q),q===!0?(Vn(D),Sn(F)):(ct(D),ut(F))});function B(q){_(),k=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,P(e.maximized),Q(),d.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),R(E)):O(),S(()=>{if(u.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:I,bottom:oe}=document.activeElement.getBoundingClientRect(),{innerHeight:Je}=window,Ae=window.visualViewport!==void 0?window.visualViewport.height:Je;I>0&&oe>Ae/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-Ae,oe>=Je?1/0:Math.ceil(document.scrollingElement.scrollTop+oe-Ae/2))),document.activeElement.scrollIntoView()}c=!0,i.value.click(),c=!1}Q(!0),d.value=!1,t("show",q)},e.transitionDuration)}function N(q){O(),s(),J(!0),d.value=!0,z(),k!==null&&(((q&&q.type.indexOf("key")===0?k.closest('[tabindex]:not([tabindex^="-"])'):void 0)||k).focus(),k=null),S(()=>{z(!0),d.value=!1,t("hide",q)},e.transitionDuration)}function E(q){Ge(()=>{let I=i.value;I===null||I.contains(document.activeElement)===!0||(I=(q!==""?I.querySelector(q):null)||I.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||I.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||I.querySelector("[autofocus], [data-autofocus]")||I,I.focus({preventScroll:!0}))})}function f(q){q&&typeof q.focus=="function"?q.focus({preventScroll:!0}):E(),t("shake");const I=i.value;I!==null&&(I.classList.remove("q-animate--scale"),I.classList.add("q-animate--scale"),p!==null&&clearTimeout(p),p=setTimeout(()=>{p=null,i.value!==null&&(I.classList.remove("q-animate--scale"),E())},170))}function F(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&f():(t("escapeKey"),$()))}function J(q){p!==null&&(clearTimeout(p),p=null),(q===!0||o.value===!0)&&(P(!1),e.seamless!==!0&&(y(!1),ct(D),ut(F))),q!==!0&&(k=null)}function P(q){q===!0?h!==!0&&(Ce<1&&document.body.classList.add("q-body--dialog"),Ce++,h=!0):h===!0&&(Ce<2&&document.body.classList.remove("q-body--dialog"),Ce--,h=!1)}function U(q){c!==!0&&($(q),t("click",q))}function v(q){e.persistent!==!0&&e.noBackdropDismiss!==!0?$(q):e.noShake!==!0&&f()}function D(q){e.allowFocusOutside!==!0&&j.value===!0&&ll(i.value,q.target)!==!0&&E('[tabindex]:not([tabindex="-1"])')}Object.assign(u.proxy,{focus:E,shake:f,__updateRefocusTarget(q){k=q||null}}),ve(J);function le(){return b("div",{role:"dialog","aria-modal":g.value===!0?"true":"false",...n,class:w.value},[b(Be,{name:"q-transition--fade",appear:!0},()=>g.value===!0?b("div",{class:"q-dialog__backdrop fixed-full",style:C.value,"aria-hidden":"true",tabindex:-1,onClick:v}):null),b(Be,V.value,()=>o.value===!0?b("div",{ref:i,class:r.value,style:C.value,tabindex:-1,...a.value},X(l.default)):null)])}return T}});function vt(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const l=parseInt(e,10);return isNaN(l)?0:l}const Rt=nl({name:"close-popup",beforeMount(e,{value:l}){const t={depth:vt(l),handler(n){t.depth!==0&&setTimeout(()=>{const u=pn(e);u!==void 0&&kn(u,n,t.depth)})},handlerKey(n){kt(n,13)===!0&&t.handler(n)}};e.__qclosepopup=t,e.addEventListener("click",t.handler),e.addEventListener("keyup",t.handlerKey)},updated(e,{value:l,oldValue:t}){l!==t&&(e.__qclosepopup.depth=vt(l))},beforeUnmount(e){const l=e.__qclosepopup;e.removeEventListener("click",l.handler),e.removeEventListener("keyup",l.handlerKey),delete e.__qclosepopup}});function Mn(){return $e(ol)}const $n={name:"CameraPreview",emits:["capture","close"],setup(e,{emit:l}){const t=M(null);let n=null;const u=async()=>{try{n=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),t.value&&(t.value.srcObject=n)}catch(d){console.error("Error accessing camera:",d),l("close")}},i=()=>{n&&n.getTracks().forEach(d=>d.stop())},o=()=>{const d=document.createElement("canvas");d.width=t.value.videoWidth,d.height=t.value.videoHeight,d.getContext("2d").drawImage(t.value,0,0);const p=d.toDataURL("image/jpeg");l("capture",p),i()};return be(()=>{u()}),Ze(()=>{i()}),{videoElement:t,captureImage:o}}},En={ref:"videoElement",autoplay:"",playsinline:"",class:"full-width"};function Rn(e,l,t,n,u,i){return L(),ie(Fe,{class:"camera-preview"},{default:K(()=>[A(ge,null,{default:K(()=>[Y("video",En,null,512)]),_:1}),A(St,{align:"right"},{default:K(()=>[xt(A(ae,{flat:"",label:"Close",color:"primary"},null,512),[[Rt]]),A(ae,{flat:"",label:"Capture",color:"primary",onClick:n.captureImage},null,8,["onClick"])]),_:1})]),_:1})}const Fn=Re($n,[["render",Rn],["__scopeId","data-v-a46b76bb"]]),An={class:"text-h6"},Tn={key:2,class:"q-mt-md"},Pn={class:"absolute-top-right"},In={key:3,class:"q-mt-md"},On=["src"],Nn={__name:"NoteModal",props:{note:{type:Object,required:!0}},emits:["update","delete","close"],setup(e,{emit:l}){const t=e,n=l,u=Mn(),i=M(!0),o=al({...t.note}),d=M(null),p=M(!1),k=M(!1),h=M(null),c=M([]);Z(()=>t.note,s=>{Object.assign(o,s)});const x=()=>{y(o)?n("delete",o.id):n("update",o),n("close")},y=s=>s.title.trim()===""&&s.content.trim()===""&&!s.image&&!s.voiceMemo&&(s.type!=="todo"||s.items&&s.items.every(r=>r.text.trim()==="")),S=()=>{n("update",o),i.value=!1},R=()=>{u.dialog({title:"Confirm",message:"Are you sure you want to delete this note?",cancel:!0,persistent:!0}).onOk(()=>{n("delete",o.id),i.value=!1})},O=()=>{o.type==="todo"&&o.items.push({id:Date.now(),text:"",completed:!1})},V=(s,r)=>{o.type==="todo"&&(o.items[s].text=r)},C=()=>{d.value.click()},Q=s=>{const r=s.target.files[0];if(r){const g=new FileReader;g.onload=a=>{o.image=a.target.result},g.readAsDataURL(r)}},z=()=>{o.image=null},j=()=>{p.value=!0},T=s=>{o.image=s,p.value=!1},$=async()=>{if(k.value)_();else try{const s=await navigator.mediaDevices.getUserMedia({audio:!0});h.value=new MediaRecorder(s),h.value.ondataavailable=r=>{c.value.push(r.data)},h.value.onstop=()=>{const r=new Blob(c.value,{type:"audio/webm"});o.voiceMemo=URL.createObjectURL(r),c.value=[]},h.value.start(),k.value=!0}catch(s){console.error("Error accessing microphone:",s),u.notify({color:"negative",message:"Error accessing microphone. Please check your permissions."})}},_=()=>{h.value&&h.value.state!=="inactive"&&(h.value.stop(),k.value=!1)};return be(()=>{window.addEventListener("beforeunload",_)}),Ze(()=>{window.removeEventListener("beforeunload",_),_()}),(s,r)=>(L(),ie(ft,{modelValue:i.value,"onUpdate:modelValue":r[4]||(r[4]=g=>i.value=g),onHide:x,maximized:"","transition-show":"slide-up","transition-hide":"slide-down"},{default:K(()=>[A(Fe,{class:"column full-height"},{default:K(()=>[A(ge,{class:"row items-center q-pb-none"},{default:K(()=>[Y("div",An,ne(o.title||"Untitled"),1),A(Jl),xt(A(ae,{icon:"close",flat:"",round:"",dense:""},null,512),[[Rt]])]),_:1}),A(ge,{class:"q-pa-sm flex-grow-1 overflow-auto"},{default:K(()=>[A(Se,{modelValue:o.title,"onUpdate:modelValue":r[0]||(r[0]=g=>o.title=g),label:"Title",dense:"",autofocus:"",class:"q-mb-md"},null,8,["modelValue"]),o.type==="todo"?(L(),G(ye,{key:0},[(L(!0),G(ye,null,Ke(o.items,(g,a)=>(L(),G("div",{key:g.id,class:"q-mb-sm"},[A(an,{modelValue:g.completed,"onUpdate:modelValue":[w=>g.completed=w,w=>V(a,g.text)],label:g.text},null,8,["modelValue","onUpdate:modelValue","label"]),A(Se,{modelValue:g.text,"onUpdate:modelValue":[w=>g.text=w,w=>V(a,w)],dense:"",class:"q-ml-lg"},null,8,["modelValue","onUpdate:modelValue"])]))),128)),A(ae,{label:"Add Item",icon:"add",color:"primary",onClick:O,class:"q-mt-sm"})],64)):(L(),ie(Se,{key:1,modelValue:o.content,"onUpdate:modelValue":r[1]||(r[1]=g=>o.content=g),type:"textarea",label:"Content",autogrow:""},null,8,["modelValue"])),o.image?(L(),G("div",Tn,[A(ze,{src:o.image,"spinner-color":"primary",style:{"max-height":"1000px"}},{default:K(()=>[Y("div",Pn,[A(ae,{round:"",color:"negative",icon:"delete",size:"sm",onClick:z})])]),_:1},8,["src"])])):ue("",!0),o.voiceMemo?(L(),G("div",In,[Y("audio",{src:o.voiceMemo,controls:"",class:"full-width"},null,8,On)])):ue("",!0)]),_:1}),A(St,{position:"bottom-left"},{default:K(()=>[A(ae,{flat:"",color:"negative",label:"Delete",onClick:R}),A(ae,{flat:"",color:"primary",label:"Save",onClick:S})]),_:1}),A(mn,{position:"bottom-right",offset:[18,18]},{default:K(()=>[A(dn,{icon:"add",direction:"up",color:"primary"},{default:K(()=>[A(Oe,{color:"primary",icon:"attach_file",onClick:C}),A(Oe,{color:"primary",icon:"photo_camera",onClick:j}),A(Oe,{color:"primary",icon:k.value?"stop":"mic",onClick:$},null,8,["icon"])]),_:1})]),_:1})]),_:1}),Y("input",{type:"file",ref_key:"fileInput",ref:d,accept:"image/*",style:{display:"none"},onChange:Q},null,544),A(ft,{modelValue:p.value,"onUpdate:modelValue":r[3]||(r[3]=g=>p.value=g)},{default:K(()=>[A(Fn,{onCapture:T,onClose:r[2]||(r[2]=g=>p.value=!1)})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]))}},Dn=Re(Nn,[["__scopeId","data-v-b7dc3a28"]]),Ln=e=>(rl("data-v-8988b9ee"),e=e(),sl(),e),zn={class:"row q-col-gutter-md"},jn={class:"col-12"},Un={class:"col-12"},Qn={class:"col-12"},Hn={class:"row items-center"},Kn=Ln(()=>Y("div",{class:"text-primary q-ml-sm"},"Click to create...",-1)),Zn={__name:"HomeView",setup(e){const l=Fl(),t=M(""),n=M(null),u=M("grid"),i=m(()=>l.notes.filter(c=>c.title.toLowerCase().includes(t.value.toLowerCase())||c.content.toLowerCase().includes(t.value.toLowerCase()))),o=async c=>{const x={title:"",content:"",type:c,...c==="todo"?{items:[]}:{}};await l.addNote(x),n.value=x},d=async c=>{await l.updateNote(c.id,c),n.value=null},p=async c=>{await l.deleteNote(c),n.value=null},k=c=>{n.value=c},h=()=>{n.value=null};return be(()=>{l.fetchNotes()}),(c,x)=>(L(),ie(il,{padding:""},{default:K(()=>[Y("div",zn,[Y("div",jn,[A(Se,{modelValue:t.value,"onUpdate:modelValue":x[0]||(x[0]=y=>t.value=y),filled:"",type:"search",label:"Search notes"},{prepend:K(()=>[A(re,{name:"search"})]),_:1},8,["modelValue"])]),Y("div",Un,[A(Rl,{modelValue:u.value,"onUpdate:modelValue":x[1]||(x[1]=y=>u.value=y),spread:"","no-caps":"","toggle-color":"primary",color:"white","text-color":"primary",options:[{label:"Grid",value:"grid",icon:"grid_view"},{label:"List",value:"list",icon:"view_list"}]},null,8,["modelValue"])]),Y("div",Qn,[A(Fe,{class:"quick-create-area cursor-pointer",onClick:x[2]||(x[2]=y=>o("note"))},{default:K(()=>[A(ge,null,{default:K(()=>[Y("div",Hn,[A(re,{name:"add",size:"sm",color:"primary"}),Kn])]),_:1})]),_:1})]),(L(!0),G(ye,null,Ke(i.value,y=>(L(),G("div",{key:y.id,class:De({"col-12":u.value==="list","col-12 col-md-6 col-lg-4":u.value==="grid"})},[A(Gl,{note:y,"is-list-view":u.value==="list",onClick:S=>k(y)},null,8,["note","is-list-view","onClick"])],2))),128))]),n.value?(L(),ie(Dn,{key:0,note:n.value,onClose:h,onUpdate:d,onDelete:p},null,8,["note"])):ue("",!0)]),_:1}))}},Gn=Re(Zn,[["__scopeId","data-v-8988b9ee"]]);export{Gn as default};
